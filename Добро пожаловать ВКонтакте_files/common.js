(window.webpackJsonp=window.webpackJsonp||[]).push([["common"],{"+/AQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n("ofcU");function o(e,t){return bodyNode[e]||document.documentElement[e]}class a{constructor(e,t){this.el=e,this.opts=t,this.module=Object(r.a)({handlers:(e,t)=>{e(window,"scroll",this.onScroll.bind(this)),e(window,"resize",this.resize.bind(this))}}),this.innerHeight=window.innerHeight,this.prevScroll=this.scrollTop()}update(){}resize(){this.innerHeight=window.innerHeight}scrollTop(e){if(void 0===e)return o("scrollTop",this.el);!function(e,t,n){"scrollTop"===e&&window.scrollTo(0,t)}("scrollTop",e,this.el)}contHeight(){return o("scrollHeight")}smoothScroll(e){scrollToY(e+this.scrollTop(),300)}getContainer(){return this.el}getScroller(){return null}scrollBottom(e){if(void 0===e)return this.contHeight()-this.scrollTop()-this.getScrollHeight();var t=this.contHeight()-e-this.getScrollHeight();this.scrollTop(t)}scrollBottomFixSave(e){var t=()=>{Date.now()-n<500&&this.scrollBottom(e),window.removeEventListener("scroll",t)},n=Date.now();window.addEventListener("scroll",t),this.scrollBottom(e)}onScroll(e){var t=this.scrollTop(),n=t-this.prevScroll,r=this.contHeight();this.opts.onScroll&&this.opts.onScroll(-n,this),this.opts.scrollChange&&this.opts.scrollChange(t),this.opts.more&&r-t<2*this.innerHeight&&this.opts.more(this),this.prevScroll=t}getScrollHeight(){return this.innerHeight}destroy(){Object(r.c)(this.module)}}class i{constructor(e,t){this.prevTop=0,this.scroll=new uiScroll(e,{hidden:void 0===t.hidden||t.hidden,shadows:t.shadows,stopScrollPropagation:!1,theme:t.scrollTheme,onmore:()=>t.more&&t.more(this),onscroll:e=>{var n=this.scrollTop(),r=this.prevTop-n;this.prevTop=n,t.scrollChange&&t.scrollChange(n),t.onScroll&&t.onScroll(r,this)}})}update(){this.scroll.update("sync")}scrollTop(e){return void 0!==e?this.scroll.scrollTop(e):this.scroll.data.scrollTop}getContainer(){return this.scroll.content}getScroller(){return this.scroll.scroller}contHeight(){return this.scroll.data.scrollHeight}smoothScroll(e){this.scroll.scrollTop(this.scrollTop()+e,300)}scrollBottom(e){return void 0!==e?this.scroll.scrollBottom(e):this.scroll.data.scrollBottom}scrollBottomFixSave(e){var t=Date.now();this.scroll.emitter.addOnceListener("resize",()=>{Date.now()-t<500&&this.scroll&&this.scrollBottom(e)}),this.scrollBottom(e)}getScrollHeight(){return this.scroll.data.viewportHeight}destroy(){this.scroll.destroy()}}class s{constructor(e,t){this.el=e}update(){}getContainer(){return this.el}getScroller(){return null}scrollTop(e){return 0}contHeight(){return 0}smoothScroll(e){}scrollBottom(e){return 0}scrollBottomFixSave(e){}getScrollHeight(){return 0}destroy(){}}function c(e,t){return t.noScroll?new s(e):t.nativeScroll?new a(e,t):new i(e,t)}},"+MXk":function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return emailNotConfirmed})),__webpack_require__.d(__webpack_exports__,"k",(function(){return showCaptcha})),__webpack_require__.d(__webpack_exports__,"g",(function(){return mobileValidationRequired})),__webpack_require__.d(__webpack_exports__,"i",(function(){return passwordValidationRequired})),__webpack_require__.d(__webpack_exports__,"a",(function(){return authFailed})),__webpack_require__.d(__webpack_exports__,"e",(function(){return makeRedirect})),__webpack_require__.d(__webpack_exports__,"j",(function(){return reload})),__webpack_require__.d(__webpack_exports__,"f",(function(){return mobileActivationRequired})),__webpack_require__.d(__webpack_exports__,"m",(function(){return showMessage})),__webpack_require__.d(__webpack_exports__,"l",(function(){return showError})),__webpack_require__.d(__webpack_exports__,"n",(function(){return votesPayment})),__webpack_require__.d(__webpack_exports__,"h",(function(){return otpBox})),__webpack_require__.d(__webpack_exports__,"o",(function(){return zeroZone})),__webpack_require__.d(__webpack_exports__,"d",(function(){return evalCode})),__webpack_require__.d(__webpack_exports__,"b",(function(){return defaultHandler}));var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("91GP"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("pIFo"),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("cGUQ"),_web_auth_auth__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("FaHp"),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("t7n3"),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("EasH"),_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("zxIV"),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("98sY"),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("ryw6"),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("kcIO"),_web_gifts_gifts__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("HwS1"),_modal_box__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("eQf/"),_web_lib_environment__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("wVf2");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function resetOptionsCache(e){return e.cache?_extends({},e,{cache:-1}):e}function emailNotConfirmed(e,t){Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__.d)({width:520,title:t[0],onDestroy:e.onFail},t[1])}function showCaptcha(e,t,n){2===Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.r)(t[1])?e._captcha=Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__.e)(t[0],t[2],e._captcha,{onSubmit:function(t){var r=_extends({},n,{recaptcha:t,captcha_sid:null,captcha_key:null});e.resend(r,resetOptionsCache(e))},onDestroy:function(){e.onFail&&e.onFail()}}):e._captcha=Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__.c)(t[0],Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.r)(t[1]),e._captcha,{onSubmit:function(t,r){var o=_extends({},n,{captcha_sid:t,captcha_key:r});e.resend(o,resetOptionsCache(e))},onDestroy:function(){e.onFail&&e.onFail()}}),e._suggest=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.L)("phone_validation_link",e._captcha.bodyNode),e._suggest&&addEvent(e._suggest,"click",(function(){e._box=Object(_modal_box__WEBPACK_IMPORTED_MODULE_11__.c)({onDone:e._captcha.submit})}))}var mobileValidationRequired=e=>(t,n,r)=>{t._box=Object(_modal_box__WEBPACK_IMPORTED_MODULE_11__.c)({acceptCaptcha:11===e,onDone:function(e,n){vk.nophone=0,e&&(t._captcha=Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_9__.b)());var o=e?_extends({},r,{captcha_sid:e,captcha_key:n}):r;t.resend(o,resetOptionsCache(t))},onFail:t.onFail,hash:n[0],ahash:n[1]})};function passwordValidationRequired(e,t,n){e._box=Object(_modal_box__WEBPACK_IMPORTED_MODULE_11__.e)({onDone:()=>e.resend(n,resetOptionsCache(e)),onFail:e.onFail,hash:t[0]})}function authFailed(e,t,n){window.onReLoginDone=()=>e.resend(n,resetOptionsCache(e)),window.onReLoginFailed=function(e,t){Object(_web_auth_auth__WEBPACK_IMPORTED_MODULE_3__.a)(),t?nav.go(t,null,{hard:!0}):-1===e?location.href=location.href.replace(/^http:/,"https:"):e?nav.go("/"):window.onReLoginDone()},window.utilsNode.appendChild(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.g)("iframe",{src:Object(_web_lib_environment__WEBPACK_IMPORTED_MODULE_12__.a)()+"?"+Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_2__.toQueryString)({role:"al_frame",_origin:window.locProtocol+"//"+window.locHost,ip_h:t[0]||window.vk.ip_h,to:t[1]||""})}))}function makeRedirect(e,t){Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.r)(t[1])?nav.go(t[0],!1,{nocur:"2"===t[1],noback:!0===t[1],showProgress:e.showProgress,hideProgress:e.hideProgress}):(hab.stop(),location.href=t[0])}function reload(e,t,n,r){nav.reload({force:Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.r)(t[0]),from:1,url:r,query:n&&Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_2__.toQueryString)(n)})}function mobileActivationRequired(e,t,n){e._box=Object(_modal_box__WEBPACK_IMPORTED_MODULE_11__.a)({onDone:e.resend(n,resetOptionsCache(e)),onFail:e.onFail,hash:t[0]})}function showMessage(e,t){e.onFail&&e.onFail(),Object(_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_8__.d)(t[0],10)}function showError(e,t,n,r){e.onFail&&e.onFail(t[0])||Object(_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_8__.c)(t[0]+(t[2]?" #"+t[2]:""),{dt:t[1]?0:10,type:4,url:r,query:n&&Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_2__.toQueryString)(n)})}function votesPayment(e,t,n){var r;if(!e.fromBox&&!e.forceDone||(e.onDone&&e.onDone.apply(window,t),!e.fromBox)){e._box=Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__.d)({title:Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.I)(t[0])},t[1]),(null===(r=t[3])||void 0===r?void 0:r.countries)&&!cur.votesBoxOptions&&(cur.votesBoxOptions=t[3]),cur.votesBoxOptions&&(_web_gifts_gifts__WEBPACK_IMPORTED_MODULE_10__.a.processBoxOptions(e._box,cur.votesBoxOptions),cur.votesBoxOptions=null);var o=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.i)(Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.d)(e),{showProgress:e._box.showProgress,hideProgress:e._box.hideProgress});e.cache&&(o.cache=-1),e._box=Object(_modal_box__WEBPACK_IMPORTED_MODULE_11__.b)(e._box,(function(t){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_6__.fb)(e._box.progress)||(t||(t={_votes_ok:1}),e.resend(Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_4__.i)(n,t),o))}),e.onFail),e._box.evalBox(t[2])}}function otpBox(e,t,n){e._box=Object(_modal_box__WEBPACK_IMPORTED_MODULE_11__.d)({onDone:()=>e.resend(n,resetOptionsCache(e)),onFail:e.onFail,hash:t[0]})}function zeroZone(e,t,n){e._box=Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_5__.d)({title:t[0]||getLang("global_charged_zone_title"),onHide:e.onFail},t[1],getLang("global_charged_zone_continue"),(function(){e.resend(_extends({},n,{charged_confirm:t[3]}),e)}),getLang("global_cancel"))}function evalCode(options,answer){var evalString=`(function(){${answer[0]};})()`;if(__debugMode)eval(evalString);else try{eval(evalString)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_7__.d)(e,evalString)}}var defaultHandler=e=>(t,n)=>{if(-1===e||-2===e||-3===e){var r,o=n.pop(),a=n.pop(),i=n.pop();-3===e&&(r=n.pop()),window.__adsSet&&__adsSet(i,null,a,o,null,r)}t.onDone&&t.onDone.apply(window,n)}},"+i5L":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u}));var r,o=n("jXbq"),a=n("W9Tc"),i=n("eH33");function s(){return!window.vk.id&&!window.layers.visible&&Object(a.b)("unauthorized_media_layer_box")&&!!document.querySelector(".PageBottomBanner--unauth")}n.d(t,"b",(function(){return i.a}));var c=!1;var u={initScrollMoreBox:function(e){var t,n=function(){c=!1,window.removeEventListener("scroll",r)};n(),r=function(){var t;c||((null===(t=window.layers)||void 0===t?void 0:t.visible)||window.cur.unauthScrollMoreBox||window.pageYOffset>=2*window.innerHeight&&(c=!0,o.a.show(e)))},e.showOnLoad&&(c=!0,o.a.show(e)),window.addEventListener("scroll",r),null===(t=window.cur.beforeNavigateRequestHandlers)||void 0===t||t.push((function(){return n()}))},showMoreBox:function(e,t,n,r){e&&e.preventDefault(),window.ajax.post("/al_index.php?act=a_unauthorized_box",{action:"more",owner_id:t,source:n},{loader:!0,onDone:function(e){e.unauth_action_box?o.a.show(e.unauth_action_box,r):r&&r()}})}}},"+lvF":function(e,t,n){e.exports=n("VTer")("native-function-to-string",Function.toString)},"+rLv":function(e,t,n){var r=n("dyZX").document;e.exports=r&&r.documentElement},"+tmx":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return l}));var r=1e3,o=60*r,a=60*o,i=24*a,s=7*i,c=30*i,u="ru-RU",l={MOUSE_DOWN:"mousedown",KEY_DOWN:"keydown",SCROLL:"scroll",CLICK:"click"}},"+wdc":function(e,t,n){"use strict";var r,o,a,i;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,_=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(d,0),e}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},o=function(e,t){_=setTimeout(e,t)},a=function(){clearTimeout(_)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,b=null,g=-1,v=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var O=new MessageChannel,w=O.port2;O.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();y=e+v;try{b(!0,e)?w.postMessage(null):(m=!1,b=null)}catch(e){throw w.postMessage(null),e}}else m=!1},r=function(e){b=e,m||(m=!0,w.postMessage(null))},o=function(e,n){g=p((function(){e(t.unstable_now())}),n)},a=function(){f(g),g=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<P(o,t)))break e;e[r]=t,e[n]=o,n=r}}function j(e){return void 0===(e=e[0])?null:e}function D(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,i=e[a],s=a+1,c=e[s];if(void 0!==i&&0>P(i,n))void 0!==c&&0>P(c,i)?(e[r]=c,e[s]=n,r=s):(e[r]=i,e[a]=n,r=a);else{if(!(void 0!==c&&0>P(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],C=[],T=1,x=null,I=3,A=!1,M=!1,S=!1;function L(e){for(var t=j(C);null!==t;){if(null===t.callback)D(C);else{if(!(t.startTime<=e))break;D(C),t.sortIndex=t.expirationTime,E(k,t)}t=j(C)}}function B(e){if(S=!1,L(e),!M)if(null!==j(k))M=!0,r(R);else{var t=j(C);null!==t&&o(B,t.startTime-e)}}function R(e,n){M=!1,S&&(S=!1,a()),A=!0;var r=I;try{for(L(n),x=j(k);null!==x&&(!(x.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=x.callback;if("function"==typeof i){x.callback=null,I=x.priorityLevel;var s=i(x.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?x.callback=s:x===j(k)&&D(k),L(n)}else D(k);x=j(k)}if(null!==x)var c=!0;else{var u=j(C);null!==u&&o(B,u.startTime-n),c=!1}return c}finally{x=null,I=r,A=!1}}var N=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||A||(M=!0,r(R))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return j(k)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,i){var s=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:T++,callback:n,priorityLevel:e,startTime:i,expirationTime:c=i+c,sortIndex:-1},i>s?(e.sortIndex=i,E(C,e),null===j(k)&&e===j(C)&&(S?a():S=!0,o(B,i-s))):(e.sortIndex=c,E(k,e),M||A||(M=!0,r(R))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},"/0DE":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){this.queueHandler=e}},"/8Fb":function(e,t,n){var r=n("XKFU"),o=n("UExd")(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},"/Kck":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return _}));var r=n("DM2o"),o=n("5hnT"),a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},i=1.8*Math.pow(10,6),s=function(e){return e.startsWith("{")&&e.endsWith("}")},c=function(e,t){return[e,t].every(s)?e.slice(0,-1)+","+t.substring(1):"{}"},u=function(e,t){var n=window.vk,r=n.id,o=n.statsMeta,i=o.st,u=o.platform,l=a(o,["st","platform"]);return c(JSON.stringify({id:r,st:i,platform:u,attempt:e,signTime:l.time,sign:l.hash}),s(t)?t:"{}")},l=function(e,t){return e=e||window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),new Promise((function(n,r){var a=new XMLHttpRequest;a.open("POST",e),e.includes("tau.vk.com")&&(a.withCredentials=!0),a.onload=function(){return this.status>=200&&this.status<300?n(a.response):r({status:this.status,statusText:a.statusText})},a.onerror=function(){return r({status:this.status,statusText:a.statusText})},a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(Object(o.b)("string"==typeof t?t:JSON.stringify(t)))}))};function _(e,t,n){Object(r.a)("web_stats_batching_time",e,window.vk.statsMeta.platform,t,n)}},"/PiP":function(e,t,n){"use strict";n.d(t,"n",(function(){return v})),n.d(t,"q",(function(){return y})),n.d(t,"D",(function(){return O})),n.d(t,"C",(function(){return w})),n.d(t,"y",(function(){return E})),n.d(t,"x",(function(){return j})),n.d(t,"E",(function(){return D})),n.d(t,"G",(function(){return P})),n.d(t,"I",(function(){return k})),n.d(t,"A",(function(){return C})),n.d(t,"H",(function(){return T})),n.d(t,"z",(function(){return x})),n.d(t,"F",(function(){return I})),n.d(t,"t",(function(){return A})),n.d(t,"b",(function(){return M})),n.d(t,"o",(function(){return S})),n.d(t,"s",(function(){return L})),n.d(t,"c",(function(){return B})),n.d(t,"i",(function(){return R})),n.d(t,"d",(function(){return N})),n.d(t,"f",(function(){return U})),n.d(t,"h",(function(){return F})),n.d(t,"g",(function(){return W})),n.d(t,"e",(function(){return K})),n.d(t,"j",(function(){return H})),n.d(t,"w",(function(){return q})),n.d(t,"l",(function(){return V})),n.d(t,"k",(function(){return z})),n.d(t,"m",(function(){return G})),n.d(t,"a",(function(){return $})),n.d(t,"r",(function(){return J})),n.d(t,"p",(function(){return Y})),n.d(t,"B",(function(){return X})),n.d(t,"u",(function(){return Q})),n.d(t,"v",(function(){return Z}));n("SRfc"),n("pIFo"),n("Vd3H"),n("91GP");var r=n("Egk5"),o=n("t7n3"),a=n("EasH"),i=n("zxIV"),s=n("gdug"),c=n("v+DW"),u=n("4+be"),l=n("cGUQ"),_=n("kcIO"),d=n("Nk8j"),p=n("DM2o"),f=n("Bj12"),h=n("aong"),m=n("+i5L"),b=n("1UEa");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(){var e=["notifier.js","notifier.css"];return{preload:function(){stManager.add(e,()=>window.TopNotifier.preload())},show:function(t){if(!0!==Object(r.d)(t))return stManager.add(e,()=>window.TopNotifier.show(t)),Object(r.c)(t)},showTooltip:function(t){stManager.add(e,()=>window.TopNotifier.showTooltip(t))},invalidate:()=>{},setCount:()=>{},createNewEventsBox:()=>{}}}function y(){return!s.a.msie||parseInt(s.a.version)>10}function O(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(a&&a.additional&&a.additional.open_pe&&a.temp&&Object(d.e)(a.temp)){var s=function(){O(e,t,a,i)};Page.showUnblurBox(a.temp.restrictionTitle,a.temp.restrictionText,a.temp.photoRaw,a.temp.unblurHash,s)}else{if(a&&a.additional&&a.additional.open_pe&&a.temp&&a.temp.restrictionGeo&&delete a.additional.open_pe,cur.viewAsBox)return cur.viewAsBox();if(!(Object(r.d)(i)||cur._editMode&&cur._editMode(i))){if(Object(m.c)()&&!a.forceUnauth)return window.Unauthorized.showMoreBox(null,0,m.b.PHOTO,()=>{O(e,t,g({},a,{forceUnauth:!0}),i)}),!1;var u=[jsc("web/photoview.js"),"photoview.css","page.js","page.css"];if(a.img&&(a.showProgress=function(){Object(c.u)(a.img)},a.hideProgress=function(){Object(c.i)(a.img)}),!e)return!1;var l=1;if(((null==a||null===(n=a.additional)||void 0===n?void 0:n.open_pe)||(null==a?void 0:a.noCache))&&(l=0),window.Photoview&&!1===Photoview.showPhoto(e,t,a)&&l)return!1;var _=!0;if(cur.pvOptions||(cur.pvOptions={}),cur.pvOptions.isLightMode=a.isLightMode,a.temp&&!(cur.pvNoTemp||{})[e]&&stManager.add(u,(function(){Object(o.i)(cur,{pvCancelLoad:function(){_=!1},pvData:cur.pvData||{},pvOptions:cur.pvOptions||{}}),cur.pvData.temp=[a.temp],cur.pvOptions.temp_final=a.temp_final,cur.pvOptions.temp_summary=a.temp_summary,cur.pvOptions.queue=a.queue,Photoview.show("temp",0)})),Object(o.i)(a,{onDone:function(n){Photoview.list(e,t,n),a.blog_text&&arguments[3]&&arguments[3][0]&&(arguments[3][0].album=a.blog_text),Photoview.loaded.apply(window,arguments),_&&("deleted"===n?Photoview.showDeleted.apply(window,arguments):Photoview.showPhoto(e,t,a,!0))},stat:u,cache:l}),a.temp_final)return!1;var p="";return nav.objLoc.dmcah&&(p=nav.objLoc.dmcah),ajax.post("al_photos.php",Object(o.i)({act:"show",gid:cur.gid,photo:e,list:t,dmcah:p,module:cur.module||"",list_info:a.list_info||null},a.additional),a),!1}}}function w(e,t,n,r){Page.showManyPhoto(e,t,n,r)}function E(e,t,n){return cur.viewAsBox?cur.viewAsBox():Object(r.d)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbums(e,t)})),!1)}function j(e,t,n){return cur.viewAsBox?cur.viewAsBox():Object(r.d)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbum(e,t)})),!1)}function D(e,t,n){return cur.viewAsBox?cur.viewAsBox():Object(r.d)(n)?void 0:(stManager.add([jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showTagged(e,t)})),!1)}function P(e,t,n){return cur.viewAsBox?cur.viewAsBox():Object(r.d)(n)?void 0:(stManager.add([jsc("web/video.js"),"video.css",jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showVideoTags(e,t)})),!1)}function k(e){var t=e.shift();if(window.Videoview&&Videoview.playerCallback[t])return Videoview.playerCallback[t].apply(Videoview,e);throw Error("Unregistered player callback: "+t)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return curBox()||Object(a.b)("al_market.php",{act:"show_attach_product_box"},{onDone:function(e,n){window.MarketProductBox.init(e,n,t)}}),Object(r.c)(e)}function T(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Object(r.d)(n))return!0;if(0!==cur.gid&&(e.gid=cur.gid),e.location_owner_id=cur.oid,window.wkcur&&wkcur.shown&&wkcur.wkRaw===e.w&&e.w&&!e.reply)return WkView.restoreLayer(a),Object(r.c)(n);(window.wkcur&&wkcur.hideTitle||e.hide_title)&&(a.hide_title=e.hide_title=1);var i=a.stat||[jsc("web/wkview.js"),"wkview.css","wk.css",jsc("web/wk.js")];t&&i.push(jsc("web/wk_editor.js"),"wk_editor.css");var s,c,u={stat:i,loader:!a.noloader,onDone:function(e,t,r,i){WkView.show(e,t,Object(o.i)(r,a),i,n)},onFail:function(e){return Object(o.v)(a.onFail)?a.onFail(e):WkView.showError(e)}};if(nav.objLoc.claim&&(e.claim=nav.objLoc.claim),e.w&&"/query"===e.w.substr(-6)){var l=Object(o.d)(nav.objLoc);delete l[0],delete l.w,e.query=JSON.stringify(l)}a.preload&&Object(o.i)(u,a.preload),a.ads_params&&(s=a.ads_params,(c=nav.getPostParams(n&&n.target)).post_click_url&&(s._post_click_url=c.post_click_url));var _="";"feed"===cur.module&&window.feed?_=window.feed.getModuleRef():"public"===cur.module?_="club":"profile"===cur.module&&(_="profile"),a.customRef&&(_=a.customRef);var d="",p=Object(o.d)(nav.objLoc);return p.dmcah&&(d=p.dmcah),ajax.post("wkview.php",Object(o.i)({act:"show",loc:nav.objLoc[0],is_znav:a.isZnav,dmcah:d,ref:_},e,s,cur.getWkviewOpts&&cur.getWkviewOpts()),u),Object(r.c)(n)}function x(e,t,n,r,a,i){i||(i={});var s=!1,c=Object(o.i)({w:"app"+t},i);if(n=Object(o.r)(n),r&&(Object(o.y)(r)?c=Object(o.i)(c,r):c.ref=r),i.layer&&(s=!0),(cur.apps&&cur.apps[t]||!n)&&!s){delete c.w;var u="app"+t+(a?"_"+a:""),l=nav.objLoc&&!nav.objLoc[1]&&nav.objLoc[0]===u;return nav.go("/"+u+nav.toStr(c),e,{nocur:l})}a&&(c.mid=a);var _={stat:[jsc("web/wkview.js"),"wkview.css","apps.js","apps.css"]};if(i.queue&&(_.queue=1),i.urlHash&&(c.url_hash=i.urlHash),c["#"]){var d=c["#"];delete c["#"],_.onLoaded=()=>{nav.setLoc(Object(o.i)(nav.objLoc,{"#":d}))}}return T(c,!1,e,_)}function I(e,t,n,o,a){if(!vk.widget)return Object(i.xb)(boxLoader),Object(i.xb)(boxLayerWrap),Object(_.a)(boxLoader),stManager.add([jsc("web/podcast.js")],(function(){Podcast.show(e,t,null,o,a)})),n&&Object(r.c)(n)}function A(e,t,n,o){return stManager.add([jsc("web/podcast.js")],(function(){Podcast.goToTime(e,t,n,o)})),n&&Object(r.c)(n)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e&&!vk.isBanned&&stManager.add([jsc("web/article_layer.js"),"article.css"],(function(){window.ArticleLayer.prepare(e,n,t)}))}function S(){return!(s.a.msie&&parseInt(s.a.version)<=11)}function L(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(cur.articleEditorLayer)cur.articleEditorLayer.openById(e,t);else{var i=[jsc("web/article_editor_layer.js"),"article.css","article_editor.css"];stManager.add(i,()=>{});var s=Object.assign({act:"open_editor",article_owner_id:e,article_id:t,from_post_convert:n?1:0,post_data_medias:n?n.medias.join(","):""},r);ajax.post("al_articles.php",s,{loader:!0,onFail:function(e){return"app"===o.from?o.errorHandler&&o.errorHandler("ServerError: Can't open article editor."):Object(a.d)(Object(u.d)("global_error"),e),window.SAKIntegration&&window.SAKIntegration.isIntegrated&&window.SAKIntegration.sendMessage("error",{error:e}),!0},onDone:function(e,t,r,a){window.WkView&&WkView.hide(),window.boxQueue&&boxQueue.hideAll(),n&&(a.postData=n),a.articleOwnerId?stManager.add(i,(function(){if(layers.fullhide=function(){cur.articleEditorLayer&&cur.articleEditorLayer.hide()},window.AuthorPage&&window.AuthorPage.isOpen()&&(cur.needAuthorPageHardBack=!0),cur.articleEditorLayer=new ArticleEditorLayer(e,t,r,a,()=>delete cur.articleEditorLayer),"app"===o.from){var n=e=>t=>{t.type=e,"publish"!==e&&"close"!==e||cur.articleEditorLayer&&cur.articleEditorLayer.hide(),o.eventHandler&&o.eventHandler(t)};cur.articleVkAppEditor={onSaveDraft:n("draft"),onPublish:n("publish"),onClose:n("close")}}})):nav.change({z:!1})}})}}function B(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",_=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";ajax.post("al_bookmarks.php",{act:"bookmark",owner_id:e,object_id:t,type:n,state:s?1:0,hash:r,item_access_hash:c,ref:l||cur.module,track_code:_},{onDone:(n,r,s,c)=>{if(n&&!vk.widget){window.showDoneBox(n,{tooltipHandler:function(n){var l=Object(i.L)("bookmarks_tag_set",n);if(l&&!isEmpty(r)){var _=[];each(r,(e,t)=>{_.push(t)}),_.sort((e,t)=>e.order-t.order);for(var d='<div class="bookmarks_tags_list">',p=0;p<_.length;p++){var f=_[p];d+=`<div class="bookmarks_tags_list_item" data-id="${f.id}">${f.name}</div>`}d+="</div>",(d=se(d)).addEventListener("click",n=>{var r=domClosest("bookmarks_tags_list_item",n.target);if(r){var l=Object(i.v)(r,"id"),_=toggleClass(r,"bookmarks_tags_list_item--selected");ajax.post("al_bookmarks.php",{act:"set_tag",item_type:s,item_oid:e,item_id:t,hash:c,tag_id:l,is_tagged:Object(o.r)(!_),is_from_snackbar:!0},{onFail:e=>(Object(a.d)(Object(u.d)("global_error"),e),!0)})}}),cur.setBookmarksTagTooltip&&cur.setBookmarksTagTooltip.destroy(),stManager.add(["ui_common.css","ui_common.js"],()=>{});var h=new ElementTooltip(l,{content:d,appendToParent:!0,cls:"bookmarks_tag_set_tt",autoShow:!0,offset:[0,-36],onFirstTimeShow:e=>{stManager.add(["ui_common.css","ui_common.js"],()=>{cur.setBookmarksTagTooltipScrolls||(cur.setBookmarksTagTooltipScrolls=[]),cur.setBookmarksTagTooltipScrolls.push(new uiScroll(domFC(e),{theme:"dark"}))})},onShow:function(){Notifier.freezeEvents(),curNotifier.tooltipShown=!0},onHide:function(){curNotifier.tooltipShown=!1,curNotifier.unfreezeAfterTooltipHide&&Notifier.unfreezeEvents()}});cur.destroy.push(()=>{cur.setBookmarksTagTooltipScrolls&&(cur.setBookmarksTagTooltipScrolls.forEach((function(e){e.destroy()})),delete cur.setBookmarksTagTooltipScrolls),h.destroy()})}},link:"/bookmarks"})}}})}function R(e,t,n,r,a,s){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if(Object(o.y)(window.cur)&&Object(o.v)(window.cur.viewAsBox))return window.cur.viewAsBox();var u=parseInt(Object(i.v)(e,"state"));e.innerHTML=u?Object(i.v)(e,"add"):Object(i.v)(e,"remove"),Object(i.v)(e,"state",u?0:1),B(t,n,r,a,u,s,c)}function N(e,t,n,o,a,s,c){return t&&(c=parseInt(Object(i.v)(t,"state")),Object(i.v)(t,"state",c?0:1)),B(n,o,a,s,c),each(geByClass(`_article_${n}_${o}`),(e,t)=>{var n=Object(i.L)("_bookmark_btn",t);Object(i.v)(n,"state",c?0:1)}),Object(r.c)(e)}function U(e,t,n){var o=parseInt(Object(i.v)(t,"state"));return Object(i.v)(t,"state",o?0:1),ajax.post("al_bookmarks.php",{act:"bookmark_link",state:o?1:0,hash:n,url:Object(i.v)(t,"link-url"),img:Object(i.v)(t,"link-img"),title:Object(i.v)(t,"link-title"),ref:cur.module,track_code:Object(i.v)(t,"track-code")},{onDone:e=>{e&&!vk.widget&&window.showDoneBox(e)}}),Object(r.c)(e)}function F(e,t,n,o,a){return stManager.add([jsc("web/podcast.js")],(function(){Podcast.toggleFave(e,t,n,a)})),o&&Object(r.c)(o)}function W(e,t,n,o,a,s){var c=parseInt(Object(i.v)(t,"state"));return Object(i.v)(t,"state",c?0:1),B(n,o,a,s,c),c||Object(b.c)(b.a.addToBookmarks,n,o,window.cur.module),Object(r.c)(e)}function K(e,t,n,o){var a=parseInt(Object(i.v)(t,"state"));return Object(i.v)(t,"state",a?0:1),ajax.post("fave.php",{act:a?"a_delete_group":"a_add_group",gid:n,hash:o},{onDone:(e,t)=>{a||vk.widget||showDoneBox(t)}}),Object(r.c)(e)}function H(e,t,n,o,a,s){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=parseInt(Object(i.v)(t,"state"));return Object(i.v)(t,"state",l?0:1),B(n,o,a,s,l,c,"",u),Object(r.c)(e)}function q(e,t,n,o){return Object(a.b)("like.php",{act:"publish_box",object:"audio_playlist"+t+"_"+n,list:o},{stat:["wide_dd.js","wide_dd.css",jsc("web/sharebox.js")]}),Object(r.c)(e)}function V(){return window.ap=window.ap||new AudioPlayer,window.ap}function z(e,t){var n=e+"_"+t,r=Object(i.L)("_audio_row_"+n);AudioUtils.deleteAudio(r,AudioUtils.getAudioFromEl(r,!0)),cur.claimWarning&&cur.claimWarning.hide()}function G(){window.TopAudioPlayer.init()}var $={loaded:!1,events:{on(e,t){stManager.add("voice_message_player.js",()=>{window.AudioMessagePlayer.events.on(e,t)})}},togglePlay:function(e,t){stManager.add("voice_message_player.js",()=>window.AudioMessagePlayer.togglePlay(e,t))},detachPlayer:function(e){stManager.add("voice_message_player.js",()=>window.AudioMessagePlayer.detachPlayer(e))}};function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&e.tt&&e.tt.hide&&e.tt.hide({fasthide:1});var r=e,a=!1;if(Y()&&ArticleLayer.isStandalone()&&(a=!0),r.tagName&&"a"===r.tagName.toLowerCase()&&!r.getAttribute("target")&&!nav.baseBlank){var i,s=r.getAttribute("hrefparams");s&&(n.params=Object(o.i)(n.params||{},Object(l.fromQueryString)(s))),(r=(r=r.href||"").replace(/^https?:\/\//i,"")).indexOf(location.hostname)||(r=r.replace(location.hostname,"")),((r=r.replace(/^(vkontakte\.ru\/|vk\.com\/)/,"/")).match(/#$/)||!(i=r.match(/^\/(.*?)(\?|#|$)/))||(i=i[1]).indexOf(".php")>0||i.match(/^(doc\-?\d+_\d+|graffiti\d+|reg\d+|images|utils|\.js|js\/|\.css|css\/)/))&&(a=!0)}if(a){var c=!!(n&&n.params&&n.params._post&&n.params._post_click_type);if(!c)return!0;e.setAttribute("data-change-location-with-post-away",1),r=e}return nav.go(r,t,n)}function Y(){return window.ArticleLayer&&window.ArticleLayer.isShown()}function X(e,t,n,i,s){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if(n||u){var l=()=>{p.hide()},_="donut_payment"+n,d=i,p=Object(a.b)("al_donut.php",g({act:"subscribe_popup",ownerId:n,ownerDomain:u,source:i,hash:s,type:c.type},c.params),{stat:["donut_subscribe_popup.css",window.jsc("web/donut_subscribe_popup.js")],params:{width:450,hideButtons:!0,containerClass:"DonutSubscribePopup",onDestroy:()=>{if(window.DonutSubscribePopup&&window.DonutSubscribePopup.onDestroy(),!c.fromSnippet){Object(r.i)(window,"popstate",l);var e=nav.objLoc,t=e.w,n=e.source;t===_&&d===n&&(delete nav.objLoc.w,delete nav.objLoc.source,nav.setLoc(nav.objLoc))}}},onDone:(e,t)=>{if(window.DonutSubscribePopup.init({ownerId:n||t.owner_id,source:i,type:c.type,onSuccessPayment:c.onSuccessPayment},e,t),!c.fromSnippet&&"subscribe"===c.type){Object(r.b)(window,"popstate",l);var a=Object(o.i)(nav.objLoc,{w:_,source:i});nav.setLoc(a)}},onFail:e=>{if(e&&"string"==typeof e)return"group_doesnt_exists"===e&&c.onFailCallback&&"function"==typeof c.onFailCallback?(c.onFailCallback(),p.hide(),!0):(p.hide(),Object(h.m)(e),!0)}},t);Object(r.c)(t)}}function Q(){Object(p.a)("corona_status_stat","open_app")}function Z(e){e&&Object(f.e)({name:"image_status",value:e,keys:["popup_action"]})}},"/eGY":function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"j",(function(){return j})),n.d(t,"i",(function(){return k})),n.d(t,"c",(function(){return C})),n.d(t,"h",(function(){return T})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return I})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return S}));n("HEwt"),n("a1Th"),n("rE2o"),n("ioFf"),n("rGqo"),n("Btvt"),n("/8Fb"),n("pIFo");var r=n("t7n3"),o=n("nAFc"),a=n("/PiP"),i=n("EasH"),s=n("N4ZS"),c=n("8/qD"),u=n("4edV"),l=n("kxld"),_=n("uXh7"),d=n("rudk"),p=n("ftTi"),f=n("4Kbl"),h=n("cYwl"),m=n("R5GP"),b=n("hC3G");function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y="open_link",O="default",w=["app-id","owner-id","type","payload","hash","label","link"];function E(e){var t=e.type,n=e.appId,r=e.ownerId,o=e.hash,i=e.appHash,s="app"+("vkpay"===t?6217559:n)+(r?"_"+r:"");Object(a.H)({w:s+encodeURIComponent("#"+o),from_keyboard:1,app_hash:i})}function j(e){var t=e.peerId,n=e.ownerId,r=e.text,o=e.store,a=Object(l.e)(o,t),i=Object(f.b)(o,n),s=Object(d.c)(t)&&i?i.photo:void 0;Object(_.a)({text:r,title:a.name,photo:s})}var D=["open_link","open_app"];function P(e){var t=setTimeout(()=>e.set(u.g),2e3);e.set(e=>Object(u.b)(t,e))}function k(e,t){var n=e.action,r=Object(p.i)(t)===e.peer_id;if(n&&r&&!(D.includes(e.action.type)&&Object(p.a)(t)))switch(e.action.type){case"open_link":!function(e){var t=e.peerId,n=e.store,r=e.link,o=Object(l.e)(n,t),a=new URL(r),i=new MessageBox;i.setOptions({title:getLang("mail_callback_popup_title"),bodyStyle:"overflow: hidden; text-overflow: ellipsis;"});var c=getLang("mail_callback_popup_text").replace("{name}",o.name).replace("{domain}",a.hostname);i.content(c),i.addButton(getLang("box_cancel"),!1,"no"),i.addButton(getLang("global_open"),()=>{window.open(Object(s.a)(r,!0)),i.hide()}),i.show()}({peerId:e.peer_id,link:n.link,store:t}),P(t);break;case"open_app":E({type:n.type,appId:n.app_id,ownerId:n.owner_id,hash:n.hash,appHash:Object(p.g)(t)}),P(t);break;case"show_snackbar":j({peerId:e.peer_id,ownerId:e.owner_id,text:n.text,title:n.title,store:t});break;default:return}}var C=6e4;function T(e,t,n,r){var o=e.app_id,a=e.owner_id,s=e.type,u=e.payload,l=e.hash,_=void 0===l?"":l,f=e.link,g=void 0===f?"":f,v=r.keyboardAuthorId,O=Object(p.g)(n);switch(s){case y:Object(p.i)(n)===b.d&&Object(d.g)(g)&&Object(h.d)(Object(m.b)(n).viewer_id);break;case"vkpay":case"open_app":E({type:s,appId:o,ownerId:a,hash:_,appHash:O});break;case"location":cur.sendLocation=function(e,n){n(),t({keyboardAuthorId:v,action:{label:"",attaches:[e],payload:u}})},Object(i.b)("al_places.php",{act:"a_choose_place_box",from_keyboard:1},{stat:["places.css","map.css","maps.js","ui_controls.css","ui_controls.js","boxes.css"],width:640,bodyStyle:"padding: 0px;",dark:1});break;case"text":t({action:e,appHash:O,keyboardAuthorId:v});break;case"callback":var w=r.message,j=r.peerId,D=r.onBeforeSend,P=void 0===D?()=>{}:D,k=r.onSendSuccess,C=void 0===k?()=>{}:k,T=r.onSendFail,x=void 0===T?()=>{}:T;P(),Object(c.d)({author_id:v,conversation_message_id:null==w?void 0:w.chat_local_id,message_id:null==w?void 0:w.messageId,peer_id:j,payload:e.payload}).then(C,x);break;default:e.payload=JSON.stringify({command:"not_supported_button",button_type:s,payload:e.payload}),t({action:e,appHash:O,keyboardAuthorId:v})}}function x(e){return A(e)?"primary":e.color.toLowerCase().replace(O,"secondary")}function I(e){var t=e.action,n=t.label;return"location"===t.type?getLang("mail_keyboard_label_location"):A(e)?getLang("mail_keyboard_label_vkpay").replace(/ VK Pay$/,""):function(e){var t=e;return t=Object(o.a)(t||""),t=Object(r.c)(t).replace(/\n(\r)?/gi," "),t=Emoji.emojiToHTML(t,!0)}(n)}function A(e){var t=e.action,n=t.app_id,r=t.type;return"vkpay"===r||"open_app"===r&&6217559===n}function M(e){return w.reduce((t,n)=>(t[n.replace("-","_")]=e.getAttribute("data-"+n)||void 0,t),{})}function S(e,t){var n=Object.entries(e).reduce((e,t)=>{var n=g(t,2),o=n[0],a=n[1];return e+` data-${o.replace("_","-")}="${Object(r.c)(""+a)}"`},"");e.type===y&&(n+=` href="${Object(s.a)(encodeURI(e.link),!0)}" target="_blank" rel="nofollow noopener"`);return n+=` data-index="${t}"`}},"/rNY":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("3qfP");function o(e){return e&&Array.isArray(e)?Object(r.a)(e):e}},"0/R4":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"07n8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n("rHUl"),o=n("tbKy"),a=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function i(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[t.length-1];return e.apply(void 0,t).catch((function(n){if(n&&n.match&&n.match(/1001;/))return c(r,e,t);throw n}))}}function s(e){return function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,a([t],n)).catch((function(r){if(r&&r.match&&r.match(/1001;/))return c(t,e,[t].concat(n));throw r}))}}function c(e,t,n){return function(e){return e.resync_in_process?e.resync_in_process:Promise.resolve(!1)}(e).then((function(a){return a?t.apply(void 0,n):function(e){if(!e.renew_hashes){var t=e.last_hashes_update||0;if(Date.now()-t<1e4)return Promise.resolve();var n=Object.keys(e.tabs).filter((function(t){return Object(r.H)(e,+t)}));e.renew_hashes=Object(o.a)(n,{},e).then((function(t){var r=t[0],o=t[1],a=t[2];return n.forEach((function(t){var n=+t;e.tabs[n].hash=r[n]})),e.writeHash=o,e.manageTagsHash=a,delete e.renew_hashes,e.last_hashes_update=Date.now(),e}))}return e.renew_hashes}(e).then((function(){return t.apply(void 0,n)}))}))}},"15HP":function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=i(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(c[l]=n[l]);if(r){s=r(n);for(var _=0;_<s.length;_++)a.call(n,s[_])&&(c[s[_]]=n[s[_]])}}return c}},"16Al":function(e,t,n){"use strict";var r=n("WbBG");function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},"17x9":function(e,t,n){e.exports=n("16Al")()},"1BRX":function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"k",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return m}));var r=n("4+be"),o=n("t7n3");function a(e){var t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function i(e){return a(new Date(e.getTime()+864e5))}function s(e){return a(new Date(e.getTime()-864e5))}function c(e,t){var n=new Date(e),r=new Date(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}function u(e){return e>=10?e:"0"+e}function l(e,t){var n;e=Math.max(e,0);var r=Math.floor(e%60);n=r<10?"0"+r:r;var o=(e=Math.floor(e/60))%60;return n=o+":"+n,((e=Math.floor(e/60))>0||t)&&(o<10&&(n="0"+n),n=e+":"+n),n}function _(){return vk.ts+Math.floor(((new Date).getTime()-vk.started)/1e3)}function d(e){var t=e.getFullYear(),n=e.getMonth(),r=e.getDate();return new Date(t,n,r,0,0,0,0)}function p(e){return(e=parseInt(e))%4==0&&e%100!=0||e%400==0}function f(e,t){return 2==+t?p(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e<5?Object(r.d)("global_just_now"):e<60?Object(r.n)(e,Object(r.d)("global_word_secs_ago","raw"),Object(r.d)("global_secs_ago","raw")):e<3600?Object(r.n)(Object(o.r)(e/60),Object(r.d)("global_word_mins_ago","raw"),Object(r.d)("global_mins_ago","raw")):e<14400?Object(r.n)(Object(o.r)(e/3600),Object(r.d)("global_word_hours_ago","raw"),Object(r.d)("global_hours_ago","raw")):t}function m(e){return Math.floor(e.getTime()/1e3)}},"1MBn":function(e,t,n){var r=n("DVgA"),o=n("JiEa"),a=n("UqcF");e.exports=function(e){var t=r(e),n=o.f;if(n)for(var i,s=n(e),c=a.f,u=0;s.length>u;)c.call(e,i=s[u++])&&t.push(i);return t}},"1Ot2":function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n("ioFf"),n("rGqo"),n("Btvt");var r=n("q1tI"),o=(n("91GP"),n("17x9"),n("xt6h"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({});class c extends r.Component{constructor(){super(...arguments),this.getWrapperRef=e=>{this.wrapper=e}}componentDidMount(){var e=this.props,t=e.isNative,n=e.isShadows,r=e.neverHide,o=e.onScroll;!this.scroller&&this.context&&this.context.createScroll&&(this.scroller=this.context.createScroll(this.wrapper,{shadows:n,nativeScroll:t,hidden:!r,onScroll:o}))}componentDidUpdate(){this.scroller&&this.scroller.update()}componentWillUnmount(){this.scroller&&(this.scroller.destroy(),this.scroller=null)}render(){var e=this.props,t=e.children,n=(e.isNative,e.isShadows,e.neverHide,e.className),s=void 0===n?"":n,c=i(e,["children","isNative","isShadows","neverHide","className"]);return r.createElement("div",a({},c,{className:Object(o.a)("Scroll",s),ref:this.getWrapperRef}),t)}}c.defaultProps={isNative:!1,isShadows:!1,neverHide:!1,onScroll:null},c.contextType=s;var u=n("+/AQ");function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var _=e=>{var t=e.children,n=l(e,["children"]);return r.createElement(s.Provider,{value:{createScroll:u.a}},r.createElement(c,n,t))};_.defaultProps={isNative:!1,isShadows:!1,neverHide:!1,onScroll:null}},"1TsA":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"1UEa":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r,o,a=n("DM2o"),i=n("W9Tc");function s(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=o.other);var s={event_type:e,narrative_id:n,narrative_owner_id:t,nav_screen:r};Object(a.a)("narrative_product_analytic",s),Object(i.b)("narratives_web_analytic_debug")&&console.log("-- narrative analytic",s)}!function(e){e.clickToAddToNarrative="click_to_add_to_narrative",e.addStoryToNarrative="add_story_to_narrative",e.openNarrativeList="open_narrative_list",e.close="close",e.changeSort="change_sort",e.publishNarrative="publish_narrative",e.createNarrative="create_narrative",e.deleteNarrative="delete_narrative",e.clickToEditNarrative="click_to_edit_narrative",e.editNarrative="edit_narrative",e.addToBookmarks="add_to_bookmarks",e.shareNarrative="share_narrative",e.seeMore="see_more",e.addToNarrativeFromActionSheet="add_to_narrative_from_action_sheet"}(r||(r={})),function(e){e.storyArchive="story_archive",e.storyViewer="story_viewer",e.profile="profile",e.feedBlock="narratives_feed_block",e.club="club",e.other="other"}(o||(o={}))},"1y80":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n("W9Tc");function o(e,t,n,r,o){return window.statlogsValueEvent(e,t,n,r,o)}function a(e,t,n,a,i,s){Object(r.c)(e)&&o(t,n,a,i,s)}},"2+aW":function(e,t,n){"use strict";function r(e){if(window.cur.privacy&&Array.isArray(window.cur.privacy[e]))return o(window.cur.privacy[e])}function o(e){if(Array.isArray(e)){var t=e[0],n=e[1],r=e[2],o=e[3];return[parseInt(t),parseInt(n),Array.isArray(r)?r.map((function(e){return parseInt(e)})):[],Array.isArray(o)?o.map((function(e){return parseInt(e)})):[]]}}function a(e){return new Promise((function(t,n){window.ajax.post("al_friends.php?act=save_privacy",{key:e.key,val:e.value,hash:e.hash},{onDone:function(e){t(e)},onFail:function(e){return n(e),!0}})}))}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a}))},"2OiF":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"2QOe":function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FrameTransport}));var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("91GP"),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("cGUQ"),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("t7n3"),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ryw6"),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("98sY"),_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("zxIV");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _queueStartMarker={type:"start"},_queueEndMarker={type:"end"};class FrameTransport{constructor(){this.frameDataQueue=[],this.frameTimeout=null,this.frame=null,this.queueReady=!1,this.fulfilled=!1,this.execInline=()=>{},this._debug=()=>{}}setHandlers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};this._onEnd=e,this._onModuleEvaluated=t,this._debug=n}setInlineHandler(e){this.execInline=e}run(e,t){return this._debug("Run ",e,this.frameDataQueue),this.frameUrl=e,this.onReady=t,this.fulfilled=!1,this.queueReady=!1,this.frameDataQueue=[_queueStartMarker],clearTimeout(this.frameTimeout),this.frameTimeout=!1,this.frame&&this._cleanup(),this.frame=ce("div",{innerHTML:"<iframe></iframe>"}),utilsNode.appendChild(this.frame),this.frame.firstChild.src=this.frameUrl,this}useMeta(e){this._debug("Metainfo: ",e),this.onReady(e)}useAjaxBlock(e,t,n){this._debug("Ajax block: ",e,t,n,this.fulfilled,this.frameDataQueue),this.fulfilled||(this.frameDataQueue.push(FrameTransport._makeQueueBlock(e,t,n)),1===this.frameDataQueue.length&&this._nextQueueItem())}finalize(e,t){this._debug("Finalize: ",e),this._cleanup(),e&&this.frameDataQueue.push(FrameTransport._makeQueueBlock(!1,!1,e,t)),this.queueReady=!0,this.frameDataQueue.push(_queueEndMarker),window.cur.onFrameBlocksDone&&window.cur.onFrameBlocksDone(),this._onEnd&&this._onEnd((new Date).getTime())}_nextQueueItem(){if(this.frameTimeout&&clearTimeout(this.frameTimeout),this.queueReady)if(this._debug("Next queue item: ",this.fulfilled,this.frameDataQueue),this.fulfilled||0===this.frameDataQueue.length)this.frameTimeout=!1;else{var e=this.frameDataQueue.shift();switch(e.type){case _queueStartMarker.type:this._nextQueueItem();break;case _queueEndMarker.type:this.fulfilled=!0;break;default:this.frameTimeout=setTimeout(()=>this._onReceived(e),0)}}else this.frameTimeout=setTimeout(()=>this._nextQueueItem(),100)}_onReceived(e){var t=e.container&&ge(e.container);t&&e.html&&(t.firstChild?t.appendChild(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.h)(e.html)):val(t,e.html)),e.js&&(_runJs(e.js,(t,n)=>{Object(_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_3__.c)(t,{dt:15,type:8,url:this.frameUrl,js:n,answer:JSON.stringify(e)}),Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_4__.d)(t,n)}),this._onModuleEvaluated&&this._onModuleEvaluated(cur.module)),e.params&&"leftads"in e.params&&window.__adsSet&&__adsSet(e.params.leftads,e.params.ads_section||"",e.params.ads_can_show,e.params.ads_showed),this._nextQueueItem()}_cleanup(){this._debug("Cleanup: ",this.frameDataQueue),this.frame&&(this.frame.innerHTML="",utilsNode.removeChild(this.frame),this.frame=null)}abort(){clearTimeout(this.frameTimeout),this.frameTimeout=!1,this._cleanup()}static get frame(){return FrameTransport.__frame||(FrameTransport.__frame=new FrameTransport),FrameTransport.__frame}static request(e,t,n,r,o){var a=FrameTransport.frame;return a.setInlineHandler(o),a.run(FrameTransport.makeUrl(e,t,!(r&&r.noSort)),n)}static _makeQueueBlock(e,t,n,r){return{type:"block",container:e,html:t,js:n,params:r}}static makeUrl(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t;return"string"==typeof t&&(r=Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_1__.fromQueryString)(t)),e+"?"+(r=Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_1__.toQueryString)(_extends({},r,{_rndVer:Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_2__.s)(0,99999)}),!n))}}function _runJs(js,onError){var script="(function(){"+js+";})()";if(__debugMode)eval(script);else try{eval(script)}catch(e){onError&&onError(e,script)}}},"2W9W":function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.browser;return!(!e.mac||e.iphone||e.ipad||e.ipod||!(navigator.maxTouchPoints>1))}n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c}));var o=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),a=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches),i=()=>Boolean(window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")),s=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches),c=()=>"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype},"36Mz":function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));n("91GP"),n("Oyvg"),n("OG14"),n("hhXQ"),n("SRfc"),n("rGqo"),n("pIFo"),n("KKXr"),n("HEwt"),n("VRzm"),n("Btvt");var r,o=n("q1tI"),a=n.n(o),i=n("zxIV"),s=n("t7n3"),c=n("ryw6"),u=n("lXE5"),l=n("Egk5"),_=n("v+DW"),d=n("4+be"),p=n("4tce"),f=n("Xrg9"),h=n("98sY"),m=n("wVf2"),b=n("aong"),g=n("EasH"),v=n("FWc3"),y=n("dV62"),O=n("jmhT"),w=n("BiHW"),E=n("6krn"),j=n("WfnU"),D=n("n3cE"),P=n("ngxX"),k=n("ZxpX"),C=n("jE6c"),T=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=function(e){function t(t){var n=e.call(this,t)||this;n.save=function(){var e=n.props,t=e.onSave,r=e.data,o=n.state,a=o.isRecognitionMeEnabled,i=o.showMyRecognizedPhotosToFriends,s=o.isRecognitionFriendsEnabled,c=o.showMyRecognizedPhotosBlock,u=o.showFriendsRecognizedPhotosBlock;n.setState({isLoad:!0}),window.ajax.post("al_settings.php",{act:"save_recognition",is_recognition_me_disabled:Object(C.f)(!a.value),show_recognition_photos_to_friends:Object(C.f)(i.value),is_recognition_friends_enabled:Object(C.f)(s.value),show_my_recognized_photos_block:Object(C.f)(c.value),show_friends_recognized_photos_block:Object(C.f)(u.value),hash:r.hash},{onDone:function(){t&&t()},hideProgress:function(){n.setState({isLoad:!1})},onFail:function(e){return Object(g.d)(Object(E.b)("global_error"),e||Object(E.b)("global_unknown_error")),!0}})},n.onRecognitionMeChange=function(e,t){n.setState({showMyRecognizedPhotosBlock:{disabled:!t,value:!!t&&n.state.showMyRecognizedPhotosBlock.value},showMyRecognizedPhotosToFriends:{disabled:!t,value:!!t&&n.state.showMyRecognizedPhotosToFriends.value},isRecognitionMeEnabled:x(x({},n.state.isRecognitionMeEnabled),{value:t})})},n.onShowMyRecognizedPhotoToFriendsChange=function(e,t){n.setState({showMyRecognizedPhotosToFriends:x(x({},n.state.showMyRecognizedPhotosToFriends),{value:t})})},n.onRecognitionFriendsChange=function(e,t){n.setState({isRecognitionFriendsEnabled:x(x({},n.state.isRecognitionFriendsEnabled),{value:t})})},n.onShowMyRecognizedBlockChange=function(e,t){n.setState({showMyRecognizedPhotosBlock:x(x({},n.state.showMyRecognizedPhotosBlock),{value:t})})},n.onShowFriendsRecognizedBlockChange=function(e,t){n.setState({showFriendsRecognizedPhotosBlock:x(x({},n.state.showFriendsRecognizedPhotosBlock),{value:t})})};var r=t.data;return n.state={isLoad:!1,isRecognitionMeEnabled:{value:r.isRecognitionMeEnabled.value},showMyRecognizedPhotosToFriends:{value:r.showMyRecognizedPhotosToFriends.value,disabled:!r.isRecognitionMeEnabled.value},isRecognitionFriendsEnabled:{value:r.isRecognitionFriendsEnabled.value},showMyRecognizedPhotosBlock:{value:r.showMyRecognizedPhotosBlock.value,disabled:!r.isRecognitionMeEnabled.value},showFriendsRecognizedPhotosBlock:{value:r.showFriendsRecognizedPhotosBlock.value}},n}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.onClose,n=e.data,r=this.state,o=r.isRecognitionMeEnabled,i=r.showMyRecognizedPhotosToFriends,s=r.isRecognitionFriendsEnabled,c=r.showMyRecognizedPhotosBlock,u=r.showFriendsRecognizedPhotosBlock;return a.a.createElement(O.a,{className:"PhotoRecognitionSettingsBox",appearance:"white",hasScroll:!1,title:Object(E.b)("photo_recognition_settings_box_title"),actionButtons:this.getActionModalButtons(),onClose:t},a.a.createElement("div",{className:"PhotoRecognitionSettingsBox__content"},a.a.createElement("section",{className:"PhotoRecognitionSettingsBox__section"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__wrapper"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__info"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__title"},Object(E.b)("photo_recognition_settings_is_recognize_me")),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__description"},Object(E.b)("photo_recognition_settings_is_recognize_me_description"),a.a.createElement(D.a,{href:"/@vk-ai-photo-tags",className:"PhotoRecognitionSettingsBoxRow__learnMore",target:"_blank"},Object(E.b)("photo_recognition_settings_learn_more")))),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__control"},a.a.createElement(P.a,{checked:o.value,onChange:this.onRecognitionMeChange})))),a.a.createElement("div",{className:Object(k.a)("PhotoRecognitionSettingsBoxRow",{"PhotoRecognitionSettingsBoxRow--disabled":i.disabled||n.showMyRecognizedPhotosToFriends.forceDisable})},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__wrapper"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__info"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__title"},Object(E.b)("photo_recognition_settings_show_recognition_photos_to_friends")),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__description"},Object(E.b)("photo_recognition_settings_show_recognition_photos_to_friends_description"))),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__control"},a.a.createElement(P.a,{checked:i.value,onChange:this.onShowMyRecognizedPhotoToFriendsChange})))),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__wrapper"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__info"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__title"},Object(E.b)("photo_recognition_settings_recognition_friends_enabled")),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__description"},Object(E.b)("photo_recognition_settings_recognition_friends_enabled_description"))),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__control"},a.a.createElement(P.a,{checked:s.value,onChange:this.onRecognitionFriendsChange}))))),a.a.createElement("section",{className:"PhotoRecognitionSettingsBox__section"},a.a.createElement("div",{className:Object(k.a)("PhotoRecognitionSettingsBoxRow",{"PhotoRecognitionSettingsBoxRow--disabled":c.disabled})},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__wrapper"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__info"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__title"},Object(E.b)("settings_photos_user_recognition_block")),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__description"},Object(E.b)("photo_recognition_settings_show_my_recognized_photos_block_description"))),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__control"},a.a.createElement(P.a,{checked:c.value,onChange:this.onShowMyRecognizedBlockChange})))),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__wrapper"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__info"},a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__title"},Object(E.b)("settings_photos_friends_recognition_block")),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__description"},Object(E.b)("photo_recognition_settings_show_friends_recognized_photos_block_description"))),a.a.createElement("div",{className:"PhotoRecognitionSettingsBoxRow__control"},a.a.createElement(P.a,{checked:u.value,onChange:this.onShowFriendsRecognizedBlockChange})))))))},t.prototype.getActionModalButtons=function(){var e=this.props.onClose,t=this.state.isLoad;return[a.a.createElement(w.a,{key:"close",appearance:"tertiary",onClick:function(){return e()}},Object(E.b)("global_cancel")),a.a.createElement(j.default,{key:"publish",appearance:"primary",onClick:this.save,loading:t},Object(E.b)("global_save"))]},t}(a.a.Component),A=n("HLtZ"),M=n("MJEz"),S=n("mpRv"),L=n("821F"),B=n("3oLO");var R=n("OftT"),N={PROFILE:"profile",SEARCH_ACCESS:"search_access",UPDATES:"updates",COMPANY_MESSAGES:"company_messages",PROFILE_CLOSED:"profile_closed",CONTACT_AVATAR:"contact_avatar",CALLS_FROM_COMMUNITY:"calls_from_community"},U=n("HwS1"),F=n("xt6h"),W=n("2+aW"),K=n("El3O");function H(e){var t=window.cur.onPrivacyChanged,n={};Object(g.b)("al_settings.php?act=a_confirm_profile_close_box",{},{onDone:function(t,r){t.setOptions({width:550});var o=function(){var e,r=t.btns.ok[0];e=Object.entries(n).map((function(e){var t=e[0],n=e[1];return Object(W.c)({key:t,value:n,hash:window.cur.options.hash})})),Object(_.o)(r),Promise.all(e).then((function(){t.hide(),window.nav.reload({preventScroll:!0,onDone:function(){window.Settings.savePrivacyShowSaved(N.PROFILE_CLOSED),Object(K.m)()}})})).finally((function(){Object(_.w)(r)}))},a=function(){t.removeButtons(),Object.keys(n).length>0?(t.addButton(Object(d.d)("settings_closed_profile_confirm_box_button_save_settings"),o),t.addButton(Object(d.d)("global_cancel"),t.hide,"no")):(t.addButton(Object(d.d)("settings_closed_profile_confirm_box_button_close_profile"),(function(){t.hide(),e()})),t.addButton(Object(d.d)("global_cancel"),t.hide,"no"))};a(),window.cur.onPrivacyChanged=function(e){if(r.keys.includes(e)){var t=Object(W.a)(r.privacy[e]),o=Object(W.b)(e);t&&o&&!Object(F.g)(t,o)?n[e]=window.Privacy.getValue(e):delete n[e],a()}}},params:{onDestroy:function(){window.cur.onPrivacyChanged=t}}})}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var V={registerStartupHandlers:function(){Object(M.c)().setStartupHandler("Settings/update_lang",e=>(window.cur.lang=q({},window.cur.lang||{},{},e.payload.data),Promise.resolve(!1))),Object(M.c)().setStartupHandler("Settings/update_options",e=>{window.cur.options=JSON.parse(e.payload.data)}),Object(M.c)().setStartupHandler("Settings/init_blacklist",()=>{V.initBlacklist()}),Object(M.c)().setStartupHandler("PrivacySettings/init",e=>{V.initPrivacy(e.payload.data)})},registerInteractiveHandlers:function(){Object(M.c)().setInteractiveHandler("Settings/add_to_blacklist_dialog",()=>{V.addToBlacklist()}),Object(M.c)().setInteractiveHandler("Settings/add_to_blacklist",e=>{var t=e.payload.dataAttrs,n=t.id,r=t.hash;V.addToBl(parseInt(n),r,e.payload.event.target)}),Object(M.c)().setInteractiveHandler("Settings/do_add_to_blacklist",e=>{var t=e.payload.dataAttrs.mid;V.doAddToBlacklist(parseInt(t),e.payload.event.target)}),Object(M.c)().setInteractiveHandler("Settings/remove_from_blacklist",e=>{var t=e.payload.dataAttrs,n=t.id,r=t.hash;V.delFromBl(parseInt(n),r,e.payload.event.target)}),Object(M.c)().setInteractiveHandler("Settings/remove_top_from_blacklist",e=>{var t=e.payload.dataAttrs,n=t.id,r=t.hash;V.delTopFromBl(parseInt(n),r,e.payload.event.target)}),Object(M.c)().setInteractiveHandler("Settings/more_search_box",()=>{V.moreSearchBox(!1)});var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;showBox("payments",{act:"votes_transfer_box",to:t},{onDone(t,n){n&&(n.noBalance?t.setButtons(n.getVotesButtonText,()=>{t.hide(),U.a.showGetMoneyBox()},Object(d.d)("global_close")):new S.a(n,e))}})};Object(M.c)().setInteractiveHandler("Settings/transfer_votes_box",t=>{var n=t.payload.dataAttrs.maxTextLength;e(n)}),Object(M.c)().setStartupHandler("Settings/transfer_votes_init",t=>{var n=t.payload.data,r=n.maxTextLength,o=n.to;e(r,o)}),Object(M.c)().setStartupHandler("Settings/money_transfer_box",e=>{var t=e.payload.data.tab;L.a.showMoneyTransferBox({tab:t,to_id:!1,amount:!1,currency:"",from:"settings"})}),Object(M.c)().setInteractiveHandler("Settings/money_transfer_button",e=>{var t=e.payload.dataAttrs.tab;L.a.showMoneyTransferBox({tab:t,to_id:!1,amount:!1,currency:"",from:"settings"})}),Object(M.c)().setInteractiveHandler("Settings/show_money_land",e=>{showWiki({w:"moneysend"},!1,e.payload.event)}),Object(M.c)().setInteractiveHandler("Settings/vk_sans",e=>{var t=e.payload.event.target,n=e.payload.dataAttrs.hash;!function(e,t){B.a.post("/al_settings.php",{act:"a_change_vk_sans",hash:t,vk_sans:e?1:0})}(t.checked,n)}),Object(M.c)().setInteractiveHandler("PrivacySettings/open_profile",()=>{window.ajax.post("al_settings.php?act=a_save_special",{hash:cur.options.hash,key:N.PROFILE_CLOSED,val:0},{onDone:()=>{nav.reload({preventScroll:!0,onDone:()=>{V.scrollHighlightPrivacy(document.querySelector("._"+N.PROFILE_CLOSED)),V.savePrivacyShowSaved(N.PROFILE_CLOSED),updateNarrow()}})}})}),Object(M.c)().setInteractiveHandler("Settings/fill_balance",e=>{!1===Object(l.d)(e.payload.event)?U.a.showGetMoneyBox():location.href="/settings?act=payments&getvotes=1"}),Object(M.c)().setInteractiveHandler("Settings/spasibo_promo_banner",e=>{statlogsValueEvent("payments_ps_promo_banner_event","","votes_settings","relocate"),U.a.showGetMoneyBox({type:"spasibo"})}),Object(M.c)().setInteractiveHandler("Settings/spasibo_promo_votes_done",e=>{var t;null===(t=curBox())||void 0===t||t.hide(),statlogsValueEvent("payments_ps_promo_banner_event","","votes_successpage","relocate"),U.a.showGetMoneyBox({type:"spasibo"})}),Object(M.c)().setStartupHandler("Settings/get_votes",e=>{var t=e.payload.data.type;U.a.showGetMoneyBox({type:t})})},go:function(e,t){var n=V.getsect();return!1===Object(l.d)(t)&&(n.className="",e.parentNode.className="active_link"),nav.go(e,t)},getsect:function(){for(var e=Object(i.J)("settings_filters").firstChild;!Object(i.ab)(e,"active_link");)e=e.nextSibling;return e},showMsg:function(e,t){t||(t=Object(i.J)("settings_result")),e?(Object(c.b)(t,e,"ok_msg",!0),Object(i.xb)(t)):Object(i.bb)(t),Object(u.f)(0)},showError:function(e,t){e=e||Object(d.d)("global_unknown_error");var n=t?Object(i.J)("settings_error_"+t):Object(i.J)("settings_result");Object(c.b)(n,e,"error",!0),Object(i.xb)(n),t||Object(u.f)(0)},toggleBlock:function(e,t){var n,r;e&&e.target?(n=e.target,r=Object(i.ab)(n,"settings_line")?n:Object(i.Y)("settings_line",n)):(e=Object(i.J)(e),n=Object(i.L)("settings_right_control",e),r=Object(i.ab)(e,"settings_line")?e:Object(i.Y)("settings_line",e)),r&&Object(i.L)("settings_change_block",r)&&(!Object(i.ab)(r,"unfolded")||Object(i.ab)(n,"settings_right_control"))&&(cur.changingSetting&&cur.changingSetting!==r&&(Object(i.mb)(cur.changingSetting,"unfolded"),window.tooltips&&tooltips.hideAll()),Object(i.zb)(r,"unfolded"),cur.changingSetting=r,t&&Object(i.H)(t))},savePrivacyKey:function(e){if("friends"!==e){var t,n={key:e,val:Privacy.getValue(e),hash:cur.options.hash};if([N.SEARCH_ACCESS,N.UPDATES,N.COMPANY_MESSAGES,N.PROFILE_CLOSED,N.CONTACT_AVATAR,N.CALLS_FROM_COMMUNITY].includes(e)){if(e===N.UPDATES){var r=Privacy.getValue(e);if("0"!==r.substr(0,1))r.substr(2).length||(Object(i.J)("privacy_header").innerHTML=Object(i.J)("privacy_edit_updates").innerHTML=Object(d.d)("settings_updates_no_news"))}t="al_settings.php",n.act="a_save_special"}else t="al_friends.php",n.act="save_privacy";clearTimeout(cur["privacy_timer_"+e]),cur["privacy_timer_"+e]=setTimeout(()=>{window.ajax.post(t,n,{onDone:function(t){if(t)return nav.reload({preventScroll:!0,onDone:function(e){V.savePrivacyShowSaved(e),updateNarrow()}.pbind(e)});V.savePrivacyShowSaved(e)}})},500)}else window.uiPageBlock&&uiPageBlock.showSaved("privacy_friends_hide")},savePrivacyShowSaved:function(e){window.uiPageBlock&&uiPageBlock.showSaved("privacy_edit_"+e)},initPrivacy:function(e){var t=e.privacy,n=e.options,r=e.isClosedProfileExperimentEnabled;if(cur.privacy=t,cur.options=n,cur.isClosedProfileExperimentEnabled=r,cur.onPrivacyChanged=V.savePrivacyKey,cur.privacyNeedConfirm=function(e,t,n){if("profile_closed"===e&&Object(s.r)(t)){if(window.cur.isClosedProfileExperimentEnabled)return void H(n);var r=new MessageBox({title:Object(d.d)("settings_closed_profile_confirm_title")});r.content(Object(d.d)("settings_closed_profile_confirm_text")),r.removeButtons().addButton(Object(d.d)("settings_closed_profile_confirm_btn"),(function(){n(),r.hide()})),r.addButton(Object(d.d)("global_cancel"),r.hide,"no"),r.show()}else n()},nav.objLoc.hl){var o=Object(i.L)("_"+nav.objLoc.hl);V.scrollHighlightPrivacy(o)}},highlightPrivacy(e){(e=Object(i.J)(e))&&(Object(i.c)(e,"setting_row_selected"),Object(i.d)(e,"setting_row_animated",1500),Object(i.nb)(e,"setting_row_selected",2500),Object(i.nb)(e,"setting_row_animated",2500))},scrollHighlightPrivacy:function(e){(e=Object(i.J)(e))&&setTimeout((function(){var t=Object(i.V)(e)[1],n=Object(i.S)("page_header")[1],r=Object(u.e)(),o=Object(i.j)();t<n+r||t>r+o?(Object(u.g)(t),setTimeout(V.highlightPrivacy.pbind(e),300)):V.highlightPrivacy(e)}),0)},initSearchBox:function(e,t,n){Object(s.i)(cur,t),n&&ajax.preload(cur.searchBoxAddress,cur.searchBoxParams,n),window.uiScrollBox&&uiScrollBox.init(e,{onShow:function(){Object(l.b)(boxLayerWrap,"scroll",V.boxScrollResize),setTimeout(V.boxScrollResize,0)},onHide:function(){Object(l.i)(boxLayerWrap,"scroll",V.boxScrollResize)}}),Object(l.b)(boxLayerWrap,"scroll",V.boxScrollResize),V.boxScrollResize()},boxScrollResize:function(){if(!browser.mobile){var e=lastWindowHeight,t=Object(i.J)(cur.boxMoreLink);t&&Object(i.fb)(t)&&e>Object(i.V)(t,!0)[1]&&cur.boxShowMore()}},moreSearchBoxLoaded:function(e,t,n){cur.loading=!1,cur.searchBoxParams.offset=t;var r=cur.boxRows,o=Object(i.g)("div",{innerHTML:e});for(Object(i.yb)(cur.boxMoreLink,n);o.firstChild;)r.appendChild(o.firstChild)},moreSearchBox:function(e,t,n){var r=cur.boxMoreLink;!(e||Object(i.fb)(r)&&!Object(i.ab)(r,"loading"))||e&&n==cur.searchBoxParams.q||(cur.loading?cur.loading=2:(e&&(cur.oldBoxParams={q:cur.searchBoxParams.q,offset:cur.searchBoxParams.offset},Object(s.i)(cur.searchBoxParams,{q:n,offset:0})),ajax.post(cur.searchBoxAddress,cur.searchBoxParams,{onDone:function(n,r,o,a){if(e){if(a)return Object(s.i)(cur.searchBoxParams,cur.oldBoxParams),Object(i.Cb)(t,cur.oldBoxParams.q),void(cur.searchBoxFound&&cur.searchBoxFound(a));cur.boxRows.innerHTML=n?"":cur.boxNoRowsTpl,curBox().tbToTop()}V.moreSearchBoxLoaded.apply(window,arguments)},onFail:function(){return cur.loading=0,!0},showProgress:function(){Object(i.c)(r,"loading")},hideProgress:function(){Object(i.mb)(r,"loading")}})))},moreSearchBoxChange:function(e,t){t&&"paste"==t.type?V.moreSearchBox(!0,curBox().tbSearchField,e):e.length||V.moreSearchBox(!0,curBox().tbSearchField,"")},initBlacklist:function(){Object(i.J)("settings_bl_msg")&&setTimeout(i.mb.pbind(Object(i.J)("settings_bl_msg"),"msg_appear"),0),Object(i.H)("settings_bl_search")},searchBlacklist:function(e){e&&(e=e.toLowerCase());var t=Object(i.J)("settings_bl_empty"),n=Object(d.d)("settings_blacklist_not_found_by_query"),r=Object(i.J)("settings_bl_list"),o=0;Array.from(Object(i.K)("settings_bl_row",r)).forEach(t=>{if(e){var n=Object(i.L)("settings_bl_name",t);(Object(i.Cb)(Object(i.O)("a",n))||Object(i.Cb)(Object(i.L)("name_label"))).toLowerCase().indexOf(e)>-1?(Object(i.xb)(t),o++):Object(i.bb)(t)}else Object(i.xb)(t),o++}),e&&!o?(t.innerHTML=n.split("{query}").join("<b>"+e.replace(/([<>&#]*)/g,"")+"</b>"),Object(i.xb)(t),Object(i.bb)("settings_bl_noempty")):(Object(i.bb)(t),Object(i.xb)("settings_bl_noempty"))},doAddToBlacklist:function(e,t){ajax.post("al_settings.php",{act:"search_blacklist",query:e,hash:cur.options.blacklist_hash},{onDone:function(e,t,n){curBox().emit("success",n),curBox().hide();var r=Object(i.J)("settings_bl_summary");e&&-1!=e&&r&&(r.innerHTML=Object(d.j)(e,"%s",!0));var o=Object(i.g)("div",{innerHTML:t}).firstChild,a=Object(i.J)("settings_bl_list");Object(i.kb)(o.id),a&&(a.insertBefore(o,a.firstChild),Object(i.xb)("settings_bl_noempty"),Object(i.bb)("settings_bl_empty"),Object(c.b)("settings_bl_result",n,"ok_msg",!0))},onFail:function(e){return Object(c.b)("settings_search_rows",e,"error",!0),!0},showProgress:function(){"BUTTON"===t.tagName?Object(_.o)(t):uiSearch.showProgress(t)},hideProgress:function(){"BUTTON"===t.tagName?Object(_.w)(t):uiSearch.hideProgress(t)}})},addToBlacklist:function(){return showBox("al_settings.php",{act:"blacklist_box"},{params:{dark:!0}}),!1},addToBl:function(e,t,n){ajax.post("al_settings.php",{act:"a_add_to_bl",id:e,hash:t,from:"settings"},{onDone:function(t){t&&(Object(i.J)("settings_bl_summary").innerHTML=Object(d.j)(t,"%s",!0)),Object(i.bb)("settings_bl_label"+e),n.setAttribute("data-task-click","Settings/remove_from_blacklist"),n.innerHTML=Object(d.d)("settings_remove")},onFail:function(e){return setTimeout(Object(g.d)({title:Object(d.d)("global_error"),dark:1,bodyStyle:"padding: 20px; line-height: 160%;"},e).hide,2e3),!0},showProgress:function(){Object(i.bb)(n),Object(i.xb)("settings_progress"+e)},hideProgress:function(){Object(i.xb)(n),Object(i.bb)("settings_progress"+e)}})},delFromBl:function(e,t,n){ajax.post("al_settings.php",{act:"a_del_from_bl",id:e,hash:t,from:"settings"},{onDone:function(t){Object(i.J)("settings_bl_summary").innerHTML=t?Object(d.j)(t,"%s",!0):"",Object(i.vb)("settings_bl_label"+e,"display","inline"),n.setAttribute("data-task-click","Settings/add_to_blacklist"),n.innerHTML=Object(d.d)("settings_restore_blacklist")},onFail:function(e){return setTimeout(Object(g.d)({title:Object(d.d)("global_error"),dark:1,bodyStyle:"padding: 20px; line-height: 160%;"},e).hide,2e3),!0},showProgress:function(){Object(i.bb)(n),Object(i.xb)("settings_progress"+e)},hideProgress:function(){Object(i.xb)(n),Object(i.bb)("settings_progress"+e)}})},delTopFromBl:function(e,t,n){var r=Object(i.g)("img",{src:"/images/upload.gif"});ajax.post("al_settings.php",{act:"a_del_from_bl",id:e,hash:t,from:"settings"},{onDone:function(t){t&&(Object(i.J)("settings_bl_summary").innerHTML=t?Object(d.j)(t,"%s",!0):""),Object(i.vb)("settings_bl_label"+e,"display","inline");var n=Object(i.O)("a",Object(i.L)("settings_bl_action",Object(i.J)("settings_bl_row"+e)));n.setAttribute("data-task-click","Settings/add_to_blacklist"),n.innerHTML=Object(d.d)("settings_restore_blacklist"),Object(i.bb)("settings_bl_result")},showProgress:function(){n.parentNode.replaceChild(r,n)},hideProgress:function(){r.parentNode.replaceChild(n,r)}})},saveSmsNotify:function(e){Object(_.o)(e);var t={act:"a_save_sms_notify",hash:cur.options.notify_hash};Object(s.f)(cur.options.notify_sms_keys,(function(e,n){t[n]=Privacy.getValue(n)})),t.smsenabled=Object(_.l)("smsenabled")?1:0,Object(_.l)("daytime")?(t.daytime_from=Object(i.J)("daytime_from").value,t.daytime_to=Object(i.J)("daytime_to").value):(t.daytime_from=0,t.daytime_to=0),Object(i.Cb)("settings_notify_sms_result",""),ajax.post("al_settings.php",t,{onDone:function(t,n,r){Object(_.w)(e),n&&r?Object(g.d)({title:t,dark:1,bodyStyle:"padding: 20px; line-height: 160%;"},n,Object(d.d)("settings_subscribe_to_service_btn"),(function(){window.open(r),curBox().hide()}),Object(d.d)("box_cancel"),(function(){Object(_.c)("smsenabled",0),V.smsNotifyCheck(),V.saveSmsNotify(),curBox().hide()})):Object(c.b)("settings_notify_sms_result",t,"ok_msg",!0)},onFail:function(t){Object(_.w)(e),Object(_.c)("smsenabled",0),V.smsNotifyCheck(),V.saveSmsNotify()}})},updateInstantSounds:function(e){Object(i.zb)(Object(i.L)("_ui_toggler",e),"on"),f.a.set("sound_notify_off",Object(i.ab)(Object(i.L)("_settings_isounds"),"on")?0:1),uiPageBlock.showSaved(e)},saveSiteNotify:function(e){Object(i.zb)(Object(i.L)("_ui_toggler",e),"on");var t={act:"a_save_site_notify",hash:cur.options.notify_hash,ienable:Object(i.ab)(Object(i.L)("_settings_ienable"),"on")?1:0,itexts:Object(i.ab)(Object(i.L)("_settings_itexts"),"on")?1:0};Object(s.f)(Object(i.K)("_settings_nf_bt"),(function(e,n){t["nf_bt_"+n.getAttribute("data-id")]=+Object(i.ab)(n,"on")})),cur.options.notify_privacy_keys&&cur.options.notify_privacy_keys.forEach((function(e){t["nf_"+e]=0|Privacy.getValue(e)})),clearTimeout(cur.instantNotifyTO),clearTimeout(cur.instantNotifySaveTO),cur.instantNotifyTO=setTimeout(ajax.post.pbind("al_settings.php",t,{onDone:function(){cur.instantNotifySaveTO=setTimeout(window.uiPageBlock&&uiPageBlock.showSaved.pbind(e),1e3)}}),500),TopNotifier&&TopNotifier.invalidate()},saveBrowserNotify:function(e){var t="browser_notification",n=Object(i.J)("privacy_edit_"+t),r=Number(Privacy.getValue(t));Object(i.c)(n,"privacy_link_disabled"),pushNotifier.canBeEnabled().then((function(o){o?pushNotifier.setupSubscription().then((function(){return Object(i.mb)(n,"privacy_link_disabled"),pushNotifier.setState(r,cur.options.push_notify_hash)})).catch((function(r){p.a.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS===r?pushNotifier.showPopupAllowNotification():Object(g.d)(Object(d.d)("global_error"),Object(d.d)("notifications_native_common_error")),Privacy.setValue(t,e),Object(i.mb)(n,"privacy_link_disabled")})):(Privacy.setValue(t,e),Object(i.mb)(n,"privacy_link_disabled"),Object(g.d)(Object(d.d)("global_error"),Object(d.d)("notifications_native_common_error")))}))},saveGroupNotify:function(e,t){if(Object(i.ab)(Object(i.L)("_ui_toggler",e),"ui_toggler_disable"))return!1;Object(i.zb)(Object(i.L)("_ui_toggler",e),"on");var n={act:"a_save_group_notify",hash:cur.options.notify_hash,gid:t};Object(s.f)(Object(i.K)("ui_toggler",Object(i.q)("wide_column",e)),(function(e,t){n[t.getAttribute("data-id")]=+Object(i.ab)(t,"on")})),clearTimeout(cur.instantNotifyTO),clearTimeout(cur.instantNotifySaveTO),cur.instantNotifyTO=setTimeout(ajax.post.pbind("al_settings.php",n,{onDone:function(){cur.instantNotifySaveTO=setTimeout(window.uiPageBlock&&uiPageBlock.showSaved.pbind(e),1e3)}}),500),TopNotifier&&TopNotifier.invalidate()},checkboxSiteNotify:function(e,t){t.target&&Object(i.ab)(t.target,"item_sel")||(Object(_.c)(e),V.saveSiteNotify(e))},saveMailNotify:function(e){var t={act:"a_save_mail_notify",hash:cur.options.notify_hash,mail_period:Privacy.getValue("mail_period")};Object(s.f)(cur.options.notify_mail_keys,(function(e,n){t[n]=Object(_.l)(n)?1:0})),clearTimeout(cur.mailNotifyTO),cur.mailNotifyTO=setTimeout(ajax.post.pbind("al_settings.php",t,{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind(e)}),500)},saveNotifyPrivacyKey:function(e,t){"browser_notification"===e?V.saveBrowserNotify(t):"mail_period"===e?(V.saveMailNotify("privacy_edit_"+e),3==Privacy.getValue(e)?Object(i.bb)("mail_options"):Object(i.xb)("mail_options")):cur.options.notify_privacy_keys&&~cur.options.notify_privacy_keys.indexOf(e)?V.saveSiteNotify("privacy_edit_"+e):"sms_pm_notify"===e&&(0!=Privacy.getValue(e)?Object(i.bb)("sms_pm_privacy_row"):Object(i.xb)("sms_pm_privacy_row"))},initNotify:function(){cur.options.msg&&V.showMsg(cur.options.msg);var e=Object(i.L)("_settings_isounds");Object(i.zb)(e,"on",!f.a.get("sound_notify_off")),Object(i.nb)(e,"no_transition"),cur.reloadOnMailBind=!0,cur.onPrivacyChanged=V.saveNotifyPrivacyKey;for(var t=[],n=24;n--;)t.unshift((n<10?"0":"")+n+":00");var r=Object(i.J)("daytime_from"),o=Object(i.J)("daytime_to");r&&o&&(void 0!==cur.options.time_from&&new Dropdown(r,t,{selectedItems:cur.options.time_from}),void 0!==cur.options.time_to&&new Dropdown(o,t,{selectedItems:cur.options.time_to}))},smsNotifyCheck:function(){Object(_.l)("smsenabled")?(slideDown(Object(i.J)("sms_options"),200),Object(i.xb)("sms_options_msg")):Object(i.fb)("sms_options")&&(Object(i.bb)("sms_options_msg"),slideUp(Object(i.J)("sms_options"),200))},smsDayTimeCheck:function(){Object(_.l)("daytime")?slideDown(Object(i.J)("daytime_from_to"),200):slideUp(Object(i.J)("daytime_from_to"),200)},checkPIN:function(e){var t=e.value.replace(/[^0-9]/g,"");e.value!==t&&(e.value=t)},updatePIN:function(e){Object(_.o)(Object(i.J)("pin_btn")),Object(i.Cb)("settings_pin_result","");var t={act:"a_change_pin",pin:Object(i.J)("pin").value,hash:e};ajax.post("al_settings.php",t,{onDone:function(e){Object(_.w)(Object(i.J)("pin_btn")),Object(i.Cb)("settings_pin_value",t.pin),Object(c.b)("settings_pin_result",e,"ok_msg",!0)},onFail:function(e){return Object(_.w)(Object(i.J)("pin_btn")),Object(c.b)("settings_pin_result",e,"error",!0),!0}})},getAdminSelectShowCt:function(e){return Object.keys(e).filter((function(t){return e[t]})).length},initMenuBox:function(e,t,n){this.initMenuEvents(e),e.setOptions({onHide:function(){cur.adminGroupsDirty&&(window.Notifier&&Notifier.resetCommConnection(),ajax.post("al_settings.php",{act:"a_get_left_menu"},{onDone:function(e){Object(i.O)("ol",Object(i.J)("side_bar")).innerHTML=e}})),2==t&&Object(s.v)(cur.settingsBoxSetLeftMenuAppCallback)&&cur.settingsBoxSetLeftMenuAppCallback(!1)}}),cur.menuSettings=n,this.updateMenuBoxCount(t)},initMenuEvents:function(e){var t=Object(i.L)("olist",e.bodyNode),n=Object(i.L)("summary_tabs",e.bodyNode);Object(i.vb)(n,"display","inline-block");var r=Object(i.S)(n)[0]+parseInt(Object(i.T)(n,"marginLeft"))+parseInt(Object(i.T)(n,"marginRight"));r>450&&e.setOptions({width:Math.ceil(r)}),Object(i.vb)(n,"display",null),Object(l.b)(t,"scroll",this.onMenuBoxScroll.pbind(e,t)),this.onMenuBoxScroll(e,t)},onMenuBoxScroll:function(e,t){var n=Object(i.C)(e.bodyNode),r=t.scrollHeight,o=t.scrollTop,a=t.offsetHeight||t.clientHeight;Object(i.zb)(n,"olist_topsh",o>0),Object(i.zb)(n,"olist_botsh",o+a<r)},updateMenuBoxCount:function(e){var t=curBox(),n=cur.menuSettings[e]||{},r=V.getAdminSelectShowCt(n),o="";if(1==e||2==e){var a=cur.menuSettings.limits[e];o='<span class="settings_menu_box_counter">'+Object(d.d)("settings_admin_groups_left").replace("{count}",r).replace("{amt}",a)+"</span>"}t.setControlsText(o)},toggleMenuBoxRow:function(e,t,n){var r=cur.menuSettings[t]||{},o=V.getAdminSelectShowCt(r),a=r[n];if(curBox().changed=!0,1==t||2==t){var s=cur.menuSettings.limits[t];if(Object(i.zb)(Object(i.Y)("olist_section",e),"settings_menu_rows_disabled",!a&&o>=s-1),!a&&o>=s)return!1}return Object(i.zb)(e,"olist_item_wrap_on",!a),r[n]=a?0:1,V.updateMenuBoxCount(t),!1},switchMenuBoxSection:function(e,t){var n=curBox();Object(s.f)(Object(i.K)("olist_section",n.bodyNode),(function(){Object(i.bb)(this)})),Object(i.xb)("settings_menu_"+t),Object(i.L)("olist",n.bodyNode).scrollTop=0,V.updateMenuBoxCount(t)},saveMenu:function(e,t){for(var n=curBox(),r=[],o=[],a=[],c=[],u={hash:e,act:"a_change_services"},l=!1,d=function(e){var t=cur.menuSettings[e]||{};Object(s.f)(t,(function(t,n){switch(e){case 1:n&&o.push(t);break;case 2:a.push(t),n&&(cur.aid==t&&(l=!0),r.push(t));break;case 3:n||c.push(t);break;default:u[t]=n}}))},p=0;p<=3;p++)d(p);a.length&&(u.apps_all=a.join(","),u.apps_on=r.join(",")),u.groups_list=o.join(","),u.service_hidden=c.join(","),ajax.post("al_settings.php",u,{onDone:function(e){Object(i.O)("ol",Object(i.J)("side_bar")).innerHTML=e,window.uiPageBlock&&uiPageBlock.showSaved("settings_services"),Object(s.v)(cur.settingsBoxSetLeftMenuAppCallback)&&cur.settingsBoxSetLeftMenuAppCallback(l),n.hide(),window.Apps&&window.Apps.updateAddToMenuAction()},showProgress:_.o.pbind(t),hideProgress:_.w.pbind(t)})},giftsCheck:function(){clearTimeout(cur.giftsUpdateTO),cur.giftsUpdateTO=setTimeout(V.giftsSubmit,200)},giftsSubmit:function(){ajax.post("/al_profile.php",{act:"hide_gifts",hash:cur.options.hide_gifts_hash,shown:Object(i.J)("settings_hide_gifts").checked?0:1},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},gifCheck:function(){clearTimeout(cur.gifUpdateTO),cur.gifUpdateTO=setTimeout(V.gifSubmit,200)},gifSubmit:function(){ajax.post("/al_settings.php",{act:"a_change_autoplay_gif",hash:cur.options.gif_autoplay_hash,no_autoplay:Object(i.J)("settings_gif_autoplay").checked?0:1},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},accessCheck:function(){clearTimeout(cur.accessUpdateTO),cur.accessUpdateTO=setTimeout(V.accessSubmit,200)},accessSubmit:function(){ajax.post("/al_settings.php",{act:"a_toggle_access_mode",hash:cur.options.a11y_hash,mode:Object(s.r)(Object(i.J)("settings_a11y").checked)},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("settings_a11y")})},stickersHintsCheck:function(){clearTimeout(cur.stickersHintsTO),cur.stickersHintsTO=setTimeout(V.stickersHintsSubmit,200)},stickersHintsSubmit:function(){ajax.post("/al_settings.php",{act:"a_change_stickers_hints",hash:cur.options.stickers_hints_hash,hints:Object(i.J)("settings_stickers_hints").checked?1:0},{onDone:function(){window.uiPageBlock&&uiPageBlock.showSaved("cposts"),window.Emoji&&Emoji.updateTabs.apply(window,arguments)}})},videoCheck:function(){clearTimeout(cur.videoUpdateTO),cur.videoUpdateTO=setTimeout(V.videoSubmit,200)},videoSubmit:function(){ajax.post("/al_settings.php",{act:"a_change_autoplay_video",hash:cur.options.video_autoplay_hash,video_autoplay:Object(i.J)("settings_video_autoplay").checked?1:0},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},videostartCheck:function(){clearTimeout(cur.videostartUpdateTO),cur.videostartUpdateTO=setTimeout(V.videostartSubmit,200)},videostartSubmit:function(){ajax.post("/al_settings.php",{act:"a_change_autostart_video",hash:cur.options.video_autostart_hash,video_autostart:Object(i.J)("settings_video_autostart").checked?1:0},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},hintachCheck:function(){clearTimeout(cur.hintachUpdateTO),cur.hintachUpdateTO=setTimeout(V.hintachSubmit,200)},hintachSubmit:function(){ajax.post("/al_settings.php",{act:"a_change_hintach",hash:cur.options.hintach_hash,hintach:Object(i.J)("settings_hintach").checked?1:0},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},drCheck:function(){clearTimeout(cur.drUpdateTO),cur.drUpdateTO=setTimeout(V.drSubmit,200)},drSubmit:function(){ajax.post("/al_settings.php",{act:"a_change_dr",hash:cur.options.dr_hash,dr:Object(i.J)("settings_dr").checked?1:0},{onDone:nav.reload.pbind()})},externalAuthCheck:function(){clearTimeout(cur.externalAuthUpdateTO),cur.externalAuthUpdateTO=setTimeout((function(){ajax.post("al_settings.php",{act:"a_change_external_auth",hash:cur.options.external_auth_hash,state:Object(i.J)("settings_external_auth").checked?1:0},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})}),200)},videoadsCheck:function(){clearTimeout(cur.videoadsUpdateTO),cur.videoadsUpdateTO=setTimeout(V.videoadsSubmit,200)},videoadsSubmit:function(){ajax.post("/al_settings.php",{act:"a_change_ads_video",hash:cur.options.video_ads_hash,video_ads:Object(i.J)("settings_video_ads").checked?1:0},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},vkPayEndpointCheck:function(){clearTimeout(cur.vkPayEndpointUpdateTO),cur.vkPayEndpointUpdateTO=setTimeout(V.vkPayEndpointSubmit,200)},vkPayEndpointSubmit:function(){ajax.post("/al_settings.php",{act:"a_change_vk_pay_endpoint",hash:cur.options.vk_pay_endpoint_hash,vk_pay_endpoint:Object(i.J)("settings_vk_pay_endpoint").checked?1:0},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},microblogCheck:function(e){Object(i.ab)(Object(i.J)("settings_"+e),"disabled")||Object(i.J)("settings_"+e).disabled||(clearTimeout(cur.microblogUpdateTO),cur.microblogUpdateTO=setTimeout(V.microblogSubmit,200))},microblogSubmit:function(){var e={act:"a_change_microblog",hash:cur.options.microblog_hash};Object(s.f)(["status_default","no_wall_replies"],(function(t,n){var r=Object(i.J)("settings_"+n);r&&(e[n]=r.checked?1:0)})),ajax.post("/al_settings.php",e,{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},photoTagFriendsCheck:function(){clearTimeout(cur.photoAutoTagFriendsUpdateTO),cur.photoAutoTagFriendsUpdateTO=setTimeout(V.photoTagFriendsSubmit,200)},recognitionUserBlockCheck(){clearTimeout(cur.recognitionUserBlockUpdateTO),cur.recognitionUserBlockUpdateTO=setTimeout(V.recognitionUserBlockSubmit,200)},recognitionFriendsBlockCheck(){clearTimeout(cur.recognitionFriendsBlockUpdateTO),cur.recognitionFriendsBlockUpdateTO=setTimeout(V.recognitionFriendsBlockSubmit,200)},recognitionUserBlockSubmit(){ajax.post("/al_settings.php",{act:"toggle_user_recognition_block",hash:cur.options.recognition_user_hash,enabled:Object(i.J)("settings_recognition_user").checked?1:0},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},recognitionFriendsBlockSubmit(){ajax.post("/al_settings.php",{act:"toggle_friends_recognition_block",hash:cur.options.recognition_friends_hash,enabled:Object(i.J)("settings_recognition_friends").checked?1:0},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},photoTagFriendsSubmit:function(){ajax.post("/al_settings.php",{act:"a_change_autotag_friends",hash:cur.options.autotag_friends_hash,autotag_friends:Object(i.J)("settings_autotag_friends").checked?1:0},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("cposts")})},OTPAuthEnable:function(e){return showBox("al_settings.php",{act:"otp_auth_box",confirm:e,hash:cur.options.otp_hash},{params:{dark:!0}}),!1},OTPAuthAppSet:function(e){var t={act:"otp_auth_app_box"};return e?(curBox().hide(),t.force=1,t.hash=e):t.hash=cur.options.otp_hash,showBox("al_settings.php",t),!1},OTPAuthDisable:function(e){if(Object(_.k)(e))return!1;var t={type:"otp_auth",hash:cur.options.otp_hash};ajax.post("al_settings.php?act=a_otp_auth_save",t,{showProgress:()=>Object(_.o)(e),hideProgress:()=>Object(_.w)(e),onFail:e=>void 0!==e&&Object(b.m)(e)})},OTPAuthAppDisable:function(){if(Object(i.fb)(curBox().progress))return!1;var e={type:"otp_auth_by_app",hash:cur.options.otp_hash};ajax.post("al_settings.php?act=a_otp_auth_save",e,{showProgress:curBox().showProgress,hideProgress:curBox().hideProgress,onDone:function(){Object(i.c)("settings_otp_auth_app_set","settings_otp_app_disabled"),Object(i.Cb)("settings_otp_auth_app_set_link",Object(d.d)("settings_otp_auth_by_app_enable")),curBox().hide()}})},OTPAuthShowReserveCodes:function(e,t){return showBox("al_settings.php",{act:"otp_auth_reserve_codes_box",hash:e,force_new:t?1:0},{params:{dark:!0}}),!1},OTPAuthGetTrusted:function(e){var t=Object(i.J)("settings_otp_auth_trusted");if(t&&Object(i.fb)(t)&&(e||Object(i.O)("img",t))){var n=vk.loginscheme!=location.protocol.substr(0,location.protocol.length-1)?1:0;ajax.post(vk.loginscheme+"://"+location.host+"/al_login.php",{act:"is_trusted_browser",_http:n},{frame:n,onDone:function(e){t.innerHTML=e}})}},OTPAuthClearTrusted:function(e,t,n){var r=!1,o=e.getAttribute("confirm");function a(){if(!t&&cur.options.otp_reset_hash)return cur.onReLoginDoneCallback=function(){var e=Object(i.J)("settings_reset_sessions_link");e&&(e.parentNode.innerHTML='<div class="settings_labeled_notice">'+Object(d.d)("setting_all_sessions_reset")+"</div>")},V.reset_sessions=!1,V.resetAllSessions(e,'<input name="otp_reset_hash" value="'+cur.options.otp_reset_hash+'" type="hidden" />',e.getAttribute("complete"),cur.options.logout_hash),void(r&&r.hide());var o=Object(i.g)("img",{src:"/images/upload"+(window.devicePixelRatio>=2?"_2x":"")+".gif"},{width:32}),a=vk.loginscheme!=location.protocol.substr(0,location.protocol.length-1)?1:0;ajax.post(vk.loginscheme+"://"+location.host+"/al_login.php",{act:"clear_trusted_browsers",only_cur:t,hash:n,_http:a},{frame:a,onDone:function(t){r&&r.hide(),e.parentNode.innerHTML='<div class="settings_labeled_notice">'+e.getAttribute("complete")+"</div>"},showProgress:function(){r?r.showProgress():e.parentNode.replaceChild(o,e)},hideProgress:function(){r?r.hideProgress():o.parentNode.replaceChild(e,o)}})}o?(o=o.split("<!!>"),r=Object(g.d)({title:o[0],dark:1,bodyStyle:"padding: 20px;"},o[1],o.length>2?o[2]:Object(d.d)("box_yes"),a)):a()},OTPAppPasswords:function(){return showBox("al_settings.php",{act:"otp_auth_app_passwords_box"},{params:{dark:!0}}),!1},OTPCreateAppPassword:function(e,t){if(!Object(_.k)(e)){var n=Object(i.Cb)("settings_app_password_name");n.length?(Object(i.Cb)("settings_app_passwords_error",""),ajax.post("al_settings.php",{act:"a_otp_auth_create_app_password",name:n,hash:t},{onDone:function(e,t,n){Object(g.d)({title:e,width:450},t),Object(i.J)("settings_app_passwords_table_wrap").innerHTML=n,Object(i.bb)("settings_app_passwords_empty"),Object(i.Cb)("settings_app_password_name","")},onFail:function(e){return e&&Object(c.b)("settings_app_passwords_error",e,"error",!0),!0},showProgress:_.o.pbind(e),hideProgress:_.w.pbind(e)})):Object(_.q)("settings_app_password_name")}},OTPRemoveAppPassword:function(e,t,n){return ajax.post("al_settings.php",{act:"a_otp_auth_remove_app_password",id:t,hash:n},{onDone:function(){Object(i.kb)("settings_app_password"+t),Object(i.N)("tr","settings_app_passwords_table_wrap").length<=1&&(Object(i.J)("settings_app_passwords_table_wrap").innerHTML="",Object(i.xb)("settings_app_passwords_empty"))},showProgress:function(){Object(_.u)(e.parentNode),Object(i.bb)(e)},hideProgress:function(){Object(_.i)(e.parentNode),Object(i.xb)(e)}}),!1},passwordDone:function(e,t){var n;Object(i.kb)(cur.pwchFrame),Object(_.w)(cur.pwchDestroy),cur.pwchFrame=!1;var r="settings_new_pwd";switch(e){case 1:n="settings_cant_set_this_password";break;case-2:n="settings_oldpwd_notcorr",r="settings_old_pwd";break;case-3:n="settings_newpwd_not_good",r="settings_new_pwd";break;case 2:return Object(i.bb)("settings_error_pwd"),Object(i.Cb)(Object(i.L)("settings_labeled_text","chgpass"),Object(d.d)("settings_pass_update_just_now")),Object(i.Cb)("settings_old_pwd",""),Object(i.Cb)("settings_new_pwd",""),Object(i.Cb)("settings_confirm_pwd",""),V.toggleBlock("chgpass"),V.showMsg(Object(d.d)("settings_pass_success")),void(cur.pwchCaptchaBox&&(cur.pwchCaptchaBox.hide(),cur.pwchCaptchaBox=!1));case-1:return void(cur.pwchCaptchaBox=showCaptchaBox(t,1,cur.pwchCaptchaBox,{onSubmit:V.passwordSubmit.pbind(cur.pwchDestroy),onDestroy:function(){}}));default:n="settings_cant_change_password"}cur.pwchCaptchaBox&&(cur.pwchCaptchaBox.hide(),cur.pwchCaptchaBox=!1),V.showError(Object(d.d)(n),"pwd"),Object(_.q)(r)},passwordSubmit:function(e,t,n){var r=Object(i.Cb)("settings_old_pwd"),o=Object(i.Cb)("settings_new_pwd"),a=Object(i.Cb)("settings_confirm_pwd"),s=Object(i.J)("settings_pwd_tt_place").tt;if(!cur.pwchFrame)if(r)if(o)if(a){if(s&&s.hide({fasthide:!0}),o.match(/\s/))return V.showError(Object(d.d)("settings_pwd_bad"),"pwd"),Object(_.q)("settings_new_pwd"),void(s&&setTimeout(s.show,10));if(o.length<6)return V.showError(Object(d.d)("settings_pwd_bad"),"pwd"),Object(_.q)("settings_new_pwd"),void(s&&setTimeout(s.show,10));if(a!=o)return V.showError(Object(d.d)("settings_newpwd_notcorr"),"pwd"),Object(_.q)("settings_confirm_pwd"),void(s&&setTimeout(s.show,10));cur.pwchDestroy||cur.destroy.push((function(e){Object(i.kb)(e.pwchFrame)})),cur.pwchDestroy=e,curBox()||Object(_.o)(cur.pwchDestroy);var c={act:"changepass",_origin:locProtocol+"//"+locHost,pass:r,new_pass:o};t&&n&&(c.captcha_sid=t,c.captcha_key=n),c.phash=cur.options.phash,cur.pwchDone=V.passwordDone,cur.pwchFrame=utilsNode.appendChild(Object(i.g)("iframe",{src:Object(m.a)()+"?"+AjaxConvert.toQueryString(c)}))}else Object(_.q)("settings_confirm_pwd");else Object(_.q)("settings_new_pwd");else Object(_.q)("settings_old_pwd")},mailSubmit:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=r?"settings_new_notify_mail":"settings_new_mail",a=r?"settings_error_notify_mail":"settings_error_mail",c=r?"a_bind_notify_mail":"a_bind_mail",u=r?"chgnotifymail":"chgmail";if(t)n="",Object(i.kb)(e);else{if(!(n=Object(s.I)(Object(i.Cb)(o))))return void Object(_.q)(o);Object(_.o)(e)}var l={act:c,email:n,is_new:1,hash:cur.options.mail_hash};return Object(i.J)(o).blur(),Object(i.bb)(a),ajax.post("al_settings.php",l,{onDone:function(t,n){if(Object(_.w)(e),n){var r=Object(i.J)(u);r.parentNode.replaceChild(Object(i.rb)(n),r)}Object(i.J)(o).value="",showDoneBox(t,{out:4e3,w:400})},onFail:function(t){if(Object(_.w)(e),!Object(s.B)(t)){var n=void 0!==t.message?t.message:t;V.showError(n,"mail")}return!0}}),!1},phoneSubmit:function(){showBox("activation.php",{act:"change_phone_box",hash:cur.options.phone_hash})},regionalSubmit:function(e){var t=(Object(i.J)("timezone")||{}).value,n={act:"a_change_regional",timeoffset:t,hash:cur.options.regional_hash||cur.options.regional_hashes[t]};Object(_.o)(e),ajax.post("al_settings.php",n,{onDone:function(t){Object(_.w)(e),V.showMsg(t)},onFail:function(t){return Object(_.w)(e),V.showError(t),!0}})},reset_sessions:!1,resetAllSessions:function(e,t,n,r){if(V.reset_sessions)return!1;V.reset_sessions=!0;var o=bodyNode.appendChild(Object(i.g)("div",{innerHTML:`<form action="${Object(m.a)()}" method="POST" target="reset_sessions_frame">\n  <input name="_origin" value="${locProtocol+"//"+locHost}" type="hidden" />\n  <input name="role" value="al_frame" type="hidden" />\n  <input name="ip_h" value="${vk.ip_h}" type="hidden" />\n  <input name="reset_hash" value="${cur.options.reset_hash}" type="hidden" />${void 0!==t?t:""}\n</form><iframe class="upload_frame" name="reset_sessions_frame"></iframe>`})),a=o.firstChild,c=Object(i.g)("img",{src:"/images/upload"+(window.devicePixelRatio>=2?"_2x":"")+".gif"},{width:32});return window.onReLoginDone=function(t,r,a){if(Object(i.kb)(o),"object"==typeof r&&(r=a),cur.options.reset_hash=r,e)!0!==e&&c.parentNode.replaceChild(Object(i.g)("div",{className:"settings_labeled_notice",innerHTML:n||Object(d.d)("setting_all_sessions_reset")}),c);else{var u=curBox();u&&(u.hideProgress(),u.setControlsText(Object(d.d)("setting_all_sessions_reset")));var l=0;Object(s.f)(Object(i.J)("activity_history").childNodes,(function(e,t){1===t.nodeType&&(l>0&&!Object(i.ab)(t,"settings_old_session")&&(Object(i.c)(t,"settings_old_session"),Object(i.kb)(Object(i.L)("settings_cur_session",t))),l++)}))}Object(s.v)(cur.onReLoginDoneCallback)&&cur.onReLoginDoneCallback(),V.reset_sessions=!1},e?!0!==e&&e.parentNode.replaceChild(c,e):curBox().showProgress(),a.submit(),!1},resetSession:function(e,t,n){var r={reset_data:t,hash:n},o=function(t){var n=document.querySelector('.settings_history_row[data-id="'+e+'"]');Object(i.c)(n,"settings_old_session"),Object(i.kb)(document.querySelector("._settings_reset_session"+e)),showDoneBox(t)},a=Object(d.d)("settings_activity_session_reset_box_title"),s=Object(d.d)("settings_activity_session_reset_box_text"),c=Object(d.d)("settings_activity_session_reset_box_button");Object(g.d)(a,s,c,(function(){ajax.post("/settings?act=a_reset_session",r,{onDone:o}),curBox().hide()}),Object(d.d)("global_cancel"))},ipTTClick:function(e,t){Object(l.c)(t);var n=document.createRange();n.selectNodeContents(e);var r=getSelection();r.removeAllRanges(),r.addRange(n),document.execCommand("copy"),r.removeAllRanges()},showUserClientTT:function(e,t){var n="";Object(i.ab)(e.parentNode.parentNode,"settings_old_session")&&(n='<div style="font-weight:bold; margin-bottom:5px;">'+Object(d.d)("settings_session_terminated")+"</div>"),cur.options.ua_tooltips[t]&&(n+=cur.options.ua_tooltips[t]),n&&Object(v.c)(e,{text:n,dir:"auto",slide:15,className:"settings_user_client_tt",hasover:1})},disabledPrivacy:function(){var e=Object(i.L)("settings_privacy_add_replies_view",Object(i.J)("content"));e&&Object(v.c)(e,{black:!0,hasover:1,className:"settings_comments_disabled_tt",shift:[0,5],text:Object(d.d)("settings_comments_disabled_tt").replace("{link}",'<a href="/settings?f=cposts" onclick="return nav.go(this, event, {nocur: true})">').replace("{/link}","</a>")})},checkAddress:function(e){cur.addrUnchecked=0,clearTimeout(cur.addressCheckTO),cur.lastAddress!=Object(i.Cb)("settings_addr")&&(cur.addressCheckTO=setTimeout(V.doCheckAddress,e||0))},doCheckAddress:function(){var e=Object(i.J)("settings_address_submit");cur.lastAddress=Object(i.Cb)("settings_addr"),ajax.post("al_settings.php",{act:"a_check_address",name:cur.lastAddress},{onDone:function(t){cur.addrChecked=1,Object(_.f)(e,!1),e.innerHTML=t},onFail:function(t){return cur.addrChecked=-1,e.innerHTML=t,Object(_.f)(e,!0),!0},showProgress:function(){Object(_.o)(e),Object(_.f)(e,!1)},hideProgress:function(){Object(_.w)(e)}})},addressSubmit:function(e){1==cur.addrChecked?(Object(_.o)(e),ajax.post("al_settings.php",{act:"a_change_address",hash:cur.options.address_hash,name:Object(i.Cb)("settings_addr")},{onDone:function(t){Object(_.w)(e),V.showMsg(t)},onFail:function(t){return Object(_.w)(e),t&&V.showError(t,"addr"),!0}})):Object(_.q)("settings_addr")},init:function(){cur.checkboxResultsTOs={},cur.module="settings",cur.options.msg?V.showMsg(cur.options.msg):cur.options.err&&V.showError(cur.options.err),Object(s.f)({settings_status_default:Object(d.d)("settings_status_default_about"),settings_no_wall_replies:Object(d.d)("settings_no_wall_replies_about"),settings_video_autoplay:Object(d.d)("settings_video_autoplay")},(function(e,t){(e=Object(i.F)('label[for="'+e+'"]'))&&(e.onmouseover=function(){Object(v.c)(this,{shift:[-20,8,8],dir:"auto",text:t,slide:15,className:"settings_tt",hasover:1})})}));var e=Object(i.J)("settings_pwd_tt_place");Object(s.f)([Object(i.J)("settings_new_pwd"),Object(i.J)("settings_confirm_pwd")],(function(){this&&(this.onfocus=function(){Object(v.c)(e,{text:Object(d.d)("settings_password_about"),dir:"left",slideX:15,className:"settings_pwd_tt",shift:[-12,-15,0],onCreate:function(){Object(l.i)(e,"mouseout")}})},this.onblur=function(){e.tt&&e.tt.hide&&e.tt.hide()})}));var t=Object(i.J)("settings_addr");t.onfocus=function(){Object(v.c)(t,{text:Object(d.d)("settings_addr_intro"),dir:"auto",slide:15,className:"settings_toup_tt",shift:[Object(i.S)("prefix_input_prefix")[0],10],onCreate:function(){Object(l.i)(t,"mouseout"),t.onblur=function(){t.tt.hide()}}})},cur.lastAddress=Object(i.Cb)(t);var n=Object(i.J)("settings_new_mail");n&&(n.onfocus=function(){Object(v.c)(n,{text:Object(d.d)("settings_email_about"),dir:"auto",slide:15,className:"settings_toup_tt",shift:[0,10],onCreate:function(){Object(l.i)(n,"mouseout"),n.onblur=function(){n.tt.hide()}}})}),Object(s.i)(cur,{validationLastCallback:function(e){curBox()&&curBox().hide(),e?V.phoneSubmit():Object(i.H)("settings_new_phone")}}),V.initRepliesOrder(),setTimeout((function(){if(nav.objLoc.f){var e=Object(i.J)(nav.objLoc.f.split(",")[0]);e&&Object(i.ab)(e,"settings_line")&&V.toggleBlock(Object(i.x)(e))}}),100),cur.destroy.push((function(){window.onLoginDone=nav.reload}))},emailPosts:function(e,t){ajax.post("al_settings.php",{act:"send_email_post",hash:e},{onDone:function(e,n){Object(i.J)("settings_email_post_msg").innerHTML=e,Object(i.vb)(Object(i.J)("settings_email_post_msg"),{borderColor:"#D4BC4C",backgroundColor:"#F9F6E7"}),animate(Object(i.J)("settings_email_post_msg"),{borderColor:"#B9C4DA",backgroundColor:"#FFFFFF"},3e3),t.innerHTML=n},showProgress:function(){Object(_.o)(t)},hideProgress:function(){Object(_.w)(t)}})},showPaymentsMethods:function(e,t,n,r){var o={act:r?"a_payments_checkout_methods":"a_payments_methods",hash:t};!r&&n&&(o.money_transfer=1);var a=Object(i.g)("img",{src:"/images/upload.gif"});return ajax.post("al_settings.php",o,{onDone:function(t){if(n)return cur.autoacceptCards=t.cards,cur.autoacceptCardSelected=t.cardSeleceted,void V.initAutoAcceptDD(t.cards,t.cardSeleceted);var r=Object(i.g)("div",{innerHTML:t,className:"unshown"});e.parentNode.replaceChild(r,e),slideDown(r,100)},showProgress:function(){e.parentNode.replaceChild(a,e)},hideProgress:function(){a.parentNode.replaceChild(e,a)},stat:n?["ui_controls.js","ui_controls.css"]:[]}),!1},initAutoAcceptDD:function(e,t){cur.autoacceptCardDD=new InlineDropdown("settings_p2p_receive_card",{items:e,selected:t,withArrow:!0,onSelect:function(e){if(-1==e)V.bindMoneyTransferCard();else if(e!=cur.autoacceptCardSelected){var t=cur.autoacceptCardDD.getSelected()[2];V.saveMoneyTransferCard(e,t),cur.autoacceptCardSelected=e}}})},saveMoneyTransferCard:function(e,t){ajax.post("al_payments.php",{act:"a_remember_money_transfer_accept_card",card_id:e,hash:t,from:"settings"},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("settings_p2p_receive_card")})},bindMoneyTransferCard:function(){return showBox("al_payments.php",{act:"card_payment_box",type:"card_bind"},{stat:["ui_controls.js","ui_controls.css"]}),!1},deletePaymentMethod:function(e,t,n,r,o,a){if(r){var i=e.parentNode,s={act:o?"a_del_checkout_method":"a_del_instant_method",type:t,hash:n};return o&&(s.bind_descr=a),ajax.post("al_payments.php",s,{onDone:function(e){i.innerHTML=e},onFail:function(e){return i.innerHTML=e,!0},showProgress:function(){cur.confirmBox.showProgress()},hideProgress:function(){cur.confirmBox.hide()}}),!1}cur.confirmBox=Object(g.d)({title:cur.lang.global_action_confirmation,dark:1,forceNoBtn:1,bodyStyle:"padding: 20px; line-height: 160%;"},cur.lang.settings_delete_payment_method_confirm,Object(d.d)("global_delete"),(function(){V.deletePaymentMethod(e,t,n,!0,o,a)}),Object(d.d)("global_cancel"))},showNextPaymentsHistory:function(e,t){var n,r;if(!Object(_.k)(e))return Object(_.o)(e),t||(t="votes"),void 0===cur.historyOffset[t]&&(cur.historyOffset[t]=5),"transfer"===t?(n={act:"a_transfer_history"},r=Object(i.J)("settings_transfer_history")):"subscriptions"===t?(n={act:"a_payments_subsciptions"},r=Object(i.J)("settings_payments_subscriptions")):"games"===t?(n={act:"a_payments_games"},r=Object(i.J)("settings_payments_games")):(n={act:"a_votes_history"},r=Object(i.J)("settings_votes_history")),n.offset=r.rows.length,"subscriptions"===t&&(n.extra_items_count=cur.historyExtraItemsSubscriptions),ajax.post("al_settings.php",n,{onDone:function(n,o,a){var s=r.tBodies[0];if(n){if(Object(_.w)(e),browser.msie){var c=Object(i.rb)("<table>"+n+"</table>");Array.from(Object(i.N)("tr",c)).forEach(e=>{1===e.nodeType&&s.appendChild(e)})}else s.insertAdjacentHTML("beforeEnd",n);"subscriptions"===t&&a&&(cur.historyExtraItemsSubscriptions=a)}n&&!o||(Object(i.c)(s.lastChild,"settings_votes_history_last"),Object(i.bb)(e))}}),!1},switchPaymentsHistoryTab:function(e,t,n){if(Object(l.d)(n))return!0;var r=Object(s.d)(nav.objLoc);return uiTabs.switchTab(e),V.hideMoneyLinksTooltip(),Object(i.bb)("settings_votes_history_wrap","settings_payments_subscriptions_wrap","settings_transfer_history_wrap","settings_payments_transfer_msg","settings_payments_games_wrap"),"transfer"===t?(Object(i.xb)("settings_transfer_history_wrap","settings_payments_transfer_msg"),r.section=t,V.showMoneyLinksTooltip()):"subscriptions"===t?(Object(i.xb)("settings_payments_subscriptions_wrap"),r.section=t):"games"===t?(Object(i.xb)("settings_payments_games_wrap"),r.section=t):(Object(i.xb)("settings_votes_history_wrap"),delete r.section),nav.setLoc(r),!1},moneyTransferCancel:function(e,t,n,r,o){var a,s,c=Object(i.q)("_row",e),u=Object(i.L)("_status",c);if(!o)return r?(a=Object(d.d)("settings_transfer_decline_confirm"),s=Object(d.d)("settings_transfer_decline_btn")):(a=Object(d.d)("settings_transfer_cancel_confirm"),s=Object(d.d)("settings_transfer_cancel_btn")),void(cur.confirmBox=Object(g.d)(Object(d.d)("global_action_confirmation"),a,s,V.moneyTransferCancel.pbind(e,t,n,r,1),Object(d.d)("global_cancel")));2!==o&&(Object(i.c)(c,"settings_history_row_progress"),cur.confirmBox&&cur.confirmBox.hide()),ajax.post("al_payments.php?act=a_cancel_money_transfer",{tx_id:t,hash:n},{onDone:function(e,a){if(0===e)return 2!==o&&(Object(i.Cb)(u,Object(d.d)("settings_transfer_status_cancelling")),Object(i.mb)(u,"settings_transfer_receive")),void setTimeout(V.moneyTransferCancel.pbind(c,t,n,r,2),2e3);Object(i.mb)(c,"settings_history_row_progress"),Object(i.Cb)(u,Object(d.d)("settings_transfer_status_cancelled")),Object(i.mb)(u,"settings_transfer_receive"),Object(i.c)(u,"settings_transfer_status_cancelled"),TopNotifier.invalidate()},onFail:function(e){return Object(i.mb)(c,"settings_history_row_progress"),setTimeout(Object(g.d)(Object(d.d)("global_error"),e).hide,2e3),!0}})},moneyTransferRepeat:function(e,t){return L.a.showMoneyTransferBox({repeat_id:e,hash:t}),!1},paymentsSubscriptionBox:function(e,t,n,r){if(r){var o=Object(i.q)("_row",r);cur.onSubscriptionDone=function(e){var t=Object(i.L)("settings_history_amount",o);Object(i.Cb)(t,e.status),Object(i.mb)(t,"settings_history_btn"),Object(i.Cb)(Object(i.L)("settings_history_actions",o),e.actions)}}showBox("al_apps.php?act=show_subscription_box",{aid:e,item:t,action:"create",hash:n},{onFail:function(e){return setTimeout(Object(g.d)(Object(d.d)("global_error"),e).hide,2e3),!0}})},paymentsSubscriptionCancel:function(e,t,n,r,o){var a=Object(i.q)("_row",e);o?(Object(i.c)(a,"settings_history_row_progress"),cur.confirmBox&&cur.confirmBox.hide(),ajax.post("al_apps.php?act=a_cancel_subscription",{aid:t,subscription_id:n,hash:r,from:"settings"},{onDone:function(e,t){Object(i.mb)(a,"settings_history_row_progress"),e?(Object(i.Cb)(Object(i.L)("settings_history_amount",a),e),Object(i.Cb)(Object(i.L)("settings_history_actions",a),t)):Object(i.c)(a,"settings_history_row_deleted")},onFail:function(e){return Object(i.mb)(a,"settings_history_row_progress"),setTimeout(Object(g.d)(Object(d.d)("global_error"),e).hide,2e3),!0}})):cur.confirmBox=Object(g.d)(Object(d.d)("global_action_confirmation"),Object(d.d)("settings_subscription_cancel_confirm"),Object(d.d)("settings_subscription_cancel_btn"),V.paymentsSubscriptionCancel.pbind(e,t,n,r,1),Object(d.d)("global_cancel"))},paymentsSubscriptionReactivate:function(e,t,n,r){var o=Object(i.q)("_row",e);cur.onSubscriptionDone=function(e){Object(i.Cb)(Object(i.L)("settings_history_amount",o),e.status),Object(i.Cb)(Object(i.L)("settings_history_actions",o),e.actions)},showBox("al_apps.php?act=show_subscription_box",{aid:t,subscription_id:n,action:"resume",hash:r},{onFail:function(e){return setTimeout(Object(g.d)(Object(d.d)("global_error"),e).hide,2e3),!0}})},initAppOrdersDD:function(e,t,n){cur.appOrdersDD=new InlineDropdown("settings_app_orders",{items:e,selected:t,onShow:function(){if(cur.appOrdersDD){Object(v.c)(cur.appOrdersDD._els.popupHeader,{text:Object(d.d)("settings_payments_app_orders_tt"),width:250,slideX:-15,className:"pedit_tt",nohide:!0,asrtl:!0,shift:[263,-15,-15],dir:"left"})}},onHide:function(){cur.appOrdersDD&&cur.appOrdersDD._els.popupHeader.tt&&cur.appOrdersDD._els.popupHeader.tt.destroy()},onSelect:function(e){V.toggleAppOrders(e&&"0"!==e,n)}})},toggleAppOrders:function(e,t){ajax.post("al_payments.php?act=a_toggle_app_orders",{autoconfirm:e,hash:t},{onDone:window.uiPageBlock&&uiPageBlock.showSaved.pbind("settings_app_orders")})},initApps:function(e,t){Object(s.i)(cur,{aSearch:Object(i.J)("s_search"),lShowMoreButton:Object(i.J)("ui_apps_load_more"),lContent:Object(i.J)("settings_apps_list"),aEmptyCont:Object(i.J)("settings_apps_empty"),aSummaryCounter:Object(i.L)("page_block_header_count","wide_column"),onSilentLoad:{},apps:{},deletedApps:{},appTpl:t||function(){return""}}),Object(s.i)(cur,e),cur.defaultCount=cur.shownApps,cur.appTpl=t||function(){return""},V.scrollNode=browser.msie6?pageNode:window,Object(l.b)(V.scrollNode,"scroll",V.scrollCheckApps.bind(this)),setTimeout((function(){cur.destroy.push((function(){Object(l.i)(V.scrollNode,"scroll",V.scrollCheckApps.bind(V))}))}),0),cur.silent=!0,ajax.post("/al_settings.php",{act:"load_apps_silent"},{cache:1,local:1,onDone:function(e){var t=e;try{e=JSON.parse(e)}catch(e){Object(h.d)(e,t)}if(!e)return cur.silent=!1;void 0===cur.searchOffset&&(cur.searchOffset=0),cur.curList="all",cur.appsList=e[cur.curList]?e:{all:[]},cur.appsCount=cur.appsList.all.length,this.indexApp((function(){cur.silent=!1,"object"==typeof cur.onSilentLoad&&Object.values(cur.onSilentLoad).forEach(e=>{Object(s.v)(e)&&e()})}))}.bind(this)})},isDelayedOnSilentLoad:function e(t,n){if(cur.silent)return e.count=e.count||0,e.count++,cur.onSilentLoad[t||"key_"+e.count]=n,!0},indexApp:function(e){cur.appsIndex=new vkIndexer(cur.appsList.all,(function(e){try{return cur.apps[parseInt(e[0])]=e,e[3]}catch(e){return""}}),e)},scrollCheckApps:function(){this.isDelayedOnSilentLoad("scrollCheck",this.scrollCheckApps.bind(this))||!browser.mobile&&!cur.isAppsLoading&&!cur.disableAutoMore&&Object(i.fb)(cur.lShowMoreButton)&&(window.innerHeight||document.documentElement.clientHeight||bodyNode.clientHeight)+Object(u.e)()+400>=cur.lShowMoreButton.offsetTop&&this.showAppsRows()},showAppsRows:function(){if(!this.isDelayedOnSilentLoad("showAppsRows",this.showAppsRows.bind(this))&&cur.defaultCount&&cur.shownApps<cur.appsCount){var e=Object(s.c)(cur.searchStr),t="",n=cur.appsList[cur.curList]||[],r=n.length;if((n=this.filterApps(n.slice(cur.shownApps)).slice(0,cur.defaultCount)).length&&cur.appTpl){var o=[];Object(s.f)(n,(function(e,t){t=Object(s.d)(t),cur.selection&&(t[3]=t[3].replace(cur.selection.re,cur.selection.val)),o.push(cur.appTpl(t,e==n.length-1,!1))})),t=o.join("")}if(cur.shownApps)t&&cur.lContent.appendChild(Object(i.h)(t));else if(t)cur.lContent.innerHTML=t,cur.aSummaryCounter&&(cur.aSummaryCounter.innerHTML=Object(d.j)(r,"%s",!0)),Object(i.xb)("settings_apps_noempty"),Object(i.bb)(cur.aEmptyCont);else{var a=Object(d.d)("settings_apps_not_found_by_query").split("{query}").join("<b>"+e.replace(/([<>&#]*)/g,"")+"</b>");cur.aEmptyCont.innerHTML=a,cur.aSummaryCounter&&(cur.aSummaryCounter.innerHTML=""),Object(i.xb)(cur.aEmptyCont),Object(i.bb)("settings_apps_noempty")}cur.shownApps+=cur.defaultCount,cur.shownApps>=cur.appsCount?Object(i.bb)(cur.lShowMoreButton):(Object(i.xb)(cur.lShowMoreButton),this.scrollCheckApps()),cur.aSearch&&uiSearch.hideProgress(cur.aSearch)}},filterApps:function(e){for(var t=e.length,n=[],r=0;r<t;r++){var o=e[r];cur.apps&&cur.apps[o[0]]&&!cur.apps[o[0]].deleted&&n.push(o)}return n},searchApps:function(e){if(!this.isDelayedOnSilentLoad("searchApps",this.searchApps.bind(this,e))){if(e&&" "==e[e.length-1]&&(e[e.length-1]="_"),e.length<2&&(e=""),cur.ignoreEqual||cur.searchStr!==e){if(cur.searchStr=e||"",e){var t=cur.appsIndex.search(Object(s.c)(e));cur.curList="all_search_"+e,cur.appsList[cur.curList]=t,e+=" "+(Object(d.q)(e)||""),e=Object(s.I)(Object(s.h)(e).split("&").join("&amp;")),cur.selection={re:new RegExp("("+e.replace(cur.appsIndex.delimiter,"|")+")","gi"),val:'<em class="highlight">$1</em>'}}else cur.curList="all",cur.selection=!1;window.tooltips&&tooltips.hideAll(),cur.aSearch&&uiSearch.showProgress(cur.aSearch),this.scrollToSearch(),Object(i.bb)(cur.lShowMoreButton),cur.loadMore=1,cur.shownApps=cur.searchOffset=0,this.showAppsRows()}delete cur.ignoreEqual}},showAppSettings:function(e){window.tooltips&&tooltips.hideAll(),showBox("/al_apps.php",{act:"settings_box_info",aid:e,from:"profile_settings"},{stat:["apps.css"],dark:1})},removeApp:function(e,t,n,r){if(r&&Object(l.c)(r),this.removingApp)return!1;if(this.isDelayedOnSilentLoad("removeApp"+e,this.removeApp.bind(this,e,t,n)))return!1;window.tooltips&&tooltips.hideAll();var o=Object(i.J)("app"+e),a="profile_settings";(function(){ajax.post("/al_apps.php",{act:"quit",id:e,hash:t,from:a},{onDone:function(t){window.appsListChanged=!0,cur.apps[e]&&(cur.appsIndex.remove(cur.apps[e]),cur.apps[e].deleted=!0),cur.deletedApps[e]={from:a,html:o.innerHTML},o&&o.appendChild(Object(i.h)(t.html)),Object(i.c)(o,"deleted")},showProgress:function(){Object(i.c)(o,"loading"),this.removingApp=!0}.bind(this),hideProgress:function(){Object(i.mb)(o,"loading"),this.removingApp=!1}.bind(this)})}).bind(this)()},restoreApp:function(e,t){if(this.restoringApp)return!1;var n=Object(i.J)("app"+e);return ajax.post("/al_apps.php",{act:"join",id:e,hash:t,restore:1,from:"al_apps",section:"settings"},{onDone:function(t){cur.deletedApps[e]&&(n.innerHTML=cur.deletedApps[e].html,delete cur.deletedApps[e]),cur.apps[e]&&(delete cur.apps[e].deleted,cur.appsIndex.add(cur.apps[e])),Object(i.mb)(n,"deleted")},showProgress:function(){this.restoringApp=!0,Object(i.c)(n,"loading")}.bind(this),hideProgress:function(){this.restoringApp=!1,Object(i.mb)(n,"loading")}.bind(this)}),!1},ttCommon:function(e,t,n,r,o){return r&&Object(l.c)(r),n?Object(v.c)(e,{center:n,shift:o||[0,8,8],black:1,text:t}):showTitle(e,t,o)},scrollToSearch:function(){var e=Object(i.J)("page_header_cont"),t=Object(i.J)("settings_search_wrap");if(t&&e){var n=Object(i.V)(Object(i.C)(t))[1]-Object(i.S)(e)[1];scrollNode.scrollTop>n&&Object(u.g)(n,200)}},deactivateBox:function(){return showBox("al_settings.php",{act:"deactivate_box"},{params:{dark:!0}}),!1},showValidateDevices:function(e,t){return ajax.post("al_settings.php",{act:"a_validate_devices",hash:t},{onDone:function(t){tooltips.hideAll();var n=Object(i.g)("div",{innerHTML:t,className:"unshown"});e.parentNode.replaceChild(n,e),slideDown(n,100)}}),!1},deleteValidateDevice:function(e,t,n,r){if(r){var o=e.parentNode;return ajax.post("al_settings.php",{act:"a_del_validate_device",dhash:t,hash:n},{onDone:function(e){o.innerHTML=e},showProgress:function(){cur.confirmBox.showProgress()},hideProgress:function(){cur.confirmBox.hide()}}),!1}cur.confirmBox=Object(g.d)({title:cur.lang.global_action_confirmation,dark:1,forceNoBtn:1,bodyStyle:"padding: 20px; line-height: 160%;"},cur.lang.settings_delete_validate_device_confirm,Object(d.d)("global_delete"),(function(){V.deleteValidateDevice(e,t,n,!0)}),Object(d.d)("global_cancel"))},showNotifySubscriptions:function(e){return Object(i.ab)(e,"settings_no_subscriptions")||showBox("al_settings.php",{act:"notify_subscriptions_box"},{stat:[jsc("web/indexer.js")]}),!1},notifySubscriptionsInit:function(e,t,n){n.onListClick=V.notifySubscriptionToggle,cur.subsOList=new OList(e,t,{},n),e.removeButtons().addButton(Object(d.d)("global_close"),(function(){e.hide(200)}),"yes")},notifySubscriptionToggle:function(e,t){var n=Object(i.L)("_subscriptions_count"),r=e.id.match(/-?\d+/)[0],o=!1,a=0;Object(s.f)(cur.subsOList.owners,(function(e,t){cur.subsOList.selected[t[0]]||a++,!1===o&&this[0]==r&&(o=this[4])})),n&&(Object(i.zb)(n,"settings_no_subscriptions",!a),Object(i.Cb)(n,a?Object(d.d)("settings_notify_subscriptions_count",a):Object(d.d)("settings_notify_no_subscriptions"))),ajax.post("/al_wall.php",{act:"a_toggle_posts_subscription",subscribe:t?1:0,oid:r,hash:o},{showProgress:i.c.pbind(e,"olist_item_loading"),hideProgress:i.mb.pbind(e,"olist_item_loading")})},showGroupNotifySources:function(e,t){return Object(l.c)(e),showBox("al_settings.php",{act:"group_notify_sources_box",source:t},{params:{dark:1,width:450,bodyStyle:"padding: 0",containerClass:"group_notify_sources_box flist_list_radio"}}),!1},initShowGroupNotifySourcesBox:function(e,t){var n=window.cur||{};Object(s.i)(n,t),e.removeButtons(),e.addButton(t.okBtnText,this.groupNotifyPopupSubmit.bind(this)),Object(s.i)(n,{popupSubmitBtnEl:curBox().btns.ok[0],popupSelectedGroup:0,popupGroupsWrapperEl:Object(i.L)("_add_community_app_groups"),popupContentEl:Object(i.L)("_add_community_app_content")}),Object(_.f)(n.popupSubmitBtnEl,!0),n.popupGroupsEls=Object(i.K)("flist_item",n.popupGroupsWrapperEl,"div"),1===n.popupGroupsEls.length&&this.groupNotifyPopup(n.popupGroupsEls[0]),Object(s.f)(n.popupGroupsEls,function(e,t){Object(l.b)(t,"click",this.groupNotifyPopup.bind(this,t))}.bind(this))},groupNotifyPopup:function(e){var t=Object(s.r)(e.getAttribute("data-id"));cur.popupSelectedGroup=t,Object(s.f)(cur.popupGroupsEls,(function(t,n){(n===e?i.c:i.mb)(n.parentNode,"flist_item_checked")})),Object(_.f)(cur.popupSubmitBtnEl,0===cur.popupSelectedGroup)},groupNotifyPopupSubmit:function(){var e=cur.popupSelectedGroup;Object(i.fb)(cur.popupSubmitBtnEl)&&!Object(_.k)(cur.popupSubmitBtnEl)&&0!==e&&TopNotifier.addNewSource(e,cur.popup_hash,2)},delGroupNotifySource:function(e,t,n,r){Object(l.c)(e);var o=Object(g.d)(Object(d.d)("settings_group_notify_disable_title"),Object(d.d)("settings_group_notify_disable_text"),Object(d.d)("settings_group_notify_disable_yes"),(function(){o.hide(),ajax.post("al_settings.php",{act:"a_group_notify_del_source",gid:t,hash:n},{onDone:function(e){t==r?(TopNotifier&&TopNotifier.changeSource("",null,null),nav.go("/settings?act=notify")):nav.reload()},showProgress:_.o.pbind(cur.popupSubmitBtnEl),hideProgress:_.w.pbind(cur.popupSubmitBtnEl)})}),Object(d.d)("global_cancel"))},addSourcePopup:function(e){Object(i.bb)(Object(i.L)("notify_sources")),TopNotifier&&TopNotifier.hide(),this.showGroupNotifySources(e,"popup")},groupNotify_disabledSetting:function(e){showTitle(e,Object(d.d)("settings_group_notify_disable_tooltip"),null,{shift:[-17,14],className:"settings_group_notifications_disable_tooltip",needLeft:1})},initRepliesOrder:function(){var e=Object(i.J)("settings_replies_order");e&&cur.options.replies_order_items&&(cur.repliesReorderDD=new InlineDropdown(e,{items:cur.options.replies_order_items,selected:cur.options.replies_order_cur||cur.options.replies_order_items[0][0],onSelect:function(e){ajax.post("al_settings.php",{act:"change_replies_order",order:e,hash:cur.options.replies_order_hash},{onDone:function(){window.uiPageBlock&&window.uiPageBlock.showSaved("settings_replies_order")}})}}),cur.options.order_settings_feature_tooltip&&setTimeout((function(){cur.options&&cur.options.order_settings_feature_tooltip_hash&&V.showOrderSettingsTooltip(cur.options.order_settings_feature_tooltip_hash)}),800))},showOrderSettingsTooltip:function(e){var t=Object(i.J)("settings_replies_order");t&&(cur.orderSettingsFeatureTT=new ElementTooltip(t,{content:'<div class="feature_tooltip__close" onclick="cur.orderSettingsFeatureTT.hide();"></div>'+Object(d.d)("wall_order_settings_feature_text"),forceSide:"top",cls:"feature_intro_tt feature_info_tooltip order_settings_feature_tooltip",autoShow:!1,noHideOnClick:!0,noAutoHideOnWindowClick:!0,appendToParent:!0,offset:[0,-4],onHide:function(){ajax.post("al_index.php",{act:"hide_feature_tt",hash:e,type:"order_settings_web"}),cur.orderSettingsFeatureTT.destroy(),delete cur.orderSettingsFeatureTT}}),cur.orderSettingsFeatureTT.show())},showMoneyLinksTooltip:function(){var e=Object(i.L)("_money_request_btn","wide_column");cur.moneylinks_feature_tooltip&&e&&setTimeout((function(){cur.moneyLinksTooltip=new ElementTooltip(e,{content:'<div class="feature_tooltip__close" onclick="cur.moneyLinksTooltip.hide();"></div>'+Object(d.d)("settings_payments_moneylinks_feature_text"),cls:"feature_intro_tt feature_info_tooltip moneylinks_feature_tooltip",forceSide:"top",width:270,autoShow:!1,noHideOnClick:!0,noAutoHideOnWindowClick:!0,appendToParent:!0,offset:[0,-4],onHide:function(){ajax.post("al_index.php",{act:"hide_feature_tt",hash:cur.moneylinks_feature_tooltip_hash,type:"moneylinks"}),V.hideMoneyLinksTooltip()}}),cur.moneyLinksTooltip.show(),cur.destroy.push(V.hideMoneyLinksTooltip)}),1e3)},hideMoneyLinksTooltip:function(){cur.moneyLinksTooltip&&(cur.moneyLinksTooltip.destroy(),delete cur.moneyLinksTooltip)},cancelDonutSubscription:(e,t,n)=>{Object(R.a)(t,n,{onApplyDone:()=>{window.nav.reload({noback:!0})}}),e&&Object(l.c)(e)},showGroupMessagesNotifyBox:function(e,t){return Object(l.c)(e),showBox("al_settings.php",{act:"group_notify_messages_box",source:t},{params:{dark:1,width:560,bodyStyle:"padding: 0",containerClass:"group_notify_messages_box"}}),!1},initShowGroupMessagesNotifyBox:function(e,t){var n=this,r=window.cur||{};Object(s.i)(r,t),e.removeButtons(),e.addButton(t.okBtnText,this.submitSettingsGroupMessagesNotifyPopup.bind(this)),e.addButton(t.cancelBtnText,e.hide,"no"),Object(s.i)(r,{popupGroupRowsWrapperToggler:Object(i.L)("settings_group_rows_wrapper_toggler"),popupGroupRowsWrapper:Object(i.L)("settings_group_rows_wrapper"),popupSubmitBtnEl:curBox().btns.ok[0]}),this.toggleSettingsGroupMessagesNotifyRows(!0),r.popupGroupsEls=Object(i.K)("flist_item",r.popupGroupRowsWrapper,"div"),Object(s.f)(r.popupGroupsEls,(function(e,t){Object(l.b)(t,"click",n.changeSettingsGroupMessagesNotifyRowState.bind(n,t))}))},toggleSettingsGroupMessagesNotifyRows:function(e){e||Object(i.zb)(cur.popupGroupRowsWrapperToggler,"on");var t=Object(i.ab)(cur.popupGroupRowsWrapperToggler,"on");Object(i.zb)(cur.popupGroupRowsWrapper,"hidden",!t)},changeSettingsGroupMessagesNotifyRowState:function(e){Object(i.zb)(e,"flist_item_checked")},saveGroupMessagesNotifySettings:function(e){var t={is_enabled:e.is_enabled?1:0,groups_map:JSON.stringify(e.groups_map),promo_group_id:cur.gid,hash:cur.popup_hash};clearTimeout(cur.instantNotifyTO),clearTimeout(cur.instantNotifySaveTO),cur.instantNotifyTO=setTimeout(ajax.post.pbind("/settings?act=a_group_messages_notify_save",t,{onDone:e=>{curBox().hide(),cur.instantNotifySaveTO=setTimeout(window.uiPageBlock&&uiPageBlock.showSaved.pbind("settings_notify_group_messages_link"),1e3);var t=Object(i.L)("settings_separated_row_hint","settings_group_messages_row");t&&(t.innerHTML=e.hint);var n=Object(i.L)("group-messages-notify-block");n&&e.hide_promo&&slideUp(n,200,i.kb.pbind(n))},showProgress:_.o.pbind(cur.popupSubmitBtnEl),hideProgress:_.w.pbind(cur.popupSubmitBtnEl)}),500),TopNotifier&&TopNotifier.invalidate()},submitSettingsGroupMessagesNotifyPopup:function(){var e={is_enabled:null,groups_map:{}};Object(i.fb)(cur.popupSubmitBtnEl)&&!Object(_.k)(cur.popupSubmitBtnEl)&&(e.is_enabled=Object(i.ab)(cur.popupGroupRowsWrapperToggler,"on"),Object(s.f)(cur.popupGroupsEls,(function(t,n){e.groups_map[n.getAttribute("data-id")]=Object(i.ab)(n,"flist_item_checked")?"1":"0"})),this.saveGroupMessagesNotifySettings(e))},refreshPaymentHistory:function(){var e=document.getElementById("settings_payments_history_panel");if(e){var t={act:"payments_history"};if(nav){var n=nav.fromStr(nav.strLoc).section;n&&(t.section=n)}ajax.post("al_settings.php",t,{onDone:function(t){t&&(e.innerHTML=t)}})}},showPhotoRecognitionBoxSettings(){ajax.post("al_settings.php",{act:"get_recognition_box_data"},{loader:!0,onDone:e=>{var t=Object(y.e)(o.createElement(I,{data:e,onClose:n,onSave:function(){showDoneBox(Object(d.d)("photo_recognition_settings_saved")),n()}}),{width:450,onDestroy:e=>{Object(y.a)(e)}});function n(){t&&t.hide()}},onFail:e=>(Object(g.d)(Object(d.d)("global_error"),e||Object(d.d)("global_unknown_error")),Object(A.c)(new Error("get RecognitionBoxSettings error"+(e?": "+e:""))),!0)})},resetSoftBounceDisclaimer(){ajax.post("al_settings.php",{act:"a_reset_email_softbounce"},{loader:!0,onDone:()=>{Object(i.J)("email_soft_bouncing").remove()},onFail:e=>{Object(g.d)(Object(d.d)("global_error"),e||Object(d.d)("global_unknown_error")),Object(A.c)(new Error("post resetSoftBounceDisclaimer error"+(e?": "+e:"")))}})}}},"3Lyj":function(e,t,n){var r=n("KroJ");e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},"3blr":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));n("rGqo"),n("a1Th"),n("Btvt");var r=n("q1tI"),o=(n("17x9"),n("xt6h"));class a extends r.Component{constructor(e){super(e),this.id=Math.round(1e6*Math.random()).toString(16),this.setSpinnerParams(e)}UNSAFE_componentWillReceiveProps(e){this.setSpinnerParams(e)}setSpinnerParams(e){this.offset=Math.round(Math.PI*e.size),this.c=.5*e.size,this.animation=function(e,t){if(!e||!t)return"";var n=Object.keys(t).map(e=>e+" {"+Object.keys(t[e]).map(n=>n+":"+t[e][n]).join(";")+"}").join("");return`@-webkit-keyframes ${e} {${n}} @keyframes ${e} {${n}}`}("dash"+this.id,{"0%":{"stroke-dashoffset":this.offset},"50%":{"stroke-dashoffset":Math.round(.25*this.offset),transform:"rotate(135deg)"},"100%":{"stroke-dashoffset":this.offset,transform:"rotate(360deg)"}})}render(){var e=this.props,t=e.style,n=e.color,a=e.size,i=e.duration,s=e.strokeWidth,c=e.className,u=this.id,l=this.offset,_=this.animation,d=Object(o.a)("Spinner",c);return r.createElement("div",{className:d,style:t},r.createElement("svg",{className:"Spinner__svg",width:a,height:a,viewBox:`0 0 ${a} ${a}`,xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{style:{width:a,height:a,transformOrigin:.5*a+"px "+.5*a+"px"}},r.createElement("style",{dangerouslySetInnerHTML:{__html:_}}),r.createElement("circle",{className:"Spinner__path",fill:"none",stroke:n,strokeDasharray:l,strokeDashoffset:l,strokeWidth:s,style:{animationName:"dash"+u,animationTimingFunction:"ease-in-out",animationDuration:i+"s",animationIterationCount:"infinite"},cx:.5*a,cy:.5*a,r:.5*a-.5*s}))))}}a.defaultProps={color:"#5181b8",size:19,strokeWidth:2,duration:1.4,className:""}},"3ljy":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}},"3oLO":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));n("91GP"),n("KKXr"),n("pIFo");var r,o,a,i,s,c=n("cGUQ"),u=n("jE6c"),l=n("W9Tc"),_=n("t7n3"),d=n("zxIV"),p=n("ryw6"),f=n("2QOe"),h=n("CeZd"),m=n("Syzc"),b=n("+MXk"),g=n("MZmb"),v=n("HLtZ"),y=n("4+be"),O=n("aALx"),w=n("svpG");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class j{static post(e,t,n){j._protoAdapter=new g.a,e&&"/"!==e.substr(0,1)&&"http"!==e.substr(0,4)&&(e="/"+e);var r=E({},n||{},{_captcha:!1,_box:!1,no_ads_params:!1}),o=E({},t,{al:r.frame?-1:1}),a=Object(_.M)(),i=vk.spentLastSendTS?Math.round((a-vk.spentLastSendTS)/1e3):0;if(vk.sampleUser>=0&&window.cur&&cur.module&&i>=1&&(window.curNotifier&&curNotifier.idle_manager&&!curNotifier.idle_manager.is_idle&&(o._smt=cur.module+":"+i),vk.spentLastSendTS=a),r.progress&&(r.showProgress||(r.showProgress=function(){var e=Object(d.J)(r.progress);Object(d.ab)(e,"pr")&&Object(d.vb)(e,"opacity",1),Object(d.xb)(e)}),r.hideProgress||(r.hideProgress=function(){var e=Object(d.J)(r.progress);Object(d.ab)(e,"pr")&&Object(d.vb)(e,"opacity",0),Object(d.bb)(e)})),r.loader){var s=Object(d.fb)(window.boxLayerWrap);r.showProgress=function(){boxRefreshCoords(window.boxLoader),Object(d.xb)(window.boxLoader),s||Object(d.xb)(window.boxLayerWrap)},r.hideProgress=function(){Object(d.bb)(window.boxLoader),s||Object(d.bb)(window.boxLayerWrap)}}return new j(e,o,r)._post()}constructor(e,t,n){this._url=e,this._options=E({},n),this._query=t,this._additionalStaticLoader=null,this._cacheClient=null,n.local&&(this.onDone=Object(_.L)(this.onDone),this.onFail=Object(_.L)(this.onFail),this.processResponse=Object(_.L)(this.processResponse)),this._options.cache&&(this._cacheClient=h.a.getInstance(this._url,this._query)),this.onDone=this.onDone.bind(this),this.onFail=this.onFail.bind(this),this.processResponse=this.processResponse.bind(this)}_post(){if(!this._query.captcha_sid&&this._options.showProgress&&this._options.showProgress(),window.__adsGetAjaxParams&&!this._options.no_ads_params&&(this._query=E({},this._query,{},window.__adsGetAjaxParams(this._query,this._options))),this._options.stat&&(this._additionalStaticLoader=null,stManager.add(this._options.stat,()=>{this._additionalStaticLoader&&this._additionalStaticLoader(),this._options.stat=!1})),!this._cacheClient||this._cacheClient.getFromCache(this.processResponse,this._options.onDone,{cacheLevel:this._options.cache,forceGlobalCache:this._options.forceGlobalCache,onAnswerProcessed:this._options.hideProgress})){this._options.resend=(e,t)=>new j(this._url,e,t)._post(),window.debuglogSent?(this._reqid=window.debuglogSent(this._url+(this._query?": "+Object(c.toQueryString)(this._query,this._options.noSort).replace(/&/g,"&amp;"):"")),this._options.frame&&(window._lfrid=this._reqid)):this._reqid=0;var e={};return this._options.timeout&&(e.timeout=this._options.timeout),this._options.frame?f.a.request(this._url,this._query,this.onDone,this._options,this._runInlineScript.bind(this)):Object(m.b)(this._url,this._query,this.onDone,this.onFail,!1,e,this._options,!1,Object(l.b)("extended_ajax_logging")?e=>console.log("+ XHR Transport: "+e):null)}}processResponse(e,t,n){if(this._options.cache&&this._cacheClient&&this._cacheClient.processExistingCache(e,t),this._options.stat)return this._options.stat=!1,void(this._additionalStaticLoader=this.processResponse.pbind(e,t));this._options.cache&&!this._options.forceGlobalCache&&!e&&this._cacheClient&&this._cacheClient.cacheResponse(t),this._options.hideProgress&&this._options.hideProgress(),2!==e&&(this._options._captcha&&(this._options._suggest&&Object(d.i)(this._options._suggest),this._options._captcha=k(this._options._captcha),this._options._suggest=this._options._captcha),this._options._box=k(this._options._box)),n&&this._runInlineScript(n),function(e){switch(e){case 1:return b.c;case 2:return b.k;case 3:return b.a;case 4:return b.e;case 5:return b.j;case 6:return b.f;case 7:return b.m;case 8:return b.l;case 9:return b.n;case 10:return b.o;case 11:case 12:return Object(b.g)(e);case 13:return b.d;case 14:return b.h;case 15:return b.i;default:return Object(b.b)(e)}}(e)(this._options,t,this._query,this._url),window.LazyLoad&&window.LazyLoad.scanDelayed()}onFail(e,t){this._options.hideProgress&&this._options.hideProgress(),this._options._suggest&&Object(d.i)(this._options._suggest);var n=t instanceof XMLHttpRequest?t.status:t;if(this._options._box=k(this._options._captcha,this._options._box),this._options._captcha=this._options._box,this._options._suggest=this._options._captcha,"string"==typeof e&&-1!==e.indexOf("The page is temporarily unavailable")&&__dev&&Object(_.o)(vk.id,[100]))this._post();else if(!this._options.onFail||!0!==this._options.onFail(e)){var r=(JSON.stringify(e)||"No error details").substr(0,300),o=this._query.act,a=this._query&&Object(c.toQueryString)(this._query,this._options.noSort),i=this._url,s={message:"Uncaught ajax error",status:n,data:{url:i,query:a}},u=["url: "+i,o&&"act: "+o,r&&"text: "+r].filter(e=>e).join(", ");0===s.status&&Object(l.b)("js_errors_no_write_uncaught_errors")||Object(v.c)(u,{environment:"uncaughtAjaxRequestError",breadcrumb:s}),__debugMode?console.error("Uncaught Ajax request error:",r,s):console.log("Uncaught Ajax request error:",r,s)}}doReload(e){nav.reload({force:!0,from:e,url:this._url,query:this._query&&Object(c.toQueryString)(this._query)})}onDone(e,t){this._options.bench&&(o=(new Date).getTime()),this._options.frame&&D("OnDone Req:",e);var n,r=t instanceof XMLHttpRequest?t.status:t;try{n=j._protoAdapter.parseResponse(e)}catch(t){return void this.onFail(e,r)}var a,i=n,s=i.navVersion,l=i.newStatic,f=i.statsMeta,h=i.langId,m=i.langVer,b=i.langKeys,g=i.templates,O=i.code,E=i.payload,k=i.debugLog,C=i.env,T=i.extra,x=i.execInline;if(s)if(vk.version&&vk.version!==s)s&&E.length>4?this.doReload(2):nav.strLoc?location.replace(u.o):Object(p.c)("Server error.",{type:100});else if(vk.version=!1,this._options.frame&&(a=E),vk.lang!==h&&this._options.canReload)this.doReload(3);else{if(f&&(window.vk.statsMeta=f),b){var I=b.local,A=b.global;Object(y.a)(I),Object(y.a)(A,!0)}C&&C.pe&&(window.vk.pe=C.pe),g&&Object(_.a)(g),function(e,t,n,r,o){if(!window.stVersions||Object(u.i)(window.stVersions))return void o();var a=()=>{if(e===window.stVersions.nav)return function(e,t,n,r){var o=["common.css"];if(e){e=e.split(",");for(var a=0,i=e.length;a<i;++a)o.push(e[a])}if(stVersions.lang<n)for(var s in stVersions.lang=n,StaticFiles)StaticFiles.hasOwnProperty(s)&&/^lang\d/i.test(s)&&o.push(s);stManager.add(o,r,!0)}(t,0,r,o);setTimeout(a,100)};if(e!==window.stVersions.nav){var i="";window.navMapSection&&(i="?section="+window.navMapSection);var s=vk.navPostfix||"";headNode.appendChild(Object(d.g)("script",{type:"text/javascript",src:`/js/loader_nav${s}${e}_${vk.lang}.js${i}`}))}setTimeout(a,0)}(s,l,0,m,()=>{if(!this._options.frame)try{a=j._protoAdapter.parseStaticPayload(E,this._reqid),k&&P(k,this._reqid)}catch(t){var e={message:"JSON error",data:{answer:E,url:this._url,query:this._query&&Object(c.toQueryString)(this._query)}};Object(v.c)(t,{environment:"ajax_request",breadcrumb:e}),console.error(t)}this.processResponse(O,a,x),Object(w.a)(T)})}else this.onFail(`<pre>${e}</pre>`,{status:-1})}_runInlineScript(e){var t=document.getElementById("__exec_container");t&&document.body.removeChild(t);var n=document.createElement("script");n.id="__exec_container",n.innerHTML=e,document.body.appendChild(n)}}function D(){if(Object(l.b)("extended_ajax_logging")){var e;try{throw new Error}catch(t){e=t.stack}var t="+ Frame transport: "+arguments[0];console.groupCollapsed(t),[].slice.call(arguments,1).forEach(e=>console.log(JSON.stringify(e))),console.log(e),console.groupEnd()}}function P(e,t){window.debuglogGot&&window.debuglogGot(t,e)}function k(){for(var e=0,t=arguments.length;e<t;++e){var n=arguments[e];n&&n.isVisible()&&(n.setOptions({onHide:!1,onDestroy:!1}),n.hide())}return!1}f.a.frame.setHandlers(e=>s=e,e=>{Object(O.b)(),i=e},D);var C={enabled:function(){try{return!!new XMLHttpRequest}catch(e){return!1}}(),set tStart(e){r=e},set tProcess(e){a=e},plainpost:m.b,post:j.post,framepost:f.a.request,_getreq:function(){return new XMLHttpRequest},request:m.c,preload:h.a.preload,invalidate:h.a.invalidate,tGetParam:function(){if(r&&i){var e=[o-r,a-o,void 0-a,s-r,i];for(var t in e)if(e.hasOwnProperty(t)){if(e[t]<0)return!1;if(!e[t]&&0!==e[t])return!1}return r=!1,e.join(",")}},AjaxRequest:j,AjaxCancellationToken:m.a,frame:f.a.frame,_framenext:()=>f.a.frame._nextQueueItem(),framegot:(e,t,n)=>f.a.frame.useAjaxBlock(e,t,n),_frameover:(e,t)=>f.a.frame.finalize(e,t),_framedone:(e,t)=>f.a.frame.onReady([e,t]),_debugLog:P}},"3qfP":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),function(e){e[e.MENTIONS=1]="MENTIONS",e[e.CASPER=2]="CASPER"}(r||(r={}));var o=n("rudk"),a=function(e){var t=e[0],n=e[1],a=e[2],i=e[3],s=e[4],c=e[5],u=e[6],l=e[7],_=e[8],d=e[9],p=Object.assign({},c||{},u||{});return Array.isArray(p.marked_users)&&(p.marked_users=p.marked_users.filter((function(e){return Object.values(r).includes(e[0])}))),{messageId:t,flags:n,peerId:a,date:i,attaches:Object(o.b)(p,t),subject:p.title||"",text:s,kludges:p,randomId:l,userId:Object(o.c)(a)?Number(p.from)||0:a,update_time:d,chat_local_id:_}};function i(e,t){return!!e.kludges&&(e.kludges.marked_users||[]).some((function(e){if(e[0]!==r.MENTIONS)return!1;switch(e[1]){case"all":return!0;case"online":return e[2].includes(t);default:return e[1].includes(t)}}))}},"4+be":function(e,t,n){"use strict";n.d(t,"q",(function(){return s})),n.d(t,"o",(function(){return c})),n.d(t,"p",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"n",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"h",(function(){return E}));n("HEwt"),n("pIFo"),n("a1Th"),n("Btvt"),n("KKXr");var r=n("jE6c"),o=n("1BRX"),a=n("t7n3"),i=n("98sY");function s(e){for(var t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r=e,o=0,a=t.length;o<a;o++)r=r.split(t[o]).join(n[o]);for(var i="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ",s=0,c=i.length;s<c;s++)r=r.split(i.charAt(s)).join("абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ".charAt(s));return r===e?null:r}function c(e){for(var t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ",o=e,a=0;a<n.length;a++)o=o.split(n[a]).join(t[a]);for(var i=0;i<r.length;i++)o=o.split(r.charAt(i)).join("abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ".charAt(i));return o===e?null:o}function u(e){for(var t="qwertyuiop[]asdfghjkl;'zxcvbnm,./`",n=e,r=0;r<t.length;r++)n=n.split(t.charAt(r)).join("йцукенгшщзхъфывапролджэячсмитьбю.ё".charAt(r));return n==e?null:n}function l(e,t,n){if(!t||!window.langConfig){if(!Object(r.k)(e)){var o=new Error("Non-numeric value passed to langNumeric");throw console.log(e,o),o}return String(e)}var i;if(Object(a.t)(t)?(i=t[1],e!=Math.floor(e)?i=t[langConfig.numRules.float]:Object(a.f)(langConfig.numRules.int,(function(n,r){if("*"==r[0])return i=t[r[2]],!1;var o=r[0]?e%r[0]:e;return-1!=Object(a.p)(r[1],o)?(i=t[r[2]],!1):void 0}))):i=t,n){for(var s=e.toString().split("."),c=[],u=s[0].length-3;u>-3;u-=3)c.unshift(s[0].slice(u>0?u:0,u+3));s[0]=c.join(langConfig.numDel),e=s.join(langConfig.numDec)}return i=(i||"%s").replace("%s",e)}function _(e,t){if(!Object(a.t)(t))return t;var n=t[1];return window.langConfig?(Object(a.f)(langConfig.sexRules,(function(r,o){return"*"==o[0]||e==o[0]&&t[o[1]]?(n=t[o[1]],!1):void 0})),n):n}function d(e){for(var t=arguments,n=t.length,r=e+"",o=1;o<n;o+=2){var a="%"===t[o][0]?t[o]:"{"+t[o]+"}";r=r.replace(a,t[o+1])}return r}function p(e,t){var n=t?window:window.cur;n.lang?Object(a.i)(n.lang,e):n.lang=e}function f(){try{var e=Array.from(arguments),t=e.shift();if(!t)return"...";var n=window.cur&&window.cur.lang&&window.cur.lang[t]||window.lang&&window.lang[t]||window.langpack&&window.langpack[t]||window[t];if(!n){var r=t.split("_");return r.shift(),r.join(" ")}return Object(a.v)(n)?n.apply(null,e):void 0===e[0]&&!Object(a.t)(n)||"raw"===e[0]?n:l(e[0],n,e[1])}catch(e){Object(i.b)("lang error:"+e.message+"("+Array.from(arguments).join(", ")+")")}}function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"tag",o=n;return o=(o=o.replace(`{${r}}`,e)).replace(`{/${r}}`,t)}function m(e,t,n,r,i,s){var c;if(s||(s=""),Object(a.t)(t)||(t=["",t,t,t,t]),"number"==typeof e||"string"==typeof e?(e>2147483646e3&&(e=0),e+=n,c=new Date(e)):c=e,i)t=t[1];else{var u="";!(u=Object(o.i)(c)?t[3]:Object(o.k)(c)?t[2]:Object(o.j)(c)?t[4]:t[1])&&t[1]&&(u=t[1]),t=u}var l={hours:c.getHours(),minutes:c.getMinutes(),seconds:c.getSeconds(),day:c.getDate(),month:c.getMonth()+1,year:c.getFullYear()},_="";switch(3===vk.lang&&(_=c.getHours()>11?"pm":"am",l.hours=c.getHours()%12==0?12:c.getHours()%12),vk.lang){case 1:switch(c.getHours()){case 11:t=t.replace(" о "," об ");break;case 0:t=t.replace(" о "," в ")}break;case 3:!Object(o.i)(c)||Object(o.k)(c)||Object(o.j)(c)||(t=s+t);break;case 12:case 73:1==c.getHours()&&(t=t.replace(" &#224;s "," &#224; "))}return 68===vk.lang&&(l.year=l.year+543),t.replace("{hour}",l.hours).replace("{num_hour}",Object(o.l)(l.hours)).replace("{minute}",Object(o.l)(l.minutes)).replace("{day}",l.day).replace("{num_day}",Object(o.l)(l.day)).replace("{month}",r[l.month]).replace("{year}",l.year).replace("{short_year}",l.year%100).replace("{second}",Object(o.l)(l.seconds)).replace("{am_pm}",_)}function b(e,t,n,r,o){e*=1e3,void 0===n&&(n=!0),void 0===r&&(r=f("months_of","raw")),t*=1e3;var a=Date.now(),i=new Date(a),s=new Date(e+t);return!o&&e>a&&e-a<864e5&&i.getDate()===s.getDate()?m(e,"{hour}:{minute} {am_pm}",t,[],!n):s.getYear()!==i.getYear()||e<a-157248e5?m(e,f("global_date","raw"),t,r,!n):m(e,f("global_short_date","raw"),t,r,!n)}function g(e,t,n,r){return Object(o.i)(new Date(1e3*e+1e3*t))?m(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!n):`${b(e,t,n,r)} ${m(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!n)}`}function v(e,t,n,r){return Object(o.i)(new Date(1e3*e+1e3*t))?m(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!n):b(e,t,n,r)}function y(e,t,n){return Object(a.t)(t)&&e<t.length?t[e]:l(e,n)}function O(e,t){e+=t;var n=parseInt(Date.now()/1e3)-e,r="";if(n<60)r=f("global_just_now");else if(n<3600){r=y(Object(a.r)(n/60),f("global_word_mins_ago","raw"),f("global_mins_ago","raw"))}else if(n<14400){r=y(Object(a.r)(n/3600),f("global_word_hours_ago","raw"),f("global_hours_ago","raw"))}else r=w(e,0,!0,"_l");return r}function w(e,t,n,r){void 0===n&&(n=!0),void 0===t&&(t=0),void 0===r&&(r=""),t*=1e3;var o=new Date(1e3*e),a=new Date;return o.getFullYear()!==a.getFullYear()&&o.getTime()<a.getTime()-1728e5||Math.abs(o.getTime()-a.getTime())>157248e5?m(1e3*e,f("global_date"+r,"raw"),t,f("months_sm_of"),!n):m(1e3*e,f("global_short_date_time"+r,"raw"),t,f("months_sm_of"),!n)}function E(e,t,n){void 0===n&&(n=!0),void 0===t&&(t=0);var r=new Date,o=r.getFullYear(),a=r.getMonth(),i=new Date(1e3*e),s=i.getFullYear(),c=i.getMonth();return m(1e3*e,f(s<o&&(a>1||c<9||o-s>=2)?"global_date":"global_short_date_time","raw"),t,f("months_sm_of","raw"),!n)}},"4Kbl":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("aong");function o(e,t){return t in Object(r.s)(e).oCache}function a(e,t){var n=Object(r.s)(e).oCache[t];return n&&!n._n&&(!function(e){if(!e.first_name){var t=e.name.split(" ",2);e.first_name=t[0],e.short_name=t[1]?t[0]+" "+t[1].substr(0,1)+".":t[0]}e.inv_name||(e.inv_name=e.name),e.kick_name||(e.kick_name=e.inv_name)}(n),n._n=1),n}},"4O8T":function(e,t,n){var r;!function(t){"use strict";function o(){}var a=o.prototype,i=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}a.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},a.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},a.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},a.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},a.on=c("addListener"),a.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},a.once=c("addOnceListener"),a.defineEvent=function(e){return this.getListeners(e),this},a.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},a.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=s(o[r],t))&&o[r].splice(n,1);return this},a.off=c("removeListener"),a.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},a.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},a.manipulateListeners=function(e,t,n){var r,o,a=e?this.removeListener:this.addListener,i=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?a.call(this,r,o):i.call(this,r,o));return this},a.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},a.removeAllListeners=c("removeEvent"),a.emitEvent=function(e,t){var n,r,o,a,i=this.getListenersAsObject(e);for(a in i)if(i.hasOwnProperty(a))for(n=i[a].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},a.trigger=c("emitEvent"),a.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},a.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=i,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},"4R4u":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"4edV":function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return _})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return f}));var r=n("PEW9"),o=n("ftTi"),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){return t.block_states=a(a({},t.block_states),e),Promise.resolve(t)}function s(e,t){return e.chatList=t,Promise.resolve(e)}function c(e,t){var n=e.count,a=e.countNotMuted,i=e.headerNotMutedUnread,s=e.headerTotalUnread;return t.unread_counters={headerNotMutedUnread:i,headerTotalUnread:s,count:n,countNotMuted:a},t.dialog_tab_cts[r.m]=Object(o.l)(t),Promise.resolve(t)}function u(e,t,n){var r=Math.max(0,Object(o.m)(n)+e),a=Math.max(0,Object(o.n)(n)+e),i=Math.max(0,Object(o.d)(n)+e),s=Math.max(0,Object(o.e)(n)+e);return n.mutedPeers.includes(t)||(n.unread_counters.countNotMuted=r,n.unread_counters.headerNotMutedUnread=i),n.unread_counters.count=a,n.unread_counters.headerTotalUnread=s,Promise.resolve(n)}function l(e,t,n){return n.settings[e]=t,Promise.resolve(n)}function _(e,t,n){var r=e.peerId,o=e.eventId;n.callbackEventButtons.has(r)||n.callbackEventButtons.set(r,new Map);var a=n.callbackEventButtons.get(r);return a&&a.set(o,t),Promise.resolve(n)}function d(e,t){var n=e.peerId,r=e.eventId,o=t.callbackEventButtons?t.callbackEventButtons.get(n):void 0;if(!o)return Promise.resolve(t);var a=o.get(r);return a&&clearTimeout(a.timeout),o.delete(r),o.size||t.callbackEventButtons.delete(n),Promise.resolve(t)}function p(e,t){return t.callbackActionTimeout=e,Promise.resolve(t)}function f(e){return clearTimeout(e.callbackActionTimeout),e.callbackActionTimeout=void 0,Promise.resolve(e)}},"4fRq":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},"4tce":function(e,t,n){"use strict";n("VRzm"),n("Btvt"),n("/8Fb"),n("rGqo"),n("NO8f");var r=n("W9Tc");n("pIFo");function o(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}var a=n("W0P9"),i=n("Xrg9");class s{constructor(e,t){this.sw=e,this.SWClient=t,vk.id&&this.canBeEnabled().then(e=>{e&&(this.listenPermission(),this.loadEndpoint()&&this.update().then(this.checkMessageState.bind(this)))})}static getPermission(){return Notification.permission}cleanNotification(){this.sw.action("cleanNotification")}canBeEnabled(){return Promise.resolve(this.isSupported())}isSupported(){return"PushManager"in window&&"Notification"in window&&this.SWClient.isSupported()}loadEndpoint(){return i.a.get("push_notifier_endpoint"+vk.id)||!1}saveEndpoint(e){i.a.set("push_notifier_endpoint"+vk.id,e||!1)}action(e,t){return this.sw.action(e,t)}_needupdate(e){var t=Date.now(),n=this.loadEndpoint(),r=i.a.get("push_notifier_subscribed_ts"+vk.id),o=!1;return(n!==e.endpoint||!r||t-r>6e4)&&(i.a.set("push_notifier_subscribed_ts"+vk.id,t),o=!0),o}listenPermission(){Object(r.b)("push_notifier")&&navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"notifications"}).then(e=>{e.onchange=()=>this.update()})}update(){return this.updatePermission().then(e=>e===s.PUSH_NOTIFIER_PERMISSION_GRANTED?this.subscribe().catch(e=>{e!==s.SUBSCRIBE_ERROR_NETWORK&&Object(a.a)("can not update subscribe")}):Promise.reject("premession_not_granted")).catch(a.a)}updatePermission(){var e=s.getPermission();if(e!==s.PUSH_NOTIFIER_PERMISSION_GRANTED){var t=this.loadEndpoint();if(t)return this.unsubscribe(t).then(()=>e)}return Promise.resolve(e)}processSubscribe(e){return e.subscribe({userVisibleOnly:!0,applicationServerKey:o(s.SERVER_KEY)})}setupSubscription(){return new Promise((e,t)=>{var n=s.getPermission(),r=()=>{this.subscribe(!0).then(()=>{e()}).catch(()=>{t()})};n!==s.PUSH_NOTIFIER_PERMISSION_DENIED?n!==s.PUSH_NOTIFIER_PERMISSION_GRANTED?n===s.PUSH_NOTIFIER_PERMISSION_DEFAULT&&this.requestPermission().then(e=>{e===s.PUSH_NOTIFIER_PERMISSION_GRANTED?r():t()}):r():t(s.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS)})}subscribe(e){return this.sw.register().then(e=>{var t=e.pushManager;return t.getSubscription().then(e=>{if(e){var n=e.expirationTime;return n&&Date.now()>n-432e6?this.unsubscribe(this.loadEndpoint()).then(()=>this.processSubscribe(t)):e}return this.processSubscribe(t)})}).then(t=>new Promise((n,r)=>{if(e||this._needupdate(t)){var o=t.getKey("p256dh"),a=t.getKey("auth");window.ajax.post(s.SERVER_URL,{act:"a_subscribe",hash:this.sw.getPushHash(),endpoint:t.endpoint,key:o?btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("p256dh")))):null,token:a?btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("auth")))):null},{onDone:e=>{e?(this.saveEndpoint(t.endpoint),n()):r()},onFail:()=>(r(s.SUBSCRIBE_ERROR_NETWORK),!0)})}else n()}))}unsubscribe(e){return this.sw.register().then(t=>t.pushManager.getSubscription().then(t=>t?t.unsubscribe().then(t=>t?new Promise((t,n)=>{ajax.post(s.SERVER_URL,{act:"a_unsubscribe",endpoint:e},{onDone:e=>{e?(this.saveEndpoint(!1),t()):n()}})}):Promise.reject("ERROR: can not unsubscribe")):(this.saveEndpoint(!1),Promise.reject("ERROR: no subscription"))))}requestPermission(){var e=s.getPermission();return e===s.PUSH_NOTIFIER_PERMISSION_DEFAULT?new Promise((function(e,t){var n=Notification.requestPermission((function(t){e(t)}));n instanceof Promise&&n.then(e,t)})):Promise.resolve(e)}checkMessageState(){return new Promise(e=>setTimeout(e,5e3)).then(()=>this.action("getMessagesMetaData")).then(e=>"object"==typeof e&&Object.keys(e).length?new Promise((t,n)=>{window.ajax.post(s.SERVER_URL,{act:"a_update_messages_state",data:Object.entries(e)},{onDone:e=>{e?t(e):n("ERROR: act error")},onFail:()=>(n("ERROR: network error"),!0)})}):Promise.resolve({})).then(e=>{try{return JSON.parse(e)}catch(e){return{}}}).then(e=>this.action("updateMessageNotifications",e)).catch(e=>Object(a.a)(e))}}s.SERVER_KEY="BPrntRk2W1_ISFwlgY-vz9tQDg9i1oSQ3-N8xyjdbNAbIOdZIGFdh5FlO7zn730UwU9Sayoec-Fpqq4JZFTyv60",s.SERVER_URL="push_notifier",s.PUSH_NOTIFIER_PERMISSION_GRANTED="granted",s.PUSH_NOTIFIER_PERMISSION_DEFAULT="default",s.PUSH_NOTIFIER_PERMISSION_DENIED="denied",s.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS="BLOCKED_BY_BROWSER_SETTINGS",s.SUBSCRIBE_ERROR_NETWORK="SUBSCRIBE_ERROR_NETWORK";var c=s,u=n("EasH"),l=n("kcIO"),_=n("zxIV");t.a=class extends c{constructor(e,t){super(e,t),this.canBeEnabled().then(e=>{e&&(addClass(document.head,"push_notifier_supported"),this.handlerMessagesLP=this.handlerMessagesLP.bind(this))})}isSupported(){return super.isSupported()&&(browser.chrome||browser.mozilla)}handlerMessagesLP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.peerId,r=e.upToId;"event_read_inbound"===t&&this.sw.action("removeMessageNotification",{peerId:n,msgId:r})}handlerPopup(e,t){var n=Object(l.b)();n&&Object(_.bb)(n.bodyNode),this.setupSubscription().then(()=>this.setState(e,t,"popup")).then(()=>{n&&n.hide()}).catch(e=>{c.PUSH_NOTIFIER_BLOCKED_BY_BROWSER_SETTINGS===e?(Object(_.xb)(n().bodyNode),this.showPopupAllowNotification()):Object(u.d)(getLang("global_error"),getLang("notifications_native_common_error"))})}showPopupAllowNotification(){Object(u.b)(c.SERVER_URL,{act:"popup_allow_notification"},{params:{hideButtons:!0},containerClass:"PushNotifierPopup__popup-box_type--allow-notification"})}showPopupSuggestion(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"feed";Object(u.b)(c.SERVER_URL,{act:"popup_suggestion",old:Number(ls.get("im_notify_flag")),module:e},{params:{hideButtons:!0,width:400},containerClass:"PushNotifierPopup__popup-box_type--suggest",onDone:()=>{ajax.post(c.SERVER_URL,{act:"open_popup"},{onFail:()=>!0})}})}_removeLongPollListener(){this.lp&&this.lp.offData(this.handlerMessagesLP),this.lp=null}_addLongPollListener(){!this.lp&&window.Notifier&&(this.lp=Notifier.getLpInstance(),this.lp&&this.lp.onData(this.handlerMessagesLP))}setState(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"settings";return new Promise((r,o)=>{ajax.post(c.SERVER_URL,{act:"a_toggle_state",state:e,hash:t,from:n},{onDone:e=>e?r():o(),onFail:o})})}update(){return super.update().then(()=>this._addLongPollListener())}unsubscribe(e){return super.unsubscribe(e).then(()=>this._removeLongPollListener())}}},"5PZO":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),o=n.n(r),a=n("xt6h"),i=function(e){var t=e.className,n=e.actionButtons,r=e.hint,i=e.children;return o.a.createElement("div",{className:Object(a.a)("ModalFooter",t)},o.a.createElement("div",{className:"ModalFooter__inner"},r&&o.a.createElement("div",{className:"ModalFooter__hint"},r),i&&o.a.createElement("div",{className:"ModalFooter__content"},i),n))}},"5hnT":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r,o,a=n("tEBl"),i=n.n(a),s=n("W9Tc"),c=n("ruCf"),u=n("/Kck"),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_="mvk"===(null===(o=null===(r=window.vk)||void 0===r?void 0:r.statsMeta)||void 0===o?void 0:o.platform)&&Object(s.b)("mute_mvk_err_peaks"),d=_&&i()(10),p=_&&i()(10,5e3),f=function(e){var t=e.value,n=e.stacktrace,r=e.file,o=e.page;return[t,n.join(""),r,o].join("_")},h=function(e){if(!_||!p||!d)return!1;var t=f(e),n=[d.get(t)||0,p.get(t)||0],r=n[0],o=n[1];return d.set(t,++r),p.set(t,++o),o>=10||r>=50},m=_?function(e){var t,n,r=Date.now(),o=Object(c.h)("jsErrorLogs",e);if(((null===(t=o.match(new RegExp("},{","g")))||void 0===t?void 0:t.length)||0)<10)return e;try{n=JSON.parse(o)}catch(e){Object(u.d)(1,"dedupe-fail")}if(!n)return e;var a=Object.values(n.reduce((function(e,t){var n,r=f(t),o=e[r]||[];return l(l({},e),((n={})[r]=o.length<10?o.concat(t):o,n))}),{})),i=e.replace('"jsErrorLogs":'+o,'"jsErrorLogs":'+JSON.stringify([].concat.apply([],a))),s=Date.now()-r;return s>16&&Object(u.d)(s,"dedupe"),i}:function(e){return e}},"69bn":function(e,t,n){var r=n("y3w9"),o=n("2OiF"),a=n("K0xU")("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||null==(n=r(i)[a])?t:o(n)}},"6D1c":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("3ljy");function o(e){return Object.keys(e).map((function(t){var n=e[t];return(t=encodeURIComponent(t||""))+"="+encodeURIComponent(n||"")})).join("&")}function a(e,t,n){void 0===n&&(n={});var a=o(t);return fetch(e,Object(r.a)({method:"POST",body:a,mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"}},n)).then((function(e){return e.json()}))}},"6FMO":function(e,t,n){var r=n("0/R4"),o=n("EWmC"),a=n("K0xU")("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},"6b4t":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));n("KKXr");var r=n("q1tI");n("17x9");class o extends r.Component{static mapFilterOptionsToDropdownOptions(e){return e?e.map(e=>[e.constant,e.name]):[]}constructor(e){super(e),this.state={filterWrapElementId:this.props.config.id+"_filter_wrap",filterElementId:this.props.config.id+"_filter"}}componentDidMount(){var e=this.props.config.placeholder||"",t=this.onChange.bind(this);this.state.input=new Dropdown(ge(this.state.filterElementId),o.mapFilterOptionsToDropdownOptions(this.props.config.options),{selectedItems:this.props.config.selected,onChange:t,placeholder:e,multiselect:!this.props.singleSelectCrutch,autocomplete:!0,width:this.props.width,big:!0,maxItems:this.props.maxItems})}componentDidUpdate(e,t,n){if(this.props.config.selected!==e.config.selected&&Array.isArray(this.props.config.selected)&&0===this.props.config.selected.length)this.state.input.clear();else if(this.props.singleSelectCrutch){var r=this.state.input.selectedItems(),o=r&&r[0]&&r[0][0]?r[0][0]:null;if(!o)return;this.props.config.selected!==e.config.selected&&o!=this.props.config.selected&&this.state.input.selectItem(this.props.config.selected[0])}}onChange(e){var t=o.convertOldValueToJson(e);this.props.onFilterChange(this.props.config.id,t)}static convertOldValueToJson(e){return e?e.split(","):null}render(){var e=this.props.config.header?r.createElement("div",{className:"search_filter_main"},this.props.config.header):"";return r.createElement("div",{className:"filter"},e,r.createElement("div",{id:this.state.filterWrapElementId,className:"search_control"},r.createElement("input",{id:this.state.filterElementId,type:"text",className:"dark"})))}}o.defaultProps={width:200,maxItems:50,singleSelectCrutch:!1}},"6krn":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n("nAFc"),o=n("4+be"),a={};function i(e,t,n){void 0===t&&(t=!1);var i="number"==typeof t,s=t||i,c=e+(s?".raw":"");if(void 0===a[c]){var u=s?Object(o.d)(e,"raw"):Object(o.d)(e);"string"==typeof u?a[c]=Object(r.a)(u):Array.isArray(u)?a[c]=u.map(r.a):a[c]="object"==typeof u&&null!==u?Object.keys(u).reduce((function(e,t){return e[t]=Object(r.a)(u[t]),e}),{}):u}if(i){var l=t;return Object(o.j)(l,a[c],n)}return a[c]||""}t.a={getLang:i}},"6ng+":function(e,t,n){"use strict";n.d(t,"e",(function(){return _})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return w}));n("91GP"),n("HEwt"),n("a1Th"),n("Btvt"),n("rGqo"),n("rE2o"),n("ioFf"),n("KKXr");var r=n("XLUH"),o=n("BJj/"),a=n("DM2o"),i=n("xk4V"),s=n("Xrg9");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _="added",d="removed",p="recommendation_removed",f="show_album",h="share_audio",m="broadcast",b="upload",g="on",v="off",y={start:1,stop:2,volume:3,rewind:4,play_further:5,[_]:6,[d]:7,[p]:8,[f]:9,[h]:10,[m]:11,curator:12},O={default:1,next_track:2,prev_track:3,auto:4,interruption:5,pause:6,new:7,close_app:8,queue:9,pause:10,[b]:11,[g]:12,[v]:13,follow:14,unfollow:15};class w{constructor(e){if(this.playerAdapter=e,this.listenedData=null,this.sendTimeout=null,this.currentAudioId=null,this.currentAudio=null,this.currentAudioTrackCode=null,this.pausedAudioId=null,this.playlistChanged=!1,this.currentPosition=0,this.currentListened=0,this.playedTime=0,this.adsCompleted=!1,this.wasEnded=!1,vk.id)this.uniqueUserId=null;else{var t=s.a.get("audio_unique_unauth_id");t?this.uniqueUserId=t:(this.uniqueUserId=i(),s.a.set("audio_unique_unauth_id",this.uniqueUserId))}this.debug=e.isDebug(),this.onVolume=Object(o.a)(this.onVolume.bind(this),300),this.playerAdapter.listenPlay(this.onPlay,this),this.playerAdapter.listenPause(this.onPause,this),this.playerAdapter.listenStop(this.onPause,this),this.playerAdapter.listenProgress(this.onProgress,this),this.playerAdapter.listenVolume(this.onVolume,this),this.playerAdapter.listenSeek(this.onSeek,this),this.playerAdapter.listenPlaylistChanged(this.onPlaylistChanged,this),this.playerAdapter.listenEnded(this.onEnded,this),this.playerAdapter.listenPlayNext(this.onPlayNext,this),this.playerAdapter.listenAdCompleted(this.onAdCompleted,this),this.onPageClose=this.onPageClose.bind(this),addEvent(window,"beforeunload",this.onPageClose)}canOperate(){return!this.playerAdapter.isPodcast()&&!this.playerAdapter.isAdPlaying()}getCurrentAudioParams(){var e=this.currentAudioId||this.playerAdapter.getAudioId();if(e){var t=u(e.split("_"),2);return{ownerId:t[0],audioId:t[1],trackCode:this.currentAudioTrackCode||this.playerAdapter.getAudioTrackCode()}}return{}}getEnvParams(){return{state:this.playerAdapter.getState(),context:this.playerAdapter.getContext(),ref:window.cur&&vk.widget?String(cur.widgetReferrer||"").substring(0,20):""}}getListenedTime(){return Math.round(this.playerAdapter.getListenedTime())||0}getPlaySubtype(){if(this.playerAdapter.isAutoPlayed())return"auto";var e=this.playerAdapter.getSequence();if(e)return e>0?"next_track":"prev_track";var t=this.pausedAudioId,n=this.playerAdapter.getAudioId();return t&&n===t?"pause":"new"}onPlay(){if(this.canOperate()){var e=this.playerAdapter.getAudio(),t=e.fullId,n=this.currentAudioId===t||!this.currentAudioId,r=this.currentAudioId!==this.pausedAudioId,o=this.playerAdapter.getListenedTime();!n&&r&&this.onTrackSwitch(this.currentAudio,this.currentPlaylistId),this.playedTime=vkNow(),this.currentAudioId=t,this.currentAudio=e,this.currentAudioTrackCode=this.playerAdapter.getAudioTrackCode(),this.currentPlaylistId=this.playerAdapter.getPlaylistId(),this.wasEnded||this.playerAdapter.hasPrevAudio()&&(!this.pausedAudioId||this.playerAdapter.isAutoPlayed())?(this.currentPosition=0,o=0):this.currentPosition=this.playerAdapter.getProgressInSeconds(),this.currentListened=o,this.sendCurrentAudioEvent({type:"start",subtype:this.getPlaySubtype(),position:this.currentPosition,listened:o}),this.pausedAudioId=null,this.playlistChanged=!1,this.wasEnded=!1}}onPause(){var e=this.playerAdapter.getAudioId();if(this.canOperate()&&e){var t=this.collectListenedData();this.sendListenedDataDelayed(1e3,t),setTimeout(()=>{if(!(this.currentAudio&&e!==this.currentAudio.fullId||vkNow()-this.playedTime<150)){this.pausedAudioId=e;var t=this.playerAdapter.getPausedBy(this.playedTime);this.sendCurrentAudioEvent({type:"stop",subtype:t?"queue"===t?"queue":"interruption":"pause"})}},100)}}onProgress(){this.playerAdapter.getProgress()<.01||!this.playerAdapter.isPlaying()||(this.currentPosition=this.playerAdapter.getProgressInSeconds(),this.currentListened=this.playerAdapter.getListenedTime(),!this.pausedAudioId&&vkNow()-this.playedTime>150&&this.collectListenedData(),this.adsCompleted&&(this.sendCurrentAudioEvent({type:"start",subtype:this.getPlaySubtype(),position:this.currentPosition}),this.adsCompleted=!1))}onVolume(){this.canOperate()&&this.sendCurrentAudioEvent({type:"volume",subtype:"default"})}onSeek(){if(this.canOperate()){var e={position:this.currentPosition,positionTo:this.playerAdapter.getProgressInSeconds()};e.position!==e.positionTo&&this.sendCurrentAudioEvent(c({type:"rewind",subtype:"default"},e))}}onPlaylistChanged(){this.canOperate()&&(this.playlistChanged=!0)}onEnded(){this.listenedData&&this.playerAdapter.isLastTrack()&&(this.listenedData.end_stream_reason="session_end"),this.wasEnded=!0,this.playerAdapter.isRepeatCurrentAudio()?(this.sendCurrentAudioEvent({type:"stop",subtype:"auto"}),this.collectListenedData(),this.sendListenedData()):this.sendListenedDataDelayed(150)}onPlayNext(e,t){if(this.canOperate()){var n=u(t.split("_"),2),r=n[0],o=n[1];this.sendAudioEvent({type:"play_further",subtype:"default",ownerId:r,audioId:o})}}onAdCompleted(){this.adsCompleted=!0}onTrackSwitch(e,t){if(e){var n="new",r=this.playerAdapter.getSequence(),o=u(e.fullId.split("_"),2),a=o[0],i=o[1];this.playerAdapter.isAutoPlayed()?n="auto":r&&(n=r>0?"next_track":"prev_track"),this.sendCurrentAudioEvent({type:"stop",subtype:n,position:this.currentPosition,listened:this.currentListened,trackCode:e.trackCode,playlistId:t,ownerId:a,audioId:i}),this.wasEnded=!0,this.collectListenedData(e),this.collectListenedDataSwitch();var s=this.listenedData;this.listenedData=null,this.sendListenedData(s)}}onPageClose(){this.playerAdapter.isPlaying()&&(this.sendCurrentAudioEvent({type:"stop",subtype:"close_app"}),this.sendListenedData())}collectListenedDataSwitch(){if(this.listenedData){if("session_end"===this.listenedData.end_stream_reason)return;var e=this.playerAdapter.isAutoPlayed(),t=this.getListenedTime(),n=this.playerAdapter.getSequence(),r=null;n&&!e?r=n>0?"next_btn":"prev":this.playlistChanged&&(r="playlist_change"),!r&&e&&(r="playlist_next"),this.listenedData.end_stream_reason=r||"new",t&&(this.listenedData.listened=t)}}collectListenedData(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.currentAudio;if(this.canOperate()&&e){var t=e.fullId,n=e.trackCode||this.playerAdapter.getAudioTrackCode(),r=this.getListenedTime(),o=e.urlHash;if(o||console.log("no url hash"),r&&o){var a={audio_id:t,listened:r,context:this.playerAdapter.getContext(),hash:o};return window.cur&&vk.widget&&(a.ref=cur.widgetReferrer||""),this.playerAdapter.hasSearchParams()&&(a.search_params=JSON.stringify(this.playerAdapter.getSearchParams())),this.playerAdapter.hasPlaylist()&&(this.playerAdapter.isRealPlaylist()&&(a.playlist_id=this.playerAdapter.getPlaylistId()),this.playerAdapter.isShuffledPlaylist()&&(a.shuffled=1)),n&&(a.track_code=n),this.playerAdapter.isRepeatCurrentAudio()?a.repeat="one":this.playerAdapter.isRepeatAll()&&(a.repeat="all"),this.playerAdapter.isAutoPlayed()&&(a.auto=1),this.playerAdapter.hasPrevAudio()&&(a.prev_audio_id=this.playerAdapter.getPrevAudioId()),this.playerAdapter.hasPrevPlaylist()&&this.playerAdapter.isRealPrevPlaylist()&&(a.prev_playlist_id=this.playerAdapter.getPrevPlaylistId()),this.playerAdapter.isPlaying()||(a.end_stream_reason="stop_btn"),a.state=document.hidden?"background":"app",this.listenedData=a,this.sendListenedDataDelayed(1e4,a),a}}}sendListenedData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;clearTimeout(this.sendTimeout);var t=e||this.listenedData;this.listenedData=null,t&&t.listened&&(this.uniqueUserId&&(t.unique_id=this.uniqueUserId),this.playerAdapter.sendListenedData(t))}sendListenedDataDelayed(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(this.sendTimeout),this.sendTimeout=setTimeout(()=>this.sendListenedData(t),e)}serializeEvent(e){var t=[y[e.type],O[e.subtype],1];return e.audioId?t.push(e.ownerId+"_"+e.audioId):t.push(0),e.trackCode?t.push(e.trackCode):t.push(0),e.state?t.push(e.state):t.push(r.c),e.ref?t.push(e.ref):t.push(""),e.context?t.push(e.context):t.push("other"),e.volume||0===e.volume?t.push(e.volume):t.push(this.playerAdapter.getVolume()),e.position||0===e.position?t.push(e.position):t.push(this.playerAdapter.getProgressInSeconds()),e.shuffle?t.push(e.shuffle?1:0):t.push(0),e.repeat?t.push(e.repeat):t.push(0),e.listened?t.push(Math.max(e.listened,0)):t.push(0),e.playlistId?t.push(e.playlistId):t.push(""),e.targetOwnerId?t.push(e.targetOwnerId):t.push(0),this.uniqueUserId?t.push(this.uniqueUserId):t.push(""),e.positionTo?t.push(e.positionTo):t.push(null),t}sendEvent(e){this.debug&&(console.log("audio stats event",e.type,e.subtype,e),window._statForTest||(window._statForTest=[]),window._statForTest.push(e)),Object(a.a)("audio_sts",...this.serializeEvent(e))}sendCurrentAudioEvent(e){this.sendEvent(c({shuffle:this.playerAdapter.isShuffledPlaylist(),repeat:this.playerAdapter.isRepeatCurrentAudio()?1:this.playerAdapter.isRepeatAll()?2:0,volume:this.playerAdapter.getVolume(),position:this.playerAdapter.getProgressInSeconds(),listened:this.getListenedTime(),playlistId:this.playerAdapter.getPlaylistId()},this.getEnvParams(),{},this.getCurrentAudioParams(),{},e))}sendAudioEvent(e){var t=c({},e,{},this.getEnvParams());!vk.id&&this.uniqueUserId&&(t.uniqueUnauthId=this.uniqueUserId),this.sendEvent(t)}destroy(){this.playerAdapter.unListenAll(),removeEvent(window,"beforeunload",this.onPageClose),this.playerAdapter=null,this.listenedData=null,clearTimeout(this.sendTimeout)}}},"6x51":function(e,t,n){"use strict";n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"f",(function(){return w}));var r=n("rudk"),o=n("kxld"),a=n("ftTi"),i=n("Czjj"),s=n("4Kbl"),c=n("PEW9"),u=n("W9Tc"),l=n("4+be"),_=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function p(e,t,n){var r=e.reduce((function(e,t){return e.set(t.peerId,!0),e}),new Map),o=n||function(){return!0};return d(d([],e),t.filter((function(e){return!r.has(e.peerId)&&o(e)})))}function f(e,t){for(var n in t)t.hasOwnProperty(n)&&h(e,t[n])}function h(e,t){var n,c=Object(s.b)(e,t.peerId),u=Object(o.e)(e,t.peerId),l=t.lastmsg;if(c&&(t.photo=t.photo||c.photo,t.name=t.name||c.name,t.href=t.href||c.link,t.sex=t.sex||c.sex),t.last_touched=(null==u?void 0:u.last_touched)||0,t.verified=!!t.verified,t.lastmsg=l||t.lastmsg_meta&&t.lastmsg_meta[0]||!1,Object(a.p)(e)&&(l||t.lastmsg_meta&&t.lastmsg_meta[0])&&!1===t.lastmsg&&(console.log(_({},t)),Object(i.a)()),t.folders=t.folders||null,t.unread=t.unread||0,t.online=t.online||0,t.is_new=!!t.is_new,t.out_up_to=null!=t.out_up_to?t.out_up_to:t.in_up_to||0,Object(r.j)(t.peerId)){var d=t.last_seen;t.online=d&&(null==d?void 0:d.platform)||0,t.last_seen=t.last_seen||{platform:0,time:0,mobile:0,can_see:0}}return Object(r.c)(t.peerId)&&(t.memberIds=t.memberIds||(null===(n=u)||void 0===n?void 0:n.memberIds)||null),t}function m(e){return e+19e8}function b(e){var t={peerId:e[0],name:e[1],tab:e[1],photo:e[2],href:e[3],online:e[4],is_friend:e[5],local_index:!0};return e[6]&&(t.data={flags:e[6]}),t}function g(e){return e===c.c.ALL?function(e){return Object(u.b)("simplified_start_conversation")?!Object(o.u)(e):!Object(o.t)(e)}:e===c.c.UNREAD?function(e){return!Object(o.t)(e)&&(e.unread&&e.unread>0||Object(o.s)(e))}:e===c.c.MR?function(e){return Object(u.b)("simplified_start_conversation")?Object(o.u)(e):Object(o.t)(e)}:function(t){return t.folders&&t.folders&c.h[e]}}function v(e,t,n){var r=t.data.active.slice(0,4).map((function(t){return Object(s.b)(e,t)})).filter((function(e){return!!e}));return[r.map((function(e){return e.photo})),n?r.map((function(e){return e.link})):[]]}function y(e,t,n){var r=(t.lastmsg||!Object(u.b)("messenger_empty_pinned_support"))&&t.major_sort_id||0,i=(n.lastmsg||!Object(u.b)("messenger_empty_pinned_support"))&&n.major_sort_id||0,s=r!==i?i-r:Object(o.c)(e,n)-Object(o.c)(e,t);return Object(a.r)(e)?-s:s}function O(e,t){var n,a=Object(o.h)(e);return(n={})[c.b.SEARCH]={icon:"search",name:Object(l.d)("mail_im_peer_search")},n[c.b.BLOCK_COMMUNITY]={icon:"block",name:Object(l.d)("mail_block_comm_messages")},n[c.b.BLOCK_NOTIFY]={icon:"block",name:Object(l.d)("mail_block_notify_messages")},n[c.b.ALLOW_COMMUNITY]={icon:"unblock",name:Object(l.d)("mail_allow_comm_messages")},n[c.b.CLEAR]={icon:"clear",name:Object(r.f)(e.peerId)?Object(l.d)("mail_im_delete_email_contact"):Object(l.d)("mail_im_delete_all_history")},n[c.b.MUTE]={icon:"mute",name:Object(l.d)("mail_im_mute")},n[c.b.PIN_CONVO]={icon:"pin_convo",name:Object(l.d)("mail_pin_chat")},n[c.b.UNPIN_CONVO]={icon:"unpin_convo",name:Object(l.d)("mail_unpin_chat")},n[c.b.UNMUTE]={icon:"unmute",name:Object(l.d)("mail_im_unmute")},n[c.b.MEDIA]={icon:"media",name:t?Object(l.d)("mail_im_show_media_history_group"):Object(l.d)("mail_im_show_media_history")},n[c.b.BLOCK]={icon:"block",name:Object(l.d)("mail_block_user")},n[c.b.CHAT_INVITE]={icon:"add",name:Object(l.d)("mail_im_create_chat_with")},n[c.b.USER_INVITE]={icon:"invite",name:Object(r.j)(e.peerId)&&1===e.canBeAddedToChat?Object(l.d)("mail_im_add_to_chat"):Object(l.d)("mail_im_invite_to_chat")},n[c.b.CREATE_CHAT]={icon:"invite",name:Object(l.d)("mail_im_create_chat_with")},n[c.b.LEAVE]={icon:"leave",name:a?Object(l.d)("mail_leave_channel"):Object(l.d)("mail_leave_chat")},n[c.b.RETURN]={icon:"return",name:a?Object(l.d)("mail_return_to_vkcomgroup"):Object(l.d)("mail_return_to_chat")},n[c.b.PIN_HIDE]={icon:"pin_hide",name:Object(l.d)("mail_menu_pin_hide")},n[c.b.PIN_UNHIDE]={icon:"pin_unhide",name:Object(l.d)("mail_menu_pin_show")},n[c.b.UNPIN]={icon:"unpin",name:Object(l.d)("mail_menu_unpin")},n[c.b.SETTINGS]={icon:"settings",name:a?Object(l.d)("mail_vkcomgroup_settings"):Object(l.d)("mail_settings")},n[c.b.CALL_AUDIO]={icon:"call_audio",name:Object(l.d)("mail_im_call_audio")},n[c.b.CALL_VIDEO]={icon:"call_video",name:Object(l.d)("mail_im_call_video")},n[c.b.CALL_APP]={icon:"call_app",name:Object(l.d)("mail_im_call_app")},n[c.b.UNREAD]={icon:"unread",name:Object(l.d)("mail_menu_mark_unread")},n[c.b.CALL_BY_NAME]={icon:"call_by_name",name:Object(l.d)("mail_im_call_by_name")},n}function w(e,t){return Object(u.b)("fav_dialog_with_yourself")&&e===t}},"7DDg":function(e,t,n){"use strict";if(n("nh4g")){var r=n("LQAc"),o=n("dyZX"),a=n("eeVq"),i=n("XKFU"),s=n("D4iV"),c=n("7Qtz"),u=n("m0Pp"),l=n("9gX7"),_=n("RjD/"),d=n("Mukb"),p=n("3Lyj"),f=n("RYi7"),h=n("ne8i"),m=n("Cfrj"),b=n("d/Gc"),g=n("apmT"),v=n("aagx"),y=n("I8a+"),O=n("0/R4"),w=n("S/j/"),E=n("M6Qj"),j=n("Kuth"),D=n("OP3Y"),P=n("kJMx").f,k=n("J+6e"),C=n("ylqs"),T=n("K0xU"),x=n("CkkT"),I=n("w2a5"),A=n("69bn"),M=n("yt8O"),S=n("hPIQ"),L=n("XMVh"),B=n("elZq"),R=n("Nr18"),N=n("upKx"),U=n("hswa"),F=n("EemH"),W=U.f,K=F.f,H=o.RangeError,q=o.TypeError,V=o.Uint8Array,z=Array.prototype,G=c.ArrayBuffer,$=c.DataView,J=x(0),Y=x(2),X=x(3),Q=x(4),Z=x(5),ee=x(6),te=I(!0),ne=I(!1),re=M.values,oe=M.keys,ae=M.entries,ie=z.lastIndexOf,se=z.reduce,ce=z.reduceRight,ue=z.join,le=z.sort,_e=z.slice,de=z.toString,pe=z.toLocaleString,fe=T("iterator"),he=T("toStringTag"),me=C("typed_constructor"),be=C("def_constructor"),ge=s.CONSTR,ve=s.TYPED,ye=s.VIEW,Oe=x(1,(function(e,t){return Pe(A(e,e[be]),t)})),we=a((function(){return 1===new V(new Uint16Array([1]).buffer)[0]})),Ee=!!V&&!!V.prototype.set&&a((function(){new V(1).set({})})),je=function(e,t){var n=f(e);if(n<0||n%t)throw H("Wrong offset!");return n},De=function(e){if(O(e)&&ve in e)return e;throw q(e+" is not a typed array!")},Pe=function(e,t){if(!O(e)||!(me in e))throw q("It is not a typed array constructor!");return new e(t)},ke=function(e,t){return Ce(A(e,e[be]),t)},Ce=function(e,t){for(var n=0,r=t.length,o=Pe(e,r);r>n;)o[n]=t[n++];return o},Te=function(e,t,n){W(e,t,{get:function(){return this._d[n]}})},xe=function(e){var t,n,r,o,a,i,s=w(e),c=arguments.length,l=c>1?arguments[1]:void 0,_=void 0!==l,d=k(s);if(null!=d&&!E(d)){for(i=d.call(s),r=[],t=0;!(a=i.next()).done;t++)r.push(a.value);s=r}for(_&&c>2&&(l=u(l,arguments[2],2)),t=0,n=h(s.length),o=Pe(this,n);n>t;t++)o[t]=_?l(s[t],t):s[t];return o},Ie=function(){for(var e=0,t=arguments.length,n=Pe(this,t);t>e;)n[e]=arguments[e++];return n},Ae=!!V&&a((function(){pe.call(new V(1))})),Me=function(){return pe.apply(Ae?_e.call(De(this)):De(this),arguments)},Se={copyWithin:function(e,t){return N.call(De(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(De(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return R.apply(De(this),arguments)},filter:function(e){return ke(this,Y(De(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(De(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(De(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){J(De(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(De(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(De(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(De(this),arguments)},lastIndexOf:function(e){return ie.apply(De(this),arguments)},map:function(e){return Oe(De(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(De(this),arguments)},reduceRight:function(e){return ce.apply(De(this),arguments)},reverse:function(){for(var e,t=De(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return X(De(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(De(this),e)},subarray:function(e,t){var n=De(this),r=n.length,o=b(e,r);return new(A(n,n[be]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,h((void 0===t?r:b(t,r))-o))}},Le=function(e,t){return ke(this,_e.call(De(this),e,t))},Be=function(e){De(this);var t=je(arguments[1],1),n=this.length,r=w(e),o=h(r.length),a=0;if(o+t>n)throw H("Wrong length!");for(;a<o;)this[t+a]=r[a++]},Re={entries:function(){return ae.call(De(this))},keys:function(){return oe.call(De(this))},values:function(){return re.call(De(this))}},Ne=function(e,t){return O(e)&&e[ve]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return Ne(e,t=g(t,!0))?_(2,e[t]):K(e,t)},Fe=function(e,t,n){return!(Ne(e,t=g(t,!0))&&O(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?W(e,t,n):(e[t]=n.value,e)};ge||(F.f=Ue,U.f=Fe),i(i.S+i.F*!ge,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:Fe}),a((function(){de.call({})}))&&(de=pe=function(){return ue.call(this)});var We=p({},Se);p(We,Re),d(We,fe,Re.values),p(We,{slice:Le,set:Be,constructor:function(){},toString:de,toLocaleString:Me}),Te(We,"buffer","b"),Te(We,"byteOffset","o"),Te(We,"byteLength","l"),Te(We,"length","e"),W(We,he,{get:function(){return this[ve]}}),e.exports=function(e,t,n,c){var u=e+((c=!!c)?"Clamped":"")+"Array",_="get"+e,p="set"+e,f=o[u],b=f||{},g=f&&D(f),v=!f||!s.ABV,w={},E=f&&f.prototype,k=function(e,n){W(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[_](n*t+r.o,we)}(this,n)},set:function(e){return function(e,n,r){var o=e._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[p](n*t+o.o,r,we)}(this,n,e)},enumerable:!0})};v?(f=n((function(e,n,r,o){l(e,f,u,"_d");var a,i,s,c,_=0,p=0;if(O(n)){if(!(n instanceof G||"ArrayBuffer"==(c=y(n))||"SharedArrayBuffer"==c))return ve in n?Ce(f,n):xe.call(f,n);a=n,p=je(r,t);var b=n.byteLength;if(void 0===o){if(b%t)throw H("Wrong length!");if((i=b-p)<0)throw H("Wrong length!")}else if((i=h(o)*t)+p>b)throw H("Wrong length!");s=i/t}else s=m(n),a=new G(i=s*t);for(d(e,"_d",{b:a,o:p,l:i,e:s,v:new $(a)});_<s;)k(e,_++)})),E=f.prototype=j(We),d(E,"constructor",f)):a((function(){f(1)}))&&a((function(){new f(-1)}))&&L((function(e){new f,new f(null),new f(1.5),new f(e)}),!0)||(f=n((function(e,n,r,o){var a;return l(e,f,u),O(n)?n instanceof G||"ArrayBuffer"==(a=y(n))||"SharedArrayBuffer"==a?void 0!==o?new b(n,je(r,t),o):void 0!==r?new b(n,je(r,t)):new b(n):ve in n?Ce(f,n):xe.call(f,n):new b(m(n))})),J(g!==Function.prototype?P(b).concat(P(g)):P(b),(function(e){e in f||d(f,e,b[e])})),f.prototype=E,r||(E.constructor=f));var C=E[fe],T=!!C&&("values"==C.name||null==C.name),x=Re.values;d(f,me,!0),d(E,ve,u),d(E,ye,!0),d(E,be,f),(c?new f(1)[he]==u:he in E)||W(E,he,{get:function(){return u}}),w[u]=f,i(i.G+i.W+i.F*(f!=b),w),i(i.S,u,{BYTES_PER_ELEMENT:t}),i(i.S+i.F*a((function(){b.of.call(f,1)})),u,{from:xe,of:Ie}),"BYTES_PER_ELEMENT"in E||d(E,"BYTES_PER_ELEMENT",t),i(i.P,u,Se),B(u),i(i.P+i.F*Ee,u,{set:Be}),i(i.P+i.F*!T,u,Re),r||E.toString==de||(E.toString=de),i(i.P+i.F*a((function(){new f(1).slice()})),u,{slice:Le}),i(i.P+i.F*(a((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!a((function(){E.toLocaleString.call([1,2])}))),u,{toLocaleString:Me}),S[u]=T?C:x,r||T||d(E,fe,x)}}else e.exports=function(){}},"7Qtz":function(e,t,n){"use strict";var r=n("dyZX"),o=n("nh4g"),a=n("LQAc"),i=n("D4iV"),s=n("Mukb"),c=n("3Lyj"),u=n("eeVq"),l=n("9gX7"),_=n("RYi7"),d=n("ne8i"),p=n("Cfrj"),f=n("kJMx").f,h=n("hswa").f,m=n("Nr18"),b=n("fyDq"),g=r.ArrayBuffer,v=r.DataView,y=r.Math,O=r.RangeError,w=r.Infinity,E=g,j=y.abs,D=y.pow,P=y.floor,k=y.log,C=y.LN2,T=o?"_b":"buffer",x=o?"_l":"byteLength",I=o?"_o":"byteOffset";function A(e,t,n){var r,o,a,i=new Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?D(2,-24)-D(2,-77):0,_=0,d=e<0||0===e&&1/e<0?1:0;for((e=j(e))!=e||e===w?(o=e!=e?1:0,r=c):(r=P(k(e)/C),e*(a=D(2,-r))<1&&(r--,a*=2),(e+=r+u>=1?l/a:l*D(2,1-u))*a>=2&&(r++,a/=2),r+u>=c?(o=0,r=c):r+u>=1?(o=(e*a-1)*D(2,t),r+=u):(o=e*D(2,u-1)*D(2,t),r=0));t>=8;i[_++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;s>0;i[_++]=255&r,r/=256,s-=8);return i[--_]|=128*d,i}function M(e,t,n){var r,o=8*n-t-1,a=(1<<o)-1,i=a>>1,s=o-7,c=n-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===l)l=1-i;else{if(l===a)return r?NaN:u?-w:w;r+=D(2,t),l-=i}return(u?-1:1)*r*D(2,l-t)}function S(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function L(e){return[255&e]}function B(e){return[255&e,e>>8&255]}function R(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function N(e){return A(e,52,8)}function U(e){return A(e,23,4)}function F(e,t,n){h(e.prototype,t,{get:function(){return this[n]}})}function W(e,t,n,r){var o=p(+n);if(o+t>e[x])throw O("Wrong index!");var a=e[T]._b,i=o+e[I],s=a.slice(i,i+t);return r?s:s.reverse()}function K(e,t,n,r,o,a){var i=p(+n);if(i+t>e[x])throw O("Wrong index!");for(var s=e[T]._b,c=i+e[I],u=r(+o),l=0;l<t;l++)s[c+l]=u[a?l:t-l-1]}if(i.ABV){if(!u((function(){g(1)}))||!u((function(){new g(-1)}))||u((function(){return new g,new g(1.5),new g(NaN),"ArrayBuffer"!=g.name}))){for(var H,q=(g=function(e){return l(this,g),new E(p(e))}).prototype=E.prototype,V=f(E),z=0;V.length>z;)(H=V[z++])in g||s(g,H,E[H]);a||(q.constructor=g)}var G=new v(new g(2)),$=v.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||c(v.prototype,{setInt8:function(e,t){$.call(this,e,t<<24>>24)},setUint8:function(e,t){$.call(this,e,t<<24>>24)}},!0)}else g=function(e){l(this,g,"ArrayBuffer");var t=p(e);this._b=m.call(new Array(t),0),this[x]=t},v=function(e,t,n){l(this,v,"DataView"),l(e,g,"DataView");var r=e[x],o=_(t);if(o<0||o>r)throw O("Wrong offset!");if(o+(n=void 0===n?r-o:d(n))>r)throw O("Wrong length!");this[T]=e,this[I]=o,this[x]=n},o&&(F(g,"byteLength","_l"),F(v,"buffer","_b"),F(v,"byteLength","_l"),F(v,"byteOffset","_o")),c(v.prototype,{getInt8:function(e){return W(this,1,e)[0]<<24>>24},getUint8:function(e){return W(this,1,e)[0]},getInt16:function(e){var t=W(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=W(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return S(W(this,4,e,arguments[1]))},getUint32:function(e){return S(W(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return M(W(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return M(W(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){K(this,1,e,L,t)},setUint8:function(e,t){K(this,1,e,L,t)},setInt16:function(e,t){K(this,2,e,B,t,arguments[2])},setUint16:function(e,t){K(this,2,e,B,t,arguments[2])},setInt32:function(e,t){K(this,4,e,R,t,arguments[2])},setUint32:function(e,t){K(this,4,e,R,t,arguments[2])},setFloat32:function(e,t){K(this,4,e,U,t,arguments[2])},setFloat64:function(e,t){K(this,8,e,N,t,arguments[2])}});b(g,"ArrayBuffer"),b(v,"DataView"),s(v.prototype,i.VIEW,!0),t.ArrayBuffer=g,t.DataView=v},"7jxN":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return _})),n.d(t,"l",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"c",(function(){return y}));n("pIFo"),n("a1Th"),n("Btvt"),n("SRfc");var r=n("t7n3"),o=n("zxIV"),a=n("gdug");function i(e,t,n,i){if(e=Object(o.J)(e)){var s,c=Object(r.v)(i)?i:()=>{},l=Object(r.i)({},"object"==typeof n?n:{duration:n,onComplete:c}),_={},d={},p=Object(o.fb)(e);l.orig={},(t=Object(r.d)(t)).discrete&&(l.discrete=1,delete t.discrete),a.a.iphone&&(l.duration=0);var f=Object(o.l)(e,"tween"),h=p?"hide":"show";for(var m in f&&f.isTweening&&(l.orig=Object(r.i)(l.orig,f.options.orig),f.stop(!1),f.options.show?h="hide":f.options.hide&&(h="show")),t)if(t.hasOwnProperty(m)){if(!f&&("show"===t[m]&&p||"hide"===t[m]&&!p))return l.onComplete.call(this,e);if("height"!==m&&"width"!==m||!e.style||(t.overflow||(void 0===l.orig.overflow&&(l.orig.overflow=Object(o.T)(e,"overflow")),e.style.overflow="hidden"),Object(o.ab)(e,"inl_bl")||"TD"===e.tagName||(e.style.display="block")),/show|hide|toggle/.test(t[m]))if("toggle"===t[m]&&(t[m]=h),"show"===t[m]){s=0,l.show=!0,void 0===l.orig[m]&&(l.orig[m]=Object(o.T)(e,m,!1)||"",Object(o.vb)(e,m,0));var b=e.style[m];e.style[m]=l.orig[m],t[m]=parseFloat(Object(o.T)(e,m,!0)),e.style[m]=b,"height"===m&&a.a.msie&&!t.overflow&&(e.style.overflow="hidden")}else void 0===l.orig[m]&&(l.orig[m]=Object(o.T)(e,m,!1)||""),l.hide=!0,t[m]=0}return l.show&&!p&&Object(o.xb)(e),f=new u(e,l),Object(r.f)(t,(function(t,n){if(/backgroundColor|borderBottomColor|borderLeftColor|borderRightColor|borderTopColor|color|borderColor|outlineColor/.test(t)){if(s=v(e,"borderColor"===t?"borderTopColor":t),n=g(n),void 0===s)return}else{var a=n.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/);a&&(n=parseFloat(a[2]),a[1]&&(n=("-="==a[1]?-1:1)*n+n)),0!=(s=f.cur(t,!0))||"width"!==t&&"height"!==t||(s=1),"opacity"===t&&n>0&&!p&&(Object(o.vb)(e,"opacity",0),s=0,Object(o.xb)(e))}(s!=n||Object(r.t)(s)&&s.join(",")===n.join(","))&&(_[t]=s,d[t]=n)})),f.start(_,d),Object(o.l)(e,"tween",f),f}}function s(e,t,n,r,o,a){var i,s,c=function(t){var r=1-t;return 3*r*r*t*e+3*r*t*t*n+t*t*t},u=function(e){var n=1-e;return 3*n*n*e*t+3*n*e*e*r+e*e*e},l=function(t){var r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*n},_=o;for(i=_,s=0;s<8;s++){var d=c(i)-_;if(Math.abs(d)<a)return u(i);var p=l(i);if(Math.abs(p)<1e-6)break;i-=d/p}var f=0,h=1;if((i=_)<f)return u(f);if(i>h)return u(h);for(;f<h;){var m=c(i);if(Math.abs(m-_)<a)return u(i);_>m?f=i:h=i,i=.5*(h-f)+f}return u(i)}function c(e,t,n,r){return i(e,{opacity:n},t,r)}class u{constructor(e,t,n){this.el=Object(o.J)(e),this.name=n,this.options=Object(r.i)({onStep:()=>{},onComplete:()=>{},transition:t.transition||l.Transitions.sineInOut,duration:500},t||{})}start(e,t){this.from=e,this.to=t,this.time=Object(r.M)(),this.isTweening=!0;var n=e=>this.step(e);return n.el=this.el,n()&&l.Timers.push(n)&&!l.TimerId&&(l.TimerId=setInterval((function(){for(var e=l.Timers,t=e.length,n=0;n<t;n++)e[n]()||(e.splice(n--,1),t--);t||(clearInterval(l.TimerId),l.TimerId=null)}),13)),this}stop(e){for(var t=l.Timers,n=t.length-1;n>=0;n--)t[n].el===this.el&&(e&&t[n](!0),t.splice(n,1));this.isTweening=!1}step(e){var t=Object(r.M)();if(!e&&t<this.time+this.options.duration){for(var n in this.cTime=t-this.time,this.now={},this.to)if(Object(r.t)(this.to[n])){for(var a=[],i=0;i<3;i++){if(void 0===this.from[n]||void 0===this.to[n])return!1;a.push(Math.min(parseInt(this.compute(this.from[n][i],this.to[n][i])),255))}this.now[n]=a}else this.now[n]=this.compute(this.from[n],this.to[n]),this.options.discrete&&(this.now[n]=Object(r.r)(this.now[n]));return this.update(),!0}return setTimeout(this.options.onComplete.bind(this,this.el),10),this.now=Object(r.i)(this.to,this.options.orig),this.update(),this.options.hide&&Object(o.bb)(this.el),this.isTweening=!1,!1}compute(e,t){var n=t-e;return this.options.transition(this.cTime,e,n,this.options.duration)}update(){for(var e in this.options.onStep(this.now),this.now)Object(r.t)(this.now[e])?Object(o.vb)(this.el,e,"rgb("+this.now[e].join(",")+")"):void 0!==this.el[e]?this.el[e]=this.now[e]:Object(o.vb)(this.el,e,this.now[e])}cur(e,t){return null==this.el[e]||this.el.style&&null!=this.el.style[e]?parseFloat(Object(o.T)(this.el,e,t))||0:this.el[e]}}var l={Base:u,Transitions:{linear:(e,t,n,r)=>n*e/r+t,sineInOut:(e,t,n,r)=>-n/2*(Math.cos(Math.PI*e/r)-1)+t,halfSine:(e,t,n,r)=>n*Math.sin(Math.PI*(e/r)/2)+t,easeOutBack:function(e,t,n,r){var o=1.70158;return n*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInCirc:(e,t,n,r)=>-n*(Math.sqrt(1-(e/=r)*e)-1)+t,easeOutCirc:(e,t,n,r)=>n*Math.sqrt(1-(e=e/r-1)*e)+t,easeInQuint:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,easeOutQuint:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,easeOutCubic:(e,t,n,r)=>n*((e=e/r-1)*e*e+1)+t,swiftOut:(e,t,n,r)=>n*s(.4,0,.22,1,e/r,4/r)+t},Attrs:[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity","left","top"]],Timers:[],TimerId:null};function _(e,t){var n={};return Object(r.f)(l.Attrs.concat.apply([],l.Attrs.slice(0,t)),(function(){n[this]=e})),n}var d=(e,t,n)=>i(e,_("show",1),t,n),p=(e,t,n)=>i(e,_("hide",1),t,n),f=(e,t,n)=>i(e,_("toggle",1),t,n),h=(e,t,n)=>i(e,{opacity:"show"},t,n),m=(e,t,n)=>i(e,{opacity:"hide"},t,n),b=(e,t,n)=>i(e,{opacity:"toggle"},t,n);function g(e){var t;return e&&Object(r.t)(e)&&3==e.length?e:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:void 0}function v(e,t){var n;do{if(0===(n=Object(o.T)(e,t)).indexOf("rgba")&&(n=""),""!=n&&"transparent"!==n||"body"===e.nodeName.toLowerCase())break;t="backgroundColor",e=e.parentNode}while(e);return g(n)}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=Object(o.J)(e),t=n.str?Object(r.I)(t.toString())||"":Object(r.D)(t),e)if(!a.a.mobile||a.a.safari_mobile||a.a.android){var s=Object(o.l)(e,"curCount"),c=Object(o.l)(e,"nextCount");if("number"==typeof c||n.str&&"string"==typeof c)t!=c&&Object(o.l)(e,"nextCount",t);else if("number"==typeof s||n.str&&"string"==typeof s)t!==s&&Object(o.l)(e,"nextCount",t);else if(s=n.str?Object(r.I)(Object(o.Cb)(e).toString())||"":Object(r.D)(Object(o.Cb)(e)),"auto"===n.str&&(n.str=!s.match(/^\d+$/)||!t.match(/^\d+$/),n.str||(s=Object(r.D)(s),t=Object(r.D)(t))),s!==t){Object(o.l)(e,"curCount",t);var u,_,d=n.str?s.length===t.length?s<t:s.length<t.length:s<t,p=(d?t:s).toString(),f=(d?s:t).toString(),h=[],m=[];for(n.str||(f=new Array(p.length-f.length+1).join("0")+f),u=0,_=p.length;u<_;u++){var b=p.charAt(u);if(b!==f.charAt(u))break;h.push(b)}var g=p.substr(u),v=f.substr(u);if(n.str){for(u=g.length;u>0;u--){var O=g.charAt(u);if(O!==v.charAt(u))break;m.unshift(O)}m.length&&(g=g.substr(0,u+1),v=v.substr(0,u+1))}h=h.join("").replace(/\s$/,"&nbsp;"),m=m.join("").replace(/^\s/,"&nbsp;"),Object(r.I)(Object(o.Cb)(e))||n.noSpaceIfEmpty||Object(o.Cb)(e,"&nbsp;");var w=e.clientHeight||e.offsetHeight;Object(o.Cb)(e,'<div class="counter_wrap inl_bl"></div>');var E,j,D,P,k=e.firstChild,C=!0;h.length&&k.appendChild(E=Object(o.g)("div",{className:"counter_const inl_bl",innerHTML:h})),h.length||n.allowZero||(v=v.replace(/^0+/,"")),v&&("0"!==v||n.allowZero||h.length)||(v=n.noSpaceIfEmpty?"":"&nbsp;",C=!!h.length),k.appendChild(D=Object(o.g)("div",{className:"counter_anim_wrap inl_bl"})),D.appendChild(P=Object(o.g)("div",{className:"counter_anim "+(d?"counter_anim_inc":"counter_anim_dec"),innerHTML:`<div class="counter_anim_big"><span class="counter_anim_big_c">${g}</span></div>`+(C?`<div class="counter_anim_small"><span class="counter_anim_small_c">${v}</span></div>`:"")},C?{marginTop:d?-w:0}:{right:0})),n.str&&Object(o.vb)(P,{textAlign:"right",right:0});var T=Object(o.S)(Object(o.L)("counter_anim_big_c",P,"span"))[0],x=C?"&nbsp;"===v?T:Object(o.S)(Object(o.L)("counter_anim_small_c",P,"span"))[0]:0;!v&&n.noSpaceIfEmpty&&(x=0),m.length&&k.appendChild(j=Object(o.g)("div",{className:"counter_const inl_bl",innerHTML:m})),n.noWrapWidth||Object(o.vb)(k,{width:(E&&Object(o.S)(E)[0]||0)+(j&&Object(o.S)(j)[0]||0)+T+0}),void 0===a.a.csstransitions&&(a.a.csstransitions=a.a.chrome&&a.a.version>=9||a.a.mozilla&&a.a.version>=4||a.a.opera&&a.a.version>=10.5||a.a.safari&&a.a.version>=3.2||a.a.safari_mobile||a.a.android);var I=a.a.csstransitions;Object(o.vb)(D,{width:d?x:T});var A=function(){Object(o.Cb)(e,t||(n.noSpaceIfEmpty?"":" "));var r=Object(o.l)(e,"nextCount");Object(o.l)(e,"curCount",!1),Object(o.l)(e,"nextCount",!1),("number"==typeof r||n.str&&"string"==typeof r)&&setTimeout(y.pbind(e,r,n),0),n.onDone&&n.onDone()},M=C?{marginTop:d?0:-w}:{marginRight:d?-x:0};I?(Object(o.T)(D,"width"),Object(o.c)(D,"counter_css_anim_wrap"),T!==x&&Object(o.vb)(D,{width:d?T:x}),C&&Object(o.vb)(P,M),setTimeout(A,300),n.fadeMode&&(Object(o.vb)(Object(o.L)("counter_anim_big",e),"opacity",1),Object(o.vb)(Object(o.L)("counter_anim_small",e),"opacity",0))):(T!==x&&i(D,{width:d?T:x},{duration:100}),C?i(P,M,{duration:300,transition:l.Transitions.easeOutCirc,onComplete:A}):setTimeout(A,300))}}else Object(o.Cb)(e,t||"")}},"8/qD":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n("rFFZ"),o=n("Db7M");function a(e,t){return Object(r.b)(o.a)("account.setInfo",{name:e,value:t})}function i(e){return Object(r.b)(o.a)("messages.sendMessageEvent",e)}function s(e){return Object(r.b)(o.a)("donut.getFriends",e)}function c(e){return Object(r.b)(o.a)("groups.getMembers",e)}function u(e){return Object(r.b)(o.a)("users.search",e)}},"821F":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n("91GP"),n("rGqo"),n("rE2o"),n("ioFf"),n("HEwt"),n("a1Th"),n("Btvt"),n("pIFo"),n("SRfc");var r=n("v+DW"),o=n("EasH"),a=n("zxIV"),i=n("ryw6"),s=n("aong"),c=n("t7n3"),u=n("98sY"),l=n("XzvV"),_=n("36Mz"),d=n("4+be"),p=n("wZQE"),f=n("XHRy"),h=n("ldAL"),m=n("MJEz"),b=n("FWc3");function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=1,E=2,j={initHandlers(){Object(m.c)().setInteractiveHandler("MoneyTransfer/receive_method_change",e=>{var t=e.payload.event.target;if(!hasClass(t,"disabled")){var n=e.payload.dataAttrs,r=n.value,o=n.name;j.onReceiveMethodChange(t,r,o)}}),Object(m.c)().setInteractiveHandler("MoneyTransfer/in_chat_focus_amount",()=>{Object(a.H)("transfer_amount")}),Object(m.c)().setInteractiveHandler("MoneyTransfer/check_user_message",()=>{j.checkUserMessage()}),Object(m.c)().setInteractiveHandler("MoneyTransfer/show_hint",e=>{Object(b.a)(e.payload.event.target)}),Object(m.c)().setInteractiveHandler("MoneyTransfer/send",e=>{j.send(Boolean(e.payload.dataAttrs.newWindow))}),Object(m.c)().setInteractiveHandler("MoneyTransfer/check_participate",e=>{Object(r.c)(e.payload.event.target),j.checkRequestParticipate()}),Object(m.c)().setInteractiveHandler("MoneyTransfer/check",e=>{Object(r.c)(e.payload.event.target)}),Object(m.c)().setInteractiveHandler("MoneyTransfer/check_auto_accept",e=>{Object(r.c)(e.payload.event.target),j.checkAutoAccept()}),Object(m.c)().setInteractiveHandler("MoneyTransfer/about",e=>{j.aboutBox(e.payload.dataAttrs.aboutKey)}),Object(m.c)().setInteractiveHandler("MoneyTransfer/history",()=>{j.historyBox()}),Object(m.c)().setInteractiveHandler("MoneyTransfer/hide_pin_box",()=>{j.hidePinBox()}),Object(m.c)().setInteractiveHandler("MoneyTransfer/clean_amount",e=>{j.cleanAmount(e.payload.event.target,e.payload.event,Boolean(e.payload.dataAttrs.onlyClean))}),Object(m.c)().setInteractiveHandler("MoneyTransfer/send_amount_on_enter",e=>{13===e.payload.event.keyCode&&j.send(),j.autosizeAmount()}),Object(m.c)().setInteractiveHandler("MoneyTransfer/focus_from_to",e=>{Object(a.H)(e.payload.event,0,1e4)}),Object(m.c)().setInteractiveHandler("MoneyTransfer/focus_and_hide_link",e=>{Object(a.H)(e.payload.event,0,1e4),j.hideLinkCopied()}),Object(m.c)().setInteractiveHandler("MoneyTransfer/copy_link",e=>{j.copyLinkToClipboard(ge(e.payload.dataAttrs.element))}),Object(m.c)().setInteractiveHandler("MoneyTransfer/share_qr",()=>{j.shareQRCode()}),Object(m.c)().setInteractiveHandler("MoneyTransfer/download_qr",()=>{j.downloadQRCode()}),Object(m.c)().setInteractiveHandler("MoneyTransfer/switch_to_transfer_box",e=>{j.switchBoxSection(e.payload.event.target,"transfer")}),Object(m.c)().setInteractiveHandler("MoneyTransfer/switch_to_request_box",e=>{j.switchBoxSection(e.payload.event.target,"request")}),Object(m.c)().setInteractiveHandler("MoneyTransfer/switch_to_link_box",e=>{j.switchBoxSection(e.payload.event.target,"link")}),Object(m.c)().setInteractiveHandler("MoneyTransfer/init_accept",()=>{j.initAccept(cur.paymentsOptions.chkData,cur.paymentsOptions.frame,!0)})},init(){this.initHandlers();var e=curBox();if(ge("payments_box")!=geByClass1("payments_money_transfer_box",e.bodyNode)&&_message_boxes.length>1){var t=!0;_message_boxes.forEach((function(e,n){t&&ge("payments_box")==geByClass1("payments_money_transfer_box",e.bodyNode)&&(boxLayer.removeChild(gpeByClass("popup_box_container",e.bodyNode)),boxQueue._boxes.splice(n,1),delete _message_boxes[n],t=!1)}))}if(_.a&&_.a.hideMoneyLinksTooltip(),e.setOptions({grey:!0}),cur.paymentsOptions.requestId&&!cur.paymentsOptions.vkpayAvailable&&(e.changed=!0,e.setOptions({width:510}),j.send()),placeholderInit("transfer_amount"),placeholderInit("transfer_comment"),cur.paymentsOptions.isChat){if(placeholderInit("transfer_chunk_amount"),cur.autoacceptCardDD=new InlineDropdown("transfer_autoaccept_card",{items:cur.paymentsOptions.cards,selected:cur.paymentsOptions.cardSeleceted,withArrow:!0,onShow:j.enableAutoaccept,onSelect:e=>{-1==e?j.sendBind():cur.paymentsOptions.vkpayAvailable&&j.checkAmount(val("transfer_amount"))}}),cur.autoacceptCardEl=ge("transfer_autoaccept_card"),Object(a.zb)("transfer_autoaccept_card","disabled",!cur.paymentsOptions.autoAcceptEnabled),cur.paymentsOptions.autoAcceptEnabled&&Object(r.c)("transfer_autoaccept",!0),cur.paymentsOptions.cards.length<2){var n=Object(a.g)("a",{id:"payments_money_transfer_new_card_lnk",innerHTML:Object(d.d)("payments_money_transfer_new_card")});addEvent(n,"mousedown",j.sendBind),hide(cur.autoacceptCardEl),cur.autoacceptCardEl.parentNode.appendChild(n)}}else if(ge("transfer_to")){hide("payments_money_transfer_user");var o="transfer"===cur.paymentsOptions.boxTab;cur.uiTransferTo=new Dropdown(ge("transfer_to"),cur.paymentsOptions.friends.filter((function(e){return o||!0===e[7]})),{big:!0,introText:Object(d.d)("votes_transfer_start_typing_recipient"),noResult:"",placeholder:Object(d.d)("votes_transfer_choose_recipients"),placeholderColored:!0,multiselect:!1,enableCustom:!0,autocomplete:!0,imageId:"transfer_to_photo",indexkeys:[1,4],noImageSrc:"/images/blank.gif",onChange:e=>{if(e&&-1!=e){var t=cur.uiTransferTo.val_full();cur.paymentsOptions.toId=t[0],cur.paymentsOptions.hash=t[5],val("payments_money_transfer_summary",t[6]),setTimeout(a.H.pbind("transfer_amount"),100),cur.paymentsOptions.vkpayAvailable&&j.updateMethods()}}})}else ge("transfer_method")&&j.initMethods();setTimeout(a.H.pbind("transfer_amount"),100),shortCurrency(),"link"===cur.paymentsOptions.boxTab&&j.genQRCode();var i=val("transfer_amount");i&&j.checkAmount(i,!1,!0),j.autosizeAmount(),j.showMoneyLinksTooltip(),cur.transferPageLoaded=!1,cur.destroy.push(j.destroy)},destroy:function(){this.stopCheckFrameLoad(),cur.uiTransferTo&&cur.uiTransferTo.destroy(cur.uiTransferTo),cur.qrFrame&&Object(a.kb)(cur.qrFrame)},initMethods:function(){cur.paymentsOptions.onlyCards=!Object(a.fb)("payments_money_transfer_receive_methods");var e=cur.paymentsOptions.cardSelected;if([E,w].includes(parseInt(cur.paymentsOptions.forceType))){var t,n=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=y(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(cur.paymentsOptions.cards);try{for(n.s();!(t=n.n()).done;){-1===v(t.value,1)[0]&&(e=-1)}}catch(e){n.e(e)}finally{n.f()}}(cur.uiTransferCard=new Dropdown(ge("transfer_method"),cur.paymentsOptions.cards,{big:!0,selectedItems:e,onChange:(e,t)=>{if(-2===parseInt(e)){var n=Object(a.rb)(t);return nav.go(n.getAttribute("data-url")),Object(r.o)("payments_money_transfer_send"),!1}j.updateTransferType(),j.updateCardFee(!0),val("transfer_amount")||setTimeout(a.H.pbind("transfer_amount"),100)}}),cur.paymentsOptions.onlyCards)||geByClass1("payments_money_transfer_receive_options","payments_money_transfer_receive_methods")&&(window.radioBtns.receiveOptions={els:Array.prototype.slice.apply(Object(a.K)("radiobtn"))});if(void 0!==cur.paymentsOptions.vkpayBalance&&(Object(c.f)(Object(a.K)("_code","payments_money_transfer_code_wrap"),(function(){addEvent(this,"mousedown",j.onPinClick),addEvent(this,"keyup",j.onPinKeyUp),addEvent(this,"keypress",j.onPinEnter)})),j.isVKPayFillUpEnabled())){var o=j.getBindCards();o.length>0&&(cur.uiFillUpCard=new Dropdown(ge("fill_up_card"),o,{big:!0,selectedItems:cur.paymentsOptions.fillUpCardSelected}))}var i=!cur.paymentsOptions.transferType||cur.paymentsOptions.forceType;i&&j.updateTransferType(),j.updateCardFee(!i)},updateMethods:function(){var e=cur.paymentsOptions.toId;if(e&&cur.paymentsOptions.vkpayAvailable){var t=ge("payments_money_transfer_send");val("payments_box_error",""),cur.moneyTranferMethodsReq&&(cur.moneyTranferMethodsReq.abort(),cur.moneyTranferMethodsReq=null),cur.moneyTranferMethodsReq=ajax.post("al_payments.php?act=a_get_money_transfer_methods",{to_id:e},{onDone:(e,n)=>{Object(r.w)(t),val("payments_money_transfer_methods",e),cur.paymentsOptions=extend(cur.paymentsOptions,n),cur.paymentsOptions.transferType=n.transferType,j.initMethods()},onFail:e=>(e&&isString(e)&&(Object(r.w)(t),j.showError(e)),!0),showProgress:r.o.pbind(t)})}},send:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=curBox(),o=ge("payments_money_transfer_send");if(!Object(r.k)(o))if(cur.paymentsOptions.toId||!cur.uiTransferTo){var i=0;if(!Object(a.fb)("payments_money_transfer_no_amount_wrap")){if(!(i=val("transfer_amount"))||i<=0)return Object(a.c)("payments_money_transfer_amount_wrap","money_error"),setTimeout(a.mb.pbind("payments_money_transfer_amount_wrap","money_error"),500),void Object(a.H)("transfer_amount");if(!j.checkAmount(i,!0))return;if(Object(r.l)("transfer_participate")){var s=j.getChunkAmount(i,!0);i-=s}}if(j.hideMoneyLinksTooltip(),cur.paymentsOptions.onSendStart&&cur.paymentsOptions.onSendStart(),"request"!==cur.paymentsOptions.boxTab){j.createFrame();var c={act:"a_init_money_transfer",to_id:cur.paymentsOptions.toId,owner_id:cur.paymentsOptions.ownerId,amount:i,currency:cur.paymentsOptions.currency,comment:val("transfer_comment"),from:cur.paymentsOptions.from,hash:cur.paymentsOptions.hash};if(cur.paymentsOptions.vkpayAvailable&&(c.card_id=cur.uiTransferCard.val(),cur.paymentsOptions.onlyCards||(c.receive_method=radioval("receiveOptions")),"-1"===c.card_id)){if(!t)return void j.showPinBox();c.vkpay_pin=t}if(j.isVKPayTransfer()&&j.isVKPayFillUpEnabled()&&j.isFillUpCardSelectionVisible()&&(c.fill_up_card_id=cur.uiFillUpCard.val()),cur.paymentsOptions.requestId&&(c.request_id=cur.paymentsOptions.requestId),cur.paymentsOptions.statSessionId&&(c.stat_session_id=cur.paymentsOptions.statSessionId),val("payments_box_error",""),e||!localStorage||this.isVKPayTransfer()||"vkpay"===c.receive_method||(e=localStorage.getItem("money_transfer_new_window")),e){cur.paymentsOptions.qid&&(c.act="a_continue_money_transfer",c.qid=cur.paymentsOptions.qid),cur.transferWindow=window.open("","Money Transfer");var u=f.a.popupHtml(Object(d.d)("payments_cards_redirect"),"","");cur.transferWindow.document.write(u)}ajax.post("al_payments.php",c,{onDone:(t,o)=>{var i;if(o)if(cur.paymentsOptions.qid=t.qid,e)if(cur.transferWindow){var s=cur.transferWindow.document.getElementById("wait_text_container");s&&(s.innerHTML=""),cur.transferWindow.document.write(o),setTimeout(()=>{var e;null===(e=cur.transferWindow.document.getElementById("popup_payment_form"))||void 0===e||e.submit()},1500),window.addEventListener("message",j.frameMessage,!1),hide("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_iframe_safari_trouble_div","payments_iframe_container"),val("payments_transfer_box_progress_msg",Object(d.d)("payments_waiting_transfer_complete")),show("payments_money_transfer_iframe","payments_money_transfer_prg")}else j.showError(Object(d.d)("payments_payment_cancelled"),"info_msg");else cur._popup_text=o,cur._popup_callback=function(){hide("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_money_transfer_prg","payments_iframe_cookie_disabled_div"),show("payments_money_transfer_iframe","payments_iframe_container"),cur.uiTransferTo&&(hide("payments_money_transfer_user_select"),show("payments_money_transfer_user")),ge("payments_iframe_container").scrollTop=0,window.addEventListener("message",j.frameMessage,!1),n.changed=!0,n.setOptions({width:510}),!cur.paymentsOptions.requestId&&Object(a.fb)(n.titleWrap)&&n.setBackTitle(j.resetSendBox),setStyle(i,{width:ge("payments_iframe_container").parentNode.offsetWidth-Object(r.t)()+"px"})},(i=ge("transfer_iframe")).contentWindow.document.open("text/html","replace"),i.contentWindow.document.write(o),i.contentWindow.document.close(),cur._popup_callback(),j.startCheckFrameLoad(+new Date);else hide("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_iframe_container",geByClass1("payments_money_transfer_mc_info_msg","payments_money_transfer_iframe")),cur.uiTransferTo&&(hide("payments_money_transfer_user_select"),show("payments_money_transfer_user")),show("payments_money_transfer_iframe","payments_money_transfer_prg");j.startCheckStatus(t)},onFail:e=>(j.resetTransferWindow(),j.showError(e),!0),showProgress:r.o.pbind(o),hideProgress:r.w.pbind(o)})}else j.sendRequest(i)}else Object(r.q)(cur.uiTransferTo.container)},sendRequest:function(e){var t=ge("payments_money_transfer_send"),n={to_id:cur.paymentsOptions.toId,owner_id:cur.paymentsOptions.ownerId,amount:e,currency:cur.paymentsOptions.currency,comment:val("transfer_comment"),from:cur.paymentsOptions.from,hash:cur.paymentsOptions.hash};if(cur.paymentsOptions.statSessionId&&(n.stat_session_id=cur.paymentsOptions.statSessionId),cur.paymentsOptions.isChat){if(n.total_amount=parseInt(e),n.amount=parseInt(val("transfer_chunk_amount")),n.pin_message=Object(r.l)("transfer_pin_message")?1:0,Object(r.l)("transfer_autoaccept")&&(cur.autoacceptCardDD&&(n.accept_card=cur.autoacceptCardDD.val()),!n.accept_card||-1==n.accept_card))return j.showError(Object(d.d)("payments_money_request_error_no_accept_card")),!1;var o=!1,a=j.getTransferLimit("minAmount"),i=j.getTransferLimit("maxAmount");if(a&&n.amount<a?o=Object(d.d)("payments_money_request_error_min_chunk_amount_currency"):i&&n.amount>i?o=Object(d.d)("payments_money_request_error_max_chunk_amount_currency"):n.total_amount&&n.amount>n.total_amount&&(o=Object(d.d)("payments_money_request_error_chunk_amount_too_big")),o)return j.showError(o),Object(r.q)("transfer_chunk_amount"),!1}val("payments_box_error",""),ajax.post("al_payments.php?act=a_send_money_request",n,{onDone:e=>{curBox().hide(),showDoneBox(e,{out:6e3})},onFail:e=>(j.showError(e),!0),showProgress:r.o.pbind(t),hideProgress:r.w.pbind(t)})},sendBind:function(){var e=curBox();j.createFrame(),hide("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_money_transfer_summary_wrap","payments_iframe_container",geByClass1("msg","payments_money_transfer_iframe"),geByClass1("tb_tabs_wrap",e.bodyNode)),show("payments_money_transfer_iframe","payments_money_transfer_prg"),e.setBackTitle(j.resetSendBox),e.setOptions({width:510});var t={type:"card",only_auth:1,hash:cur.paymentsOptions.bindHash};val("payments_box_error",""),ajax.post("al_payments.php?act=a_getvotes_charge",t,{onDone:(t,n)=>{var o;cur._popup_text=n,cur._popup_callback=function(){hide("payments_money_transfer_prg"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0,window.addEventListener("message",j.frameMessage,!1),cur.autoacceptCardDD&&Object(a.fb)(cur.autoacceptCardEl)&&cur.autoacceptCardDD.select(cur.paymentsOptions.cards[0][0]),e.changed=!0,setStyle(o,{width:ge("payments_iframe_container").parentNode.offsetWidth-Object(r.t)()+"px"})},(o=ge("transfer_iframe")).contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(n),o.contentWindow.document.close(),cur._popup_callback(),cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.moneyTranferCheckInt=setInterval((function(){j.checkBindStatus(t),(cur.isPaymentCanceled||cur.isPaymentFailed)&&(clearInterval(cur.moneyTranferCheckInt),cur.isPaymentFailed?j.showError(Object(d.d)("payments_landing_cancelled")):j.showError(Object(d.d)("payments_payment_cancelled"),"info_msg"))}),2e3)},onFail:e=>(j.showError(e),!0)})},createFrame:function(){var e=ge("payments_iframe_container"),t=Object(a.g)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:510-Object(r.t)()+"px",overflowX:"hidden",overflowY:"hidden"});t.frameBorder=0,e.innerHTML="",e.appendChild(t)},popupWrite:function(e){if(e.document.innerHTML!==cur._popup_text){e.document.write(cur._popup_text),e.document.close();try{e.document.charset="windows-1251"}catch(e){}e.blur(),e.focus(),cur._popup_callback&&cur._popup_callback()}},resetSendBox:function(){var e=curBox();if(e){var t=geByClass1("tb_tabs_wrap",e.bodyNode);hide("payments_money_transfer_iframe"),show("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_money_transfer_summary_wrap",t,geByClass1("payments_money_transfer_mc_info_msg","payments_money_transfer_iframe")),cur.uiTransferTo&&(hide("payments_money_transfer_user"),show("payments_money_transfer_user_select")),t&&e.setOptions({title:""}),e.changed=!1,e.setOptions({width:510}),Object(a.fb)(e.titleWrap)&&e.setBackTitle(!1)}},resetTransferWindow:function(){cur.transferWindow&&(show("payments_money_transfer_wrap","payments_money_transfer_buttons"),hide("payments_money_transfer_prg","payments_money_transfer_iframe"),cur.transferWindow.location=window.location,cur.transferWindow.close()),cur.transferWindow=void 0},startCheckStatus:function(e){cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.moneyTransferRedirected=!1,cur.moneyTranferCheckInt&&clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=setInterval((function(){if(j.checkStatus(e),cur.isPaymentCanceled||cur.isPaymentFailed){var t=j.resetTransferWindow();if(t&&t(),clearInterval(cur.moneyTranferCheckInt),e.accept)return void curBox().hide();cur.isPaymentFailed?j.showError(Object(d.d)("payments_landing_cancelled")):j.showError(Object(d.d)("payments_payment_cancelled"),"info_msg")}}),2e3)},hideBoxQueue:function(){for(;boxQueue.count();)boxQueue.hideLast(!1)},checkStatus:function(e){var t={act:"a_check_money_transfer",qid:e.qid,hash:e.hash};e.accept&&(t.accept=e.accept),ajax.post("al_payments.php",t,{onDone:(t,n,i,s)=>{if(t&&(4!=t||!cur.moneyTransferRedirected)){if(1==t||3==t){0===cur.paymentsOptions.transferType?cur.transferWindow&&!cur.transferWindow.closed&&j.hideBoxQueue():(j.resetTransferWindow(),j.hideBoxQueue()),s||showDoneBox(n,{out:6e3});var c=nav.objLoc;e.accept||"settings"!==c[0]||"payments"!==c.act||"transfer"!==c.section||(cur.historyOffset||(cur.historyOffset={}),cur.historyOffset.transfer=0,_.a.showNextPaymentsHistory(!1,c.section)),3==t&&(s&&s.title&&Object(o.d)({title:s.title},n,Object(d.d)("payments_remember_card_btn"),j.rememberAcceptCard.pbind(s),Object(d.d)("payments_dont_remember_card_btn")),TopNotifier.invalidate(),cur.acceptMoneyBtn&&hasClass(Object(a.C)(cur.acceptMoneyBtn),"feedback_buttons")?(Object(a.kb)(Object(a.C)(cur.acceptMoneyBtn)),cur.acceptMoneyBtn=!1):cur.acceptMoneyBtn&&(Object(a.kb)(geByClass1("_decline_btn",Object(a.C)(cur.acceptMoneyBtn))),domReplaceEl(cur.acceptMoneyBtn,i),cur.acceptMoneyBtn=!1))}else if(2==t||5==t)j.showError(n),window.removeEventListener("message",j.frameMessage,!1),cur.isPaymentFailed=cur.isPaymentCanceled=!1;else{var u;if(4==t)return cur.moneyTransferRedirected=!0,cur._popup_text=i,cur._popup_callback=function(){hide("payments_money_transfer_prg"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0,window.addEventListener("message",j.frameMessage,!1),curBox().changed=!0,setStyle(u,{width:ge("payments_iframe_container").parentNode.offsetWidth-Object(r.t)()+"px"})},(u=ge("transfer_iframe")).contentWindow.document.open("text/html","replace"),u.contentWindow.document.write(i),u.contentWindow.document.close(),void cur._popup_callback();if(6==t)return void(Object(a.fb)("payments_money_transfer_prg")||(hide("payments_iframe_container"),show("payments_money_transfer_iframe","payments_money_transfer_prg")))}clearInterval(cur.moneyTranferCheckInt)}},onFail:e=>(clearInterval(cur.moneyTranferCheckInt),j.resetTransferWindow()(),j.showError(e),!0)})},checkBindStatus:function(e){var t={act:"a_getvotes_check",type:"card"};e&&(e.oid||e.qid)&&(t.oid=e.oid,t.qid=e.qid,t.hash=e.hash),ajax.post("al_payments.php",t,{onDone:(e,t,n)=>{e&&(1==e?(j.resetSendBox(),j.enableAutoaccept(),n&&cur.autoacceptCardDD&&(Object(a.fb)(cur.autoacceptCardEl)||(hide(geByTag("A",cur.autoacceptCardEl.parentNode)[0]),show(cur.autoacceptCardEl)),cur.paymentsOptions.cards.unshift([n.bindingId,n.bin]),cur.autoacceptCardDD.setItems(cur.paymentsOptions.cards),cur.autoacceptCardDD.select(n.bindingId))):2!=e&&10!=e||j.showError(t),clearInterval(cur.moneyTranferCheckInt))},onFail:e=>(clearInterval(cur.moneyTranferCheckInt),j.showError(e),!0)})},paymentCanceled:function(e){e?cur.isPaymentFailed=!0:cur.isPaymentCanceled=!0,j.frameHeight()},frameHeight:function(e,t){var n=ge("transfer_iframe");e?(e=Math.max(e,250),cur.prevFrameHeight=n.style.height,n.style.height=e+"px"):(n.style.height=cur.prevFrameHeight,Object(a.mb)("payments_iframe_container","payments_threeds_frame")),t||(ge("payments_iframe_container").style.height=(e||cur.prevFrameHeight)+15+"px"),ge("payments_iframe_container").scrollTop=0},frameMessage:function(e){if(!e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?money\.mail\.ru$/))return!1;var t={};if(!e.data||"{"!==e.data.substr(0,1)||"billing"===(t=Object(s.l)(e.data)).type){vk.dev&&Object(u.b)(t);var n=geByClass1("payments_iframe_container",curBox().bodyNode)||ge("payments_iframe_container");cur.transferPageLoaded=!0,"resizeFrame"===t.action?setTimeout(j.frameHeight.pbind(t.action_params.height),200):"submit"===e.data||"3dsPage"===t.action?(setTimeout(j.frameHeight.pbind(600,!0),200),Object(a.c)(n,"payments_threeds_frame")):"3dsFinish"===t.action?(j.frameHeight(),Object(a.mb)(n,"payments_threeds_frame")):"session_fail"===t.action?(hide(n),j.resetTransferWindow(),show("payments_iframe_safari_trouble_div"),window.localStorage&&localStorage.setItem("money_transfer_new_window",1)):"putPixel"===t.action&&"page_load"===t.action_params.alias?(f.a.finishFormMeasure("dmr_transfer"),Object(l.bb)("money_transfers",0,"iframe_loaded")):"paySuccess"===t.action&&setTimeout(j.frameHeight.pbind(500),300)}},startCheckFrameLoad:function(e){cur.frameLoadChecker=setInterval((function(){cur.transferPageLoaded?j.stopCheckFrameLoad():+new Date-e>5e3&&(j.stopCheckFrameLoad(),j.resetTransferWindow(),hide("payments_iframe_container"),show("payments_iframe_safari_trouble_div"),window.localStorage&&localStorage.setItem("money_transfer_new_window",1))}),1e3)},stopCheckFrameLoad:function(){clearInterval(cur.frameLoadChecker)},initAccept:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)cur.transferWindow=window.open("/","Money transfer"),cur.transferWindow.document.write(t),hide("payments_box_error","payments_iframe_container","payments_iframe_safari_trouble_div","payments_iframe_container"),val("payments_transfer_box_progress_msg",Object(d.d)("payments_waiting_transfer_complete")),show("payments_money_transfer_iframe","payments_money_transfer_prg");else{var r=geByClass1("payments_iframe_container",curBox().bodyNode)||ge("payments_iframe_container");show(r);var o=Object(a.g)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:"510px",overflowX:"hidden",overflowY:"hidden"});o.frameBorder=0,r.innerHTML="",r.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(t),o.contentWindow.document.close(),j.startCheckFrameLoad(+new Date)}window.addEventListener("message",j.frameMessage,!1),j.startCheckStatus(e)},rememberAcceptCard:function(e){var t=curBox()||{},n=t.btns.ok[0];ajax.post("al_payments.php?act=a_remember_money_transfer_accept_card",{card_id:e.card_id,hash:e.hash},{onDone:t.hide,showProgress:r.o.pbind(n),hideProgress:r.w.pbind(n)})},cleanAmount:function(e,t,n){if(13!==t.keyCode){var r=e.value.replace(/[^0-9]/g,"");r=r.replace(/^0+/,""),e.value!=r&&(e.value=r),n||(j.checkAmount(r),j.autosizeAmount(),cur.paymentsOptions.cardsFee&&j.updateCardFee(!0))}},getTransferLimit:function(e){var t="request"===cur.paymentsOptions.boxTab?0:cur.paymentsOptions.transferType;return"balance"===e&&parseInt(t)===E?cur.paymentsOptions.vkpayBalance:(cur.paymentsOptions.isChat&&"request"===cur.paymentsOptions.boxTab&&"maxAmount"===e&&cur.autoacceptCardDD&&-2===cur.autoacceptCardDD.val()&&(t=2),cur.paymentsOptions.limits[t][e])},checkAmount:function(e,t,n){var i,s=!1,c=hasClass("payments_money_transfer_amount_wrap","money_error"),u=-1===parseInt(null===(i=cur.uiTransferCard)||void 0===i?void 0:i.val()),l=j.isVKPayTransfer(),_=j.isVKPayFillUpEnabled();if(t&&c)return l&&e>j.getTransferLimit("balance")&&!_&&Object(o.d)({title:Object(d.d)("payments_vkpay_low_balance_title"),width:420},Object(d.d)("payments_vkpay_low_balance_text"),Object(d.d)("payments_vkpay_topup_button"),nav.go.pbind("/vkpay#action=refill"),Object(d.d)("global_close")),!1;var p=cur.paymentsOptions.isChat&&"request"===cur.paymentsOptions.boxTab,f=p&&Object(r.l)("transfer_participate"),h=j.getTransferLimit("minAmount")*(f?2:1),m=j.getTransferLimit("maxAmount"),b=j.getTransferLimit("balance"),g=langNumeric(h,cur.paymentsOptions.currencyStr,!0),v=Object(d.d)("payments_money_transfer_amount_limits").replace("{min_amount}",g),y=!p;if(p&&cur.autoacceptCardDD&&-2===cur.autoacceptCardDD.val()&&(y=!0),u&&l&&_&&!(void 0!==b&&e<=b)||j.hideFillUpCardSelection(),t&&h&&e<h)s=Object(d.d)("payments_money_transfer_error_min_amount_currency").replace("{min_amount}",g);else if(m&&y&&e>m){var O=langNumeric(m,cur.paymentsOptions.currencyStr,!0);s=Object(d.d)("payments_money_transfer_error_max_amount_currency").replace("{max_amount}",O)}else if(u&&void 0!==b&&e>b){if(l&&_)j.getBindCards().length>0?j.showFillUpCardSelection():s=Object(d.d)("payments_money_transfer_low_balance");else s=Object(d.d)("payments_money_transfer_low_balance")}var w=ge("payments_money_transfer_notice");if(0!=s)return val(w,s),Object(a.c)("payments_money_transfer_amount_wrap","money_error"),!1;if((c||n||e<h)&&((e<h||"request"===cur.paymentsOptions.boxTab)&&val(w,v),Object(a.mb)("payments_money_transfer_amount_wrap","money_error")),!t&&p){var E=j.getChunkAmount(e,f);if(val("transfer_chunk_amount",E),h&&e<h)val(w,v);else{var D=langNumeric(f?e-E:e,cur.paymentsOptions.currencyStr,!0);val(w,Object(d.d)("payments_money_transfer_will_be_requested").replace("{amount}",D))}}return!0},getChunkAmount:function(e,t){var n=j.getTransferLimit("minAmount"),r=j.getTransferLimit("maxAmount"),o=Math.max(n||100,Math.ceil(e/Math.max(1,cur.paymentsOptions.chatCount-(t?0:1))));return r&&(o=Math.min(o,r)),o},autosizeAmount:function(){var e=ge("transfer_amount"),t=Object(a.g)("span",{innerHTML:e.value||"0"},{fontFamily:getStyle(e,"fontFamily"),fontSize:getStyle(e,"fontSize"),fontWeight:getStyle(e,"fontWeight")});ge("utils").appendChild(t);var n=Math.floor(getSize(t)[0])+50;Object(a.kb)(t),cur.amountMinSize||(cur.amountMinSize=80),n<cur.amountMinSize&&(n=cur.amountMinSize),setStyle(e,{width:n})},checkUserMessage:function(){checkTextLength(cur.paymentsOptions.maxTextLength,ge("transfer_comment"),ge("transfer_comment_limit_message"),!1,!0),(val("transfer_comment_limit_message")&&Object(a.fb)("transfer_comment_limit_message")?hide:show)("payments_money_transfer_fee_link")},checkRequestParticipate:function(){j.checkAmount(val("transfer_amount"))},checkRequestNoAmount:function(e,t){e&&uiTabs.switchTab(e),t?(hide("payments_money_transfer_amount_wrap","transfer_participate"),show("payments_money_transfer_no_amount_wrap")):(hide("payments_money_transfer_no_amount_wrap"),show("payments_money_transfer_amount_wrap","transfer_participate"),Object(a.H)("transfer_amount"))},checkAutoAccept:function(){Object(a.zb)("transfer_autoaccept_card","disabled",!Object(r.l)("transfer_autoaccept"))},enableAutoaccept:function(){Object(r.l)("transfer_autoaccept")||(Object(r.c)("transfer_autoaccept",!0),Object(a.mb)("transfer_autoaccept_card","disabled"))},showMoneyTransferBox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return showBox("al_payments.php",g({},e,{act:"money_transfer_box"}),g({},t,{onDone(e,t){null==r||r(),cur.paymentsOptions=t,e.setOptions({width:510,bodyStyle:"padding: 0;",hideButtons:!0,onClean(){cur.moneyTranferCheckInt&&clearInterval(cur.moneyTranferCheckInt),nav.objLoc.z&&"moneysend"===nav.objLoc.z.substr(0,9)&&(delete nav.objLoc.z,nav.setLoc(nav.objLoc))}}),j.init()},onFail:n}))},aboutBox:function(e){return!Object(o.d)({title:Object(d.d)("payments_money_transfer_about_title"),width:560},Object(d.d)(e))},showError:function(e,t){e&&(ge("payments_box_error").innerHTML="",Object(i.b)("payments_box_error",e,t||"error"),show("payments_box_error")),ge("payments_money_transfer_wrap")&&(j.resetSendBox(),cur.moneyTranferCheckInt&&(clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=!1))},switchBoxSection:function(e,t){cur.paymentsOptions.boxTab!==t&&(e&&uiTabs.switchTab(e),"transfer"===cur.paymentsOptions.boxTab&&Object(a.fb)("payments_money_transfer_iframe")&&(j.resetSendBox(),cur.moneyTranferCheckInt&&(clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=!1)),"transfer"===cur.paymentsOptions.boxTab&&cur.paymentsMoneyBoxTTHide&&cur.paymentsMoneyBoxTTHide(),"link"===cur.paymentsOptions.boxTab&&(hide("payments_money_link_box"),show("payments_money_transfer_request_box"),j.hideMoneyLinksTooltip()),cur.paymentsOptions.boxTab=t,"link"===t?(hide("payments_money_transfer_request_box"),show("payments_money_link_box"),j.hideMoneyLinksTooltip(),j.genQRCode(),j.showMoneyLinksTooltip()):(val("payments_money_transfer_summary",cur.paymentsOptions.boxSections[t].summary),val("payments_money_transfer_send",cur.paymentsOptions.boxSections[t].btn),val("payments_money_transfer_user_select_label",cur.paymentsOptions.boxSections[t].user_select_label),j.checkAmount(val("transfer_amount"),!1,!0),"transfer"===t&&j.updateCardFee(!0)),toggle("payments_money_transfer_nf_warning","transfer"===t),toggle("payments_money_transfer_methods","transfer"===t),j.renderSelectBox(),setTimeout(a.H.pbind("transfer_amount"),100))},genQRCode:function(){var e=ge("payments_money_transfer_qr");if(!e.childNodes.length){val(e,p.createQR(cur.paymentsOptions.transferLink,115,"qr-code",{isShowLogo:!0,isShowBackground:!1}))}},shareQRCode:function(){j.hideMoneyLinksTooltip(!0),showBox("like.php",{act:"publish_box",object:"moneysend"+vk.id+"_0",list:""})},downloadQRCode:function(){if(!cur.paymentsOptions.qrUrl)return!1;var e=Object(a.g)("iframe",{src:cur.paymentsOptions.qrUrl});return utilsNode.appendChild(e),cur.qrFrame&&Object(a.kb)(cur.qrFrame),cur.qrFrame=e,!1},hideLinkCopied(){Object(c.f)(Object(a.K)("_link_copied","payments_money_link_box"),hide.pbind(this))},copyLinkToClipboard:function(e){j.hideLinkCopied(),j.hideMoneyLinksTooltip(!0),e.select(),document.execCommand("copy");var t=geByClass1("_link_copied",gpeByClass("_link_wrap",e));show(t)},renderSelectBox:function(){if(cur.uiTransferTo){var e="transfer"===cur.paymentsOptions.boxTab;cur.uiTransferTo.setData([]),cur.uiTransferTo.setOptions({autocomplete:!1}),cur.uiTransferTo.setData(cur.paymentsOptions.friends.filter((function(t){return e||!0===t[7]}))),cur.uiTransferTo.setOptions({autocomplete:!0}),cur.paymentsOptions.toId=null,cur.paymentsOptions.hash=null,cur.uiTransferTo.clear(),cur.uiTransferTo.deselectTokens(),val("payments_money_transfer_methods","")}},updateImHistory:function(e,t,n){var r=geByClass1("_money_transfer"+t,e);if(r){var o=geByClass1("_accept_btn",r);o&&(Object(a.kb)(geByClass1("_decline_btn",Object(a.C)(o))),domReplaceEl(o,n))}},initHistoryBox:function(e,t,n,o){var i=ge("ui_money_transfer_load_more");if(i){var s=ge("settings_transfer_history").tBodies[0];cur.userAutoScroll=new h.a(s,{offset:n,onNoMore:a.kb.pbind(i),onNeedRows:(n,r)=>{var a={act:"money_transfer_history_box",offset:r,owner_id:e};t&&(a.request_id=t),o&&(a.hash=o),ajax.post("al_payments.php",a,{onDone:n})},drawRows:(e,t)=>{if(browser.msie){var n=Object(a.rb)("<table>"+r+"</table>"),r=geByTag("tr",n);for(var o in r)1==r[o].nodeType&&e.appendChild(r[o])}else e.insertAdjacentHTML("beforeEnd",t)},showProgress:r.o.pbind(i),hideProgress:r.w.pbind(i),rowClass:"settings_history_row"})}},historyBox:function(){showBox("al_payments.php?act=money_transfer_history_box")},showMoneyLinksTooltip:function(){var e,t,n;cur.paymentsOptions.moneylinks_feature_tooltip&&!cur.moneyLinksTooltip&&(Object(a.fb)("payments_money_link_box")?(e=geByClass1("payments_money_transfer_link_copy_btn","payments_money_link_box"),t=Object(d.d)("payments_money_link_btn_feature_text"),n={forceSide:"right",width:320,offset:[6,0]}):(e=geByClass1("ui_tab",geByClass1("_moneylink_tab","box_layer")))&&(t=Object(d.d)("payments_money_link_tab_feature_text"),n={forceSide:"bottom",width:250,offset:[0,4]}),e&&setTimeout((function(){cur.moneyLinksTooltip=new ElementTooltip(e,extend({content:'<div class="feature_tooltip__close" onclick="cur.moneyLinksTooltip.hide();"></div>'+t,cls:"feature_intro_tt feature_info_tooltip moneylinks_feature_tooltip",autoShow:!1,noHideOnClick:!0,noAutoHideOnWindowClick:!0,appendTo:geByClass1("ui_tabs","box_layer"),onHide:j.hideMoneyLinksTooltip.pbind(!0)},n)),cur.moneyLinksTooltip.show(),cur.destroy.push(j.hideMoneyLinksTooltip)}),500))},hideMoneyLinksTooltip:function(e){e&&ajax.post("al_index.php",{act:"hide_feature_tt",hash:cur.paymentsOptions.moneylinks_feature_tooltip_hash,type:"moneylinks"}),cur.moneyLinksTooltip&&(cur.moneyLinksTooltip.destroy(),delete cur.moneyLinksTooltip)},showPinBox(){Object(a.c)(curBox().bodyNode,"payments_box_code_showed"),show("payments_money_transfer_layer_bg","payments_money_transfer_code_box"),Object(c.f)(Object(a.K)("_code","payments_money_transfer_code_wrap"),(function(){val(this,"")})),Object(a.H)("payments_code1"),curBox().changed=!0;var e=document.getElementById("payments_money_transfer_send");e&&(e.style.pointerEvents="none",setTimeout(()=>{e.style.pointerEvents="auto"},0))},hidePinBox(){hide("payments_money_transfer_layer_bg","payments_money_transfer_code_box"),Object(a.mb)(curBox().bodyNode,"payments_box_code_showed"),curBox().changed=!1},onPinKeyUp(e){var t=e.target;if(8==e.keyCode){var n=domPS(t);if(n){var r=n.getAttribute("data-index");val(n,""),cur.paymentsOptions.vkpcode[r]="",cur.paymentsOptions.vkpcode[r-1]="",Object(a.H)(n)}}},onPinEnter(e){var t=e.target;if(!(e.keyCode>=47&&e.keyCode<=57))return cancelEvent(e);var n=t.getAttribute("data-index");cur.paymentsOptions.vkpcode||(cur.paymentsOptions.vkpcode=[]),cur.paymentsOptions.vkpcode[n-1]=e.key,val(t,String.fromCharCode(9679));var r=domNS(t);r?setTimeout(a.H.pbind(r),10):setTimeout((function(){t.blur(),j.checkPin()}),10)},onPinClick(e){var t=e.target,n=domPS(t);if(n&&!val(n))return cancelEvent(e)},checkPin(){var e=cur.paymentsOptions.vkpcode.join("");delete cur.paymentsOptions.vkpcode,val("payments_money_transfer_code_error",""),ajax.post("al_payments.php?act=a_check_vkpay_pin",{code:e,hash:cur.paymentsOptions.pinHash},{onDone:t=>{if(1==t)return hide(geByClass1("_code_enter","payments_money_transfer_code_box")),void show(geByClass1("_code_recover","payments_money_transfer_code_box"));j.hidePinBox(),j.send(!1,e)},onFail:e=>(e&&val("payments_money_transfer_code_error",e),Object(c.f)(Object(a.K)("_code","payments_money_transfer_code_wrap"),(function(){val(this,""),Object(r.q)(this)})),Object(a.H)("payments_code1"),!0),showProgress:function(){hide("payments_money_transfer_code_wrap"),show("payments_money_transfer_spinner")},hideProgress:function(){hide("payments_money_transfer_spinner"),show("payments_money_transfer_code_wrap")}})},onReceiveMethodChange:function(e,t,n){Object(r.r)(e,t,n),j.updateTransferType(e),j.updateCardFee(!0)},updateTransferType:function(e){void 0!==cur.paymentsOptions.forceType?cur.paymentsOptions.transferType=cur.paymentsOptions.forceType:-1===parseInt(cur.uiTransferCard.val())?cur.paymentsOptions.transferType=E:cur.paymentsOptions.onlyCards?cur.paymentsOptions.transferType=0:(void 0===e&&Object(c.f)(radioBtns.receiveOptions.els,(function(){hasClass(this,"on")&&(e=this)})),void 0!==e&&(cur.paymentsOptions.transferType=intval(attr(e,"data-type")))),j.checkAmount(val("transfer_amount"),!1,!0)},updateCardFee:function(e){if(cur.uiTransferCard&&"request"!==cur.paymentsOptions.boxTab){var t=intval(val("transfer_amount")),n=j.getTransferLimit("minAmount"),r=ge("payments_money_transfer_to_card"),o=cur.uiTransferCard.val(),i=cur.paymentsOptions.cardsFee[o],s=0===cur.paymentsOptions.transferType,c=-1===parseInt(o)||cur.paymentsOptions.forceType===w||cur.paymentsOptions.forceType===E,u=-1!==parseInt(o)&&!cur.paymentsOptions.receiverVkpay||0===cur.paymentsOptions.forceType,l=Object(d.d)("payments_transfer_without_fee"),_=Object(d.d)("payments_money_transfer_btn"),p=c?"payments_money_transfer_to_vkpay":"payments_money_transfer_to_card",f=u,h=0;if(Object(a.zb)(r,"disabled",c),Object(a.zb)("payments_money_transfer_to_vkpay","disabled",u),0===parseInt(o))s&&(l=cur.paymentsOptions.mastercardPromoEnabled?Object(d.d)("payments_transfer_method_without_fee_for_mastercard"):Object(d.d)("payments_money_transfer_commission_undefined"));else if(-1===parseInt(o))f=!0;else if(s&&i&&(i.percent||i.vkPay&&i.vkPay.percent)){var m=i.free_amount_rest||0,b=i.free_amount_min||0;if(!m||t>m||b&&t<b){var g=t;t>m&&(g=t-m);var v=i.percent||0,y=i.min||0,O=i.add||0;(h=g*v)<y?h=y:h+=O,h=+(Math.round(h+"e+2")+"e-2"),l=langNumeric(h,cur.paymentsOptions.cardsFeeStr,!0)}if(i.vkPay){var D=t+h,P=i.vkPay.percent||0,k=i.vkPay.min||0,C=i.vkPay.add||0,T=D*P;T<k?T=k:T+=C,h=+(Math.round(h+T+"e+2")+"e-2"),T=+(Math.round(T+"e+2")+"e-2"),l=langNumeric(h,cur.paymentsOptions.cardsFeeStr,!0),l+=langNumeric(T,cur.paymentsOptions.cardsFeeVkPayStr,!0)}}!p||e&&!f||ge(p).classList.contains("on")||ge(p).click(),t>=n&&!hasClass("payments_money_transfer_amount_wrap","money_error")&&(val("payments_money_transfer_notice",l),0===parseInt(o)&&s||(_=langNumeric(+(Math.round(t+h+"e+2")+"e-2"),cur.paymentsOptions.buttonAmountStr,!0))),val("payments_money_transfer_send",_)}},isVKPayFillUpEnabled:function(){return 1==cur.paymentsOptions.vkpayFillUpEnabled},isVKPayTransfer:function(){return parseInt(cur.paymentsOptions.transferType)===E},getBindCards:function(){return cur.paymentsOptions.cards.filter(e=>{var t=parseInt(e[0]);return 0!==t&&-1!==t})},hideFillUpCardSelection:function(){hide("payments_money_transfer_fill_up_cards")},showFillUpCardSelection:function(){show("payments_money_transfer_fill_up_cards")},isFillUpCardSelectionVisible:function(){return Object(a.fb)("payments_money_transfer_fill_up_cards")}}},"86+7":function(e,t,n){"use strict";var r=n("4Kbl");n.d(t,"b",(function(){return r.a})),n.d(t,"c",(function(){return r.b}));var o=n("Wfj7");n.d(t,"a",(function(){return o.a}))},"8a7r":function(e,t,n){"use strict";var r=n("hswa"),o=n("RjD/");e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},"8zW9":function(e,t,n){"use strict";function r(e){var t={};return e&&e.length&&e.filter((function(e){return!!e})).map((function(e){return e.queues&&e.queues[0]})).forEach((function(e){return t[e.type]=e})),t}n.d(t,"a",(function(){return r}))},"91GP":function(e,t,n){var r=n("XKFU");r(r.S+r.F,"Object",{assign:n("czNK")})},"98sY":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));n("a1Th"),n("Btvt"),n("pIFo");var r=n("gdug"),o=n("W9Tc"),a=n("HLtZ");function i(){if(Object(o.b)("log_fetch_requests")){var e=(e,t)=>{try{if(~e.indexOf("/al_audio")||~e.indexOf("/like.php"))throw new Error(t)}catch(e){Object(a.a)(e)}};!function(e){var t=window.XMLHttpRequest;window.XMLHttpRequest=function(){var n,r,a=new t,i=a.open,s=a.send;return a.open=function(){var e=Array.prototype.slice.call(arguments);return r=e[0],n=e[1],i.apply(a,arguments)},a.send=function(){var t=arguments[0];return("POST"===(r=(r||"").toUpperCase())||"GET"===r&&Object(o.b)("log_fetch_requests_get"))&&e(n,[r,n,t].join(":")),s.apply(a,arguments)},a},["DONE","HEADERS_RECEIVED","LOADING","OPENED","UNSENT"].forEach(e=>{Object.defineProperty(window.XMLHttpRequest,e,{enumerable:!1,configurable:!1,writable:!1,value:t[e]})})}(e),window.fetch&&function(e){var t=window.fetch;window.fetch=function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var o,a=n[0],i="GET";"string"==typeof a?o=a:"Request"in window&&a instanceof window.Request?(o=a.url,a.method&&(i=a.method)):o=""+a,n[1]&&n[1].method&&(i=n[1].method);var s={method:i,url:o,status_code:null};return e(o,o),t.apply(this,n).then((function(e){return s.status_code=e.status,e})).catch((function(e){throw e}))}}(e)}}function s(){window._logTimer=(new Date).getTime(),i()}function c(e,t){if(window.Raven){if(t&&t.length>2e3){var n=t.indexOf("; window.TimeSpent && TimeSpent.setTimers && TimeSpent.setTimers(");~n&&(t=t.slice(0,n)),t=`${t.slice(0,1e3)}...${t.slice(-1e3)}`}e.message+=": "+t,Object(a.c)(e)}}function u(e){try{window.debuglogClient&&debuglogClient(e);var t="["+((new Date).getTime()-window._logTimer)/1e3+"] ";if(window.console&&console.log){var n=Array.prototype.slice.call(arguments);n.unshift(t),r.a.msie||r.a.mobile?console.log(n.join(" ")):console.log.apply(console,n)}}catch(e){}}function l(e){if(!e)return!1;var t=e.tagName,n=e.id,r=e.className,o=(t||"").toLowerCase();return r&&(o+="."+e.className.replace(/\s+/g,".")),n&&!/^__vk/.test(n)&&(o+="#"+e.id),o||(e.toString()||"[NULL]")}},"9gX7":function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},"9r2g":function(e,t,n){"use strict";n.r(t),n.d(t,"registrationItemStat",(function(){return i}));var r=n("FbVm");n.d(t,"RegistrationFieldItemNames",(function(){return r.g})),n.d(t,"RegistrationItemEventTypes",(function(){return r.h})),n.d(t,"EventScreens",(function(){return r.c}));var o=new r.f,a=new r.a(o),i=new r.i(a)},A5AN:function(e,t,n){"use strict";var r=n("AvRE")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},Afnz:function(e,t,n){"use strict";var r=n("LQAc"),o=n("XKFU"),a=n("KroJ"),i=n("Mukb"),s=n("hPIQ"),c=n("QaDb"),u=n("fyDq"),l=n("OP3Y"),_=n("K0xU")("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,f,h,m,b){c(n,t,f);var g,v,y,O=function(e){if(!d&&e in D)return D[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",E="values"==h,j=!1,D=e.prototype,P=D[_]||D["@@iterator"]||h&&D[h],k=P||O(h),C=h?E?O("entries"):k:void 0,T="Array"==t&&D.entries||P;if(T&&(y=l(T.call(new e)))!==Object.prototype&&y.next&&(u(y,w,!0),r||"function"==typeof y[_]||i(y,_,p)),E&&P&&"values"!==P.name&&(j=!0,k=function(){return P.call(this)}),r&&!b||!d&&!j&&D[_]||i(D,_,k),s[t]=k,s[w]=p,h)if(g={values:E?k:O("values"),keys:m?k:O("keys"),entries:C},b)for(v in g)v in D||a(D,v,g[v]);else o(o.P+o.F*(d||j),t,g);return g}},AvRE:function(e,t,n){var r=n("RYi7"),o=n("vhPU");e.exports=function(e){return function(t,n){var a,i,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===u||(i=s.charCodeAt(c+1))<56320||i>57343?e?s.charAt(c):a:e?s.slice(c,c+2):i-56320+(a-55296<<10)+65536}}},"BJj/":function(e,t,n){"use strict";function r(e,t,n){var r;return function(){var o=arguments,a=()=>{r=null,n||e.apply(this,o)},i=n&&!r;clearTimeout(r),r=setTimeout(a,t),i&&e.apply(this,o)}}n.d(t,"a",(function(){return r}))},BiHW:function(e,t,n){"use strict";var r,o=n("q1tI"),a=n("xt6h"),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.appearance,r=e.wide,i=e.overflow,l=e.size,_=c(e,["className","appearance","wide","overflow","size"]),d=e.disabled,p=a.a.apply(void 0,u(u(["Button"],function(e){return Array.isArray(e)?e.map((function(e){return"Button--"+e})):["Button--"+e]}(n)),["Button--size-"+l,{"Button--wide":r,"Button--overflow":!!i,"Button--disabled":d},t]));return o.createElement("button",s({},_,{className:p}),e.children)},t.defaultProps={appearance:"primary",size:"m",wide:!1,disabled:!1},t}(o.Component);t.a=l},Bj12:function(e,t,n){"use strict";var r=n("mMuO");n.d(t,"b",(function(){return r.c})),n.d(t,"e",(function(){return r.f})),n.d(t,"c",(function(){return r.d})),n.d(t,"a",(function(){return r.b})),n.d(t,"d",(function(){return r.e}))},Bm7g:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){var t=this;this.receiver=!1,this._requestId=1,this._requests={},this._onMessage=function(e){if(e.origin===t.origin&&e.data&&e.data.embeddedName===t.name){t.target=e.source;var n=e.data,r=n.response;if(r){var o=t._requests[r];o&&o(n.data),t._requests[r]=null}else n.request&&n.action&&Promise.resolve(t.onMessage(n.action,n.data)).then((function(e){t._sendResponse(n.request,n.action,e)}))}},this.name=e.name,this.target=e.target,this.origin=e.origin||"https://"+e.host,this.receiver=e.receiver||!1,this.onMessage=e.onMessage,window.addEventListener("message",this._onMessage,!1)}return e.prototype._sendResponse=function(e,t,n){this.target&&this.target.postMessage({embeddedName:this.name,action:t,response:e,data:n},this.origin)},e.prototype.sendMessage=function(e,t){var n=this;if(void 0===t&&(t={}),!this.target)return Promise.reject();var r=this._requestId,o=new Promise((function(e){n._requestId++,n._requests[r]=e}));return this.target.postMessage({embeddedName:this.name,action:e,data:t,request:r},this.origin),o},e.prototype.destroy=function(){window.removeEventListener("message",this._onMessage,!1),this.target=void 0},e}()},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},Bszp:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));n("HEwt"),n("a1Th"),n("Btvt"),n("rGqo"),n("rE2o"),n("ioFf"),n("pIFo"),n("KKXr"),n("SRfc"),n("Oyvg");var r=n("zxIV"),o=n("Egk5"),a=n("t7n3"),i=n("ErRf"),s=n("4+be"),c=n("aong"),u=n("XzvV");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){window.headerDestroy&&window.headerDestroy(),window.headerDestroy=e}function p(){delete window.headerDestroy}var f={cache:{},lists:{},maxItems:8,init:function(){if(this.inited)return!1;var e=Object(r.J)("ts_input"),t=Object(r.J)("ts_cont_wrap");if(vk.id&&Chat.init(),!e)return!1;Object(o.b)(e,"focus",(function(){f.deselect(),Object(a.I)(Object(r.Cb)(this))&&Object(r.c)(t.firstChild,"active"),f.toggleInput(!0)})),Object(o.b)(e,"keydown",(function(n){switch(n.keyCode){case o.a.DOWN:case o.a.UP:f.moveSelection(n.keyCode),Object(o.c)(n);break;case o.a.ENTER:var s=Object(r.L)("active",t);if(s)f.select(s,n);else{var c=Object(a.I)(Object(r.Cb)(this));c&&(e.blur(),f.clear(),f.toggleInput(!1),nav.go("/search?c[section]=auto&c[q]="+encodeURIComponent(c)))}Object(o.c)(n);break;case o.a.TAB:f.clear(),f.toggleInput(!1),Object(i.a)("top_search",!0)}})),vk.id&&(Object(o.b)(e,"keyup",(function(e){switch(e.keyCode){case o.a.DOWN:case o.a.UP:case o.a.ENTER:case o.a.ESC:Object(o.c)(e);break;default:f.prepareRows(Object(a.I)(Object(r.Cb)(this)))}})),Object(o.b)(e,"paste",(function(){setTimeout((function(){f.prepareRows(Object(a.I)(Object(r.Cb)(e)))}),10)})),Object(o.b)(document,"mousedown",(function(e){Object(o.e)(e)||Object(r.q)("top_audio_layer_place",e.target)||Object(r.q)("_ap_layer__close",e.target)||Object(r.q)("layer_wrap",e.target)||d()})),this.inited=!0)},clear:function(){window.tooltips&&tooltips.destroyAll(Object(r.J)("ts_cont_wrap"));var e=Object(r.J)("ts_input");e&&(Object(r.Cb)(e,""),e.blur(),this.prepareRows())},select:function(e,t,n){if(Object(o.d)(t))return!0;var i,s,c=Object(r.J)("ts_input"),u=Object(a.I)(Object(r.Cb)(c)).length,l=e.getAttribute("hinttype");if(this.clear(),d(),u||c.blur(),n&&Object(r.ab)(t.target,"ts_contact_status"))return ajax.post("al_search.php",{act:"save_metrics",ql:u,mk:"chat_box"}),(null===(i=window)||void 0===i||null===(s=i.reforgedME)||void 0===s?void 0:s.selectPeer)?window.reforgedME.selectPeer(n,"global_search"):this.writeBox(n),!1;var _=nav.go(e,t,{params:{search_string:cur.tsStr||""}});return ajax.post("al_search.php",{act:"save_metrics",ql:u,mk:l}),_},deselect:function(){var e=Object(r.J)("ts_cont_wrap");Object(a.f)(Object(r.K)("active",e),(e,t)=>Object(r.mb)(t,"active"))},itemOver:function(e,t,n){1===t&&f.deselect();var o=Object(a.o)(e.getAttribute("hintType"),["h_friends","h_correspondents","h_chats"]);Object(r.zb)(e,"write",o),Object(r.zb)(e,"active",t)},moveSelection:function(e){var t,n=Object(r.J)("ts_cont_wrap"),a=Object(r.L)("active",n);switch(e){case o.a.UP:t=!!a&&(this.getNextNode(a,-1,"a")||a);break;case o.a.DOWN:t=a?this.getNextNode(a,1,"a")||a:n.firstChild}return this.deselect(),t&&Object(r.c)(t,"active"),!1},getNextNode:function(e,t,n){for(var o=e,a=Object(r.C)(e);;){if((o=t>0?Object(r.B)(o):Object(r.D)(o))||(o=t>0?Object(r.x)(a):Object(r.A)(a)),n&&o.tagName&&o.tagName.toLowerCase()===n||!n&&o)return o;if(o===e)return!1}},toggleInput:function(e){e=!!e;var t=Object(r.J)("ts_cont_wrap");Object(r.fb)(t)!==e&&(Object(r.yb)("ts_cont_wrap",e),e&&Object(i.c)("top_search",(function(){var e=Object(r.J)("ts_input");f.toggleInput(!1),e.blur()}),!0))},getList:function(e){switch(e){case"friends":return this.lists.friends||this.topFriends||{};case"publics":case"events":case"groups":case"apps":case"chats":case"search":return this.lists[e]||{}}return{}},onlines:function(){return window.curFastChat&&curFastChat.onlines||this.lists.onlines||{}},initFriendsList:function(){if(f.friendsLoaded)return!1;if(cur.initingFL||vk.isBanned||!vk.id)return!1;var e=function(){if(f.friendsLoaded)return!1;cur.initingFL=!0,ajax.post("al_search.php",{act:"get_pages"},{cache:1,onDone:function(e){delete cur.initingFL,f.friendsLoaded||(Object(a.f)(e,(function(e,t){f.lists[e]=t,"onlines"!==e&&f.updateCache(e)})),f.friendsLoaded=!0,Object(r.Cb)("ts_input")||f.prepareRows(""))},onFail:function(){delete cur.initingFL}})},t=f.getList("friends");Object(a.u)(t)?(cur.initingFL=!0,ajax.post("al_search.php",{act:"get_top_friends"},{cache:1,onDone:function(t){delete cur.initingFL,f.topFriends=t,f.updateCache("friends"),f.forceUpdate=!0,f.prepareRows(cur.tsStr||""),e()},onFail:function(){delete cur.initingFL}})):(f.updateCache("friends"),f.forceUpdate=!0,f.prepareRows(cur.tsStr||""),e())},getSimilarQueries:function(e){var t,n=[e=e.toLowerCase()];return(t=Object(s.q)(e))&&n.push(t),(t=Object(s.p)(e))&&n.push(t),(t=Object(s.o)(e))&&n.push(t),n},searchCache:function(e,t){var n=f.getList(e);if(!t)return!1;var r=this.getSimilarQueries(t);if(void 0!==this.cache[e][t])return r;var o=this.cache[e][t]={};Object(a.f)(r,(t,r)=>{var i=this.cache[e][" "+r.charAt(0).toLowerCase()];if(i){var s=new RegExp("(^|[\\s\\-\\(\\)\\.,;|:]+)"+Object(a.h)(r),"gi");Object(a.f)(i,e=>{var t=n[e+"_"];if(!Object(a.t)(t))return!0;null!==t[0].match(s)&&(o[e]=1)})}});var i=0;return Object(a.f)(o,()=>i++),o._num=i,r},updateCache:function(e,t,n){var r=t||this.getList(e);this.cache[e]=n&&this.cache[e]||{},Object(a.f)(r,(t,n)=>{var r=n[0],o=Object(a.r)(t),i=r.split(/[\s\-\(\)\.,;|:]+/);Object(a.f)(i,(t,n)=>{var r=" "+n.charAt(0).toLowerCase();this.cache[e][r]=this.cache[e][r]||{},this.cache[e][r][o]=1})})},listSearch:function(e,t,n,r){var o=[],i={};return t?(f.searchCache(e,t),i=f.cache[e]&&f.cache[e][t]||{}):Object(a.f)(f.getList(e),(function(e){var t=Object(a.r)(e);i[t]=1})),Object(a.f)(f.getList(e),(function(e){var t=Object(a.r)(e),s=i[t];if((!r||!r[t])&&s)return!!n--&&void o.push([t,this])})),o},row:function(e,t,n,r,o,i,s,u,l){var _=0;if(i&&(r=r.replace(i,'$1<em class="ts_clist_hl">$2</em>')),Object(a.o)(s,["h_friends","h_correspondents","h_chats"])&&(_=e),u||(u=""),l=Object(a.r)(l)){var d="";1&l&&(d+="page_verified "),2&l&&(d+="page_top_author "),l=`<div class="${d}" onmouseover="pageVerifiedTip(this, {type: ${l}, oid: ${e}})"></div>`}else l="";return`\n<a href="${t}" class="ts_contact clear_fix" id="ts_contact${e}" onclick="return TopSearch.select(this, event, ${_});" onmousedown="event.cancelBubble = true;"\n      onmouseover="TopSearch.itemOver(this, 1, event);"  onmouseout="TopSearch.itemOver(this, 0, event);" hinttype="${s}">\n  <span class="ts_contact_photo ${Object(c.j)(o)}">\n    <img class="ts_contact_img" src="${n}"/>\n  </span>\n  <span class="ts_contact_name fl_l">\n    <div class="ts_contact_title_wrap${l?" is_verified":""}">\n      <span class="ts_contact_title">${r}</span>\n    </div>${l}\n    <div class="ts_contact_info">${u}</div>\n  </span>\n  <div class="ts_contact_status"></div>\n</a>`},searchLists:function(e){return e?{friends:{order:0,count:f.maxItems-1,label:Object(s.d)("global_friends")},groups:{order:1,count:4,label:Object(s.d)("global_communities")},publics:{count:2,parent:"groups"},events:{count:1,parent:"groups"},apps:{order:2,count:1,label:Object(s.d)("global_apps")},vk_apps:{order:2,count:1,label:Object(s.d)("global_apps")},chats:{order:3,count:f.maxItems-1,label:Object(s.d)("global_chats")},search:{order:4,count:f.maxItems-1,label:Object(s.d)("head_search_results")}}:{friends:{order:0,count:f.maxItems,label:Object(s.d)("global_friends")}}},initListsHtml:function(){f.listsHtml=[]},addToListsHtml:function(e,t,n){var r=f.searchLists(n),o=r[(r[e]||{}).parent||e]||{},a=o.order||0,i=o.label||"";f.listsHtml[a]=f.listsHtml[a]||(n&&i?[`<div class="ts_search_sep">${i}</div>`]:[]),f.listsHtml[a].push(t)},htmlRows:function(e){var t="",n=f.listsHtml.map(e=>e.join(""));if(e){var r="#"===e[0]?"statuses":"auto",o="#"===e[0]?Object(s.d)("global_news_search_results"):Object(s.d)("global_show_all_results");t+=`\n<a href="/search?c[section]=${r}&c[q]=${encodeURIComponent(e)}" class="ts_search_link clear_fix active" id="ts_search_link"\n    onclick="return TopSearch.select(this, event);" onmousedown="event.cancelBubble = true;" onmouseover="TopSearch.itemOver(this, 1, event);"\n    onmouseout="TopSearch.itemOver(this, 0, event);" >\n  <span class="ts_contact_name fl_l">${o}</span>\n  <div class="ts_contact_status "></div>\n</a>`}return t+n.join("")},prepareRows:function(e){var t=f.maxItems,n=Object(r.J)("ts_cont_wrap");if(!n||!vk.id)return!1;if(cur.tsStr&&cur.tsStr===e&&!f.forceUpdate)return!1;delete f.forceUpdate,f.initListsHtml();var o={};if(e){var i=[];Object(a.f)(this.getSimilarQueries(e),(function(){i.push(Object(a.h)(this))})),cur.lastRe=new RegExp("([ -]|^|s|&nbsp;|\b)("+i.join("|")+")","gi"),t--}Object(a.f)(f.searchLists(e),(function(n,i){if(f.cache[n]){var s=i.count,c=f.listSearch(n,e,s,o),u=[],_=0;Object(a.u)(c)||(Object(a.f)(c,(e,n)=>{if(!t||_>=s)return!1;u.push(n),t--,_++}),u.length&&Object(a.f)(u,(t,i)=>{var s=i[1],c=Object(a.r)(i[0]),u=c>0&&f.onlines()[c],_=l(s,6),d=_[0],p=_[1],h=_[2],m=_[3],b=_[4],g=_[5],v="search"===n?m:"h_"+n,y=f.row(c,h,p,d,u,r.kb,v,b,g);f.addToListsHtml(n,y,e),o[c]=1}))}})),n.innerHTML=f.htmlRows(e),e||Object(u.s)(u.V),!t&&e&&"#"!==e[0]&&Object(u.t)(u.V,0,!0,e),t&&e&&"#"!==e[0]&&this.hintsSearch(e,cur.lastRe||!1),e&&(cur.tsStr=e)},hintsSearch:function(e,t){var n,o=Object(r.J)("ts_input"),i=Object(r.J)("ts_cont_wrap"),s=+new Date;ajax.post("al_search.php",{act:"get_pages_hints",q:e},{cache:1,onDone:function(c,_){if(Object(a.I)(Object(r.Cb)(o))!==e)return!1;if(!c)return!1;var d=f.maxItems-Object(r.K)("ts_contact",i).length-1,p=d,h={};Object(a.f)(c,(function(o,i){var s=Object(a.r)(o),c=l(i,6),u=c[0],_=c[1],p=c[2],m=c[3],b=c[4],g=c[5],v=f.searchLists(e),y=m.replace("h_",""),O=(v[y]||{}).parent||y;if(void 0===v[O]&&(O="search"),h[O]=h[O]||{},h[O][o]=i,f.lists[O]=f.lists[O]||{},f.lists[O][o]=i,Object(r.J)("ts_contact"+s))return!0;if(!d--)return!1;var w=f.row(s,p,_,u,!1,t,m,b,g);return f.addToListsHtml(O,w,e),n=!0,!0}));var m=+new Date-s;if(Object(u.t)(u.V,0,p!==d,e,0,_,m),Object(a.f)(h,(e,t)=>f.updateCache(e,t,!0)),n){var b=Object(r.L)("active",i),g=b?b.id:"";i.innerHTML=f.htmlRows(e),g&&Object(r.J)(g)&&Object(r.c)(Object(r.J)(g),"active")}}})},writeBox:function(e){window.curFastChat&&curFastChat.inited&&window.FastChat?FastChat.selectPeer(e,!1,{entrypoint:"fastchat_global_search"}):e>0&&e<2e9?window.showWriteMessageBox(!1,e):nav.go("/im?sel="+e)}};t.a=f},Btvt:function(e,t,n){"use strict";var r=n("I8a+"),o={};o[n("K0xU")("toStringTag")]="z",o+""!="[object z]"&&n("KroJ")(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},"C/va":function(e,t,n){"use strict";var r=n("y3w9");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},C13D:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("KKXr");var r=n("uk5P"),o=n("eVa8");function a(e){if(!e)return null;if(isObject(e))return e;if("string"==typeof e)return{id:e};var t=(e[r.a.AUDIO_ITEM_INDEX_HASHES]||"").split("/"),n=(e[r.a.AUDIO_ITEM_INDEX_COVER_URL]||"").split(","),a=Object(o.a)(e,!1);return{id:intval(e[r.a.AUDIO_ITEM_INDEX_ID]),owner_id:intval(e[r.a.AUDIO_ITEM_INDEX_OWNER_ID]),ownerId:e[r.a.AUDIO_ITEM_INDEX_OWNER_ID],fullId:e[r.a.AUDIO_ITEM_INDEX_OWNER_ID]+"_"+e[r.a.AUDIO_ITEM_INDEX_ID],title:e[r.a.AUDIO_ITEM_INDEX_TITLE]||"",subTitle:e[r.a.AUDIO_ITEM_INDEX_SUBTITLE],performer:a,mainArtists:e[r.a.AUDIO_ITEM_INDEX_MAIN_ARTISTS],featArtists:e[r.a.AUDIO_ITEM_INDEX_FEAT_ARTISTS],authorLink:e[r.a.AUDIO_ITEM_INDEX_AUTHOR_LINK],duration:intval(e[r.a.AUDIO_ITEM_INDEX_DURATION]),lyrics:e[r.a.AUDIO_ITEM_INDEX_LYRICS]||"",url:e[r.a.AUDIO_ITEM_INDEX_URL],flags:e[r.a.AUDIO_ITEM_INDEX_FLAGS],context:e[r.a.AUDIO_ITEM_INDEX_CONTEXT],extra:e[r.a.AUDIO_ITEM_INDEX_EXTRA],accessKey:e[r.a.AUDIO_ITEM_ACCESS_KEY],addHash:t[0]||"",editHash:t[1]||"",actionHash:t[2]||"",deleteHash:t[3]||"",replaceHash:t[4]||"",urlHash:t[5]||"",restoreHash:t[6]||"",canEdit:!!t[1],canDelete:!!t[3],isLongPerformer:e[r.a.AUDIO_ITEM_INDEX_FLAGS]&r.a.AUDIO_ITEM_LONG_PERFORMER_BIT,canAdd:!!(e[r.a.AUDIO_ITEM_INDEX_FLAGS]&r.a.AUDIO_ITEM_CAN_ADD_BIT),coverUrl_s:n[0],coverUrl_p:n[1],isClaimed:!!(e[r.a.AUDIO_ITEM_INDEX_FLAGS]&r.a.AUDIO_ITEM_CLAIMED_BIT),isFromQueue:!!(e[r.a.AUDIO_ITEM_INDEX_FLAGS]&r.a.AUDIO_ITEM_QUEUE_BIT),isExplicit:!!(e[r.a.AUDIO_ITEM_INDEX_FLAGS]&r.a.AUDIO_ITEM_EXPLICIT_BIT),isUMA:!!(e[r.a.AUDIO_ITEM_INDEX_FLAGS]&r.a.AUDIO_ITEM_UMA_BIT),isReplaceable:!!(e[r.a.AUDIO_ITEM_INDEX_FLAGS]&r.a.AUDIO_ITEM_REPLACEABLE),ads:e[r.a.AUDIO_ITEM_INDEX_ADS],album:e[r.a.AUDIO_ITEM_INDEX_ALBUM],albumId:intval(e[r.a.AUDIO_ITEM_INDEX_ALBUM_ID]),albumPart:intval(e[r.a.AUDIO_ITEM_INDEX_ALBUM_PART]),trackCode:e[r.a.AUDIO_ITEM_INDEX_TRACK_CODE],restrictionStatus:e[r.a.AUDIO_ITEM_INDEX_RESTRICTION],chartInfo:e[r.a.AUDIO_ITEM_CHART_INFO_INDEX]}}},CeZd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("91GP"),n("rGqo"),n("Btvt");var r=n("t7n3"),o=n("cGUQ");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class i{static getInstance(e,t){var n=i.makeCacheKey(e,t);return i._instances[n]||(i._instances[n]=new i(n)),i._instances[n]}constructor(e){i.ensureCachesInitialized(),this._cacheKey=e}getFromCache(e,t,n){var o=n.cacheLevel,a=void 0===o?0:o,i=n.forceGlobalCache,s=void 0!==i&&i,c=n.onAnswerProcessed,u=void 0===c?()=>{}:c;if(a>0||s){var l=window.ajaxCache[this._cacheKey];if(l&&l._loading)return l._callbacks.push(e),!1;if(l&&!s)return e(0,l),3===a&&delete window.ajaxCache[this._cacheKey],!1;if(l=window.globalAjaxCache[this._cacheKey])return-1===l||Object(r.v)(l)?window.globalAjaxCache[this._cacheKey]=t:t.apply(window,l),u&&u(),!1}return window.ajaxCache[this._cacheKey]={_loading:1,_callbacks:[]},!0}processExistingCache(e,t){var n=window.ajaxCache[this._cacheKey];n&&n._loading&&(setTimeout((function(){for(var r in n._callbacks)n._callbacks.hasOwnProperty(r)&&n._callbacks[r](e,t)}),0),delete window.ajaxCache[this._cacheKey])}cacheResponse(e){window.ajaxCache[this._cacheKey]=e}static ensureCachesInitialized(){window.ajaxCache||(window.ajaxCache={}),window.globalAjaxCache||(window.globalAjaxCache={})}static makeCacheKey(e,t){var n=a({},t);return["al","al_ad","ads_section","ads_showed","captcha_sid","captcha_key","_smt","_preload"].forEach(e=>delete n[e]),e+"#"+Object(o.toQueryString)(n)}static preload(e,t,n){i.ensureCachesInitialized(),e&&"/"!==e.substr(0,1)&&(e="/"+e),window.ajaxCache[i.makeCacheKey(e,t)]=n}static invalidate(e,t){i.ensureCachesInitialized(),void 0===e?window.ajaxCache={}:delete window.ajaxCache[i.makeCacheKey(e,t)]}static invalidateFor(e){Object.keys(window.ajaxCache).forEach(t=>{e(t)&&delete window.ajaxCache[t]})}}i._instances={}},Cfrj:function(e,t,n){var r=n("RYi7"),o=n("ne8i");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},CkkT:function(e,t,n){var r=n("m0Pp"),o=n("Ymqv"),a=n("S/j/"),i=n("ne8i"),s=n("zRwo");e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,_=6==e,d=5==e||_,p=t||s;return function(t,s,f){for(var h,m,b=a(t),g=o(b),v=r(s,f,3),y=i(g.length),O=0,w=n?p(t,y):c?p(t,0):void 0;y>O;O++)if((d||O in g)&&(m=v(h=g[O],O,b),e))if(n)w[O]=m;else if(m)switch(e){case 3:return!0;case 5:return h;case 6:return O;case 2:w.push(h)}else if(l)return!1;return _?-1:u||l?l:w}}},Czjj:function(e,t,n){"use strict";function r(e){void 0===e&&(e=!1),console.trace(),e||window.alert("Вы поймали баг исчезнувшего lastMsg. Пожалуйста откройте консоль (Cmd + Option + I), остановите выполнение JS на странице (F8+cmd+\\) и свяжитесь с командой сообщений на вебе.")}n.d(t,"a",(function(){return r}))},D4iV:function(e,t,n){for(var r,o=n("dyZX"),a=n("Mukb"),i=n("ylqs"),s=i("typed_array"),c=i("view"),u=!(!o.ArrayBuffer||!o.DataView),l=u,_=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");_<9;)(r=o[d[_++]])?(a(r.prototype,s,!0),a(r.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},D8Gg:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return u}));var r=n("Db7M"),o=n("jm8g"),a="5.133",i=6287487,s=function(){return Object(o.a)("web_token",{},{},!0).then((function(e){return e.access_token}))},c=!1,u=function(e,t){return c||(Object(r.b)({version:a,domain:t,onTokenExpired:s,onCaptcha:e}),c=!0),Promise.resolve()},l=null;t.c=function(e,t,n){return l||(Object(o.c)({appId:i,domain:n,onCaptcha:e}),Object(r.b)({appId:i,version:a,domain:t,onTokenExpired:s,onCaptcha:e}),l=Object(o.a)("web_token").then((function(e){return Object(r.b)({accessToken:e.access_token})})).catch((function(e){console.error("Init api auth failed",e)})))}},DM26:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));n("VRzm"),n("Btvt");function r(e,t){return new Promise(n=>{setTimeout(n.bind(null,t),1e3*e)})}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=0;return function a(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return Promise.resolve().then(()=>e(...s)).catch(e=>{if(++o<=t){var i="function"==typeof n?n(o):0;return 0===i?a(...s):r(i).then(()=>a(...s))}throw e})}}function a(e,t,n){var r,o;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return new Promise((e,a)=>{var s=n&&!r;clearTimeout(r),o&&o.reject("debounce"),r=setTimeout((function(){r=null,o=null,n||e(i)}),t),s?e(i):n&&a("debounce"),o={resolve:e,reject:a}}).then(t=>e(...t))}}function i(e,t){var n,r,o;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return new Promise((e,a)=>{var s=Date.now(),c=()=>{e(i),n=s};!n||n+t<s?c():(o&&(o.reject(),clearTimeout(r)),o={resolve:e,reject:a},r=setTimeout(c,t-(s-n)))}).then(t=>e(...t))}}function s(e,t){var n,r=new Promise(r=>{n=r,setTimeout(r.bind(null,t),1e3*e)});return{pause:()=>r,abort(){n(t)}}}function c(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise(t=>e(...n,t))}}},DM2o:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,o,a=n("J8bf"),i=n("jE6c"),s=n("Xrg9");function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var c;void 0!==e&&void 0!==t&&u(()=>{try{c=(c=JSON.parse(Object(a.a)(o))).data}catch(e){c=[]}c.push([Math.round(Date.now()/1e3),e,t].concat(r)),c=c.slice(c.length-100);var n=Math.round(Object(i.p)(0,1e9));Object(a.c)(o,JSON.stringify({data:c,uniqueId:n}),.01)})}function u(e,t){if(s.a.checkVersion()){if(!0!==s.a.get(r)){s.a.set(r,!0);try{e()}catch(e){}return void s.a.set(r,!1)}t||setTimeout(()=>u(e,!0),100)}else e()}r="lockkk_stats_cookie_lock",o="remixsts"},DVgA:function(e,t,n){var r=n("zhAb"),o=n("4R4u");e.exports=Object.keys||function(e){return r(e,o)}},Db7M:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n("3ljy");var r=n("6D1c"),o={domain:"api.vk.com"};function a(e){e=Object.assign({},o,e),o=e}function i(e,t,n,s){void 0===s&&(s={});var c=o;n&&(c=Object.assign({},o,n));var u,l,_=c.domain,d=Object(r.b)((l={v:(u=c).version||"5.123"},u.appId&&(l.client_id=u.appId),l)),p=function(e){return{access_token:e.accessToken}}(c),f="https://"+_+"/method/"+e+"?"+d,h=Object.assign({},t,p);return Object(r.a)(f,h,s).then((function(r){if(r.response)return r.response;var o=r.error;if(!o)return Promise.reject({type:"api_error",error:{error_code:0,error_msg:"Unknown"}});if(c.onCaptcha&&14===o.error_code){var s=o,u=s.captcha_sid,l=s.captcha_img;return c.onCaptcha({captcha_sid:u,captcha_img:l}).then((function(r){var o=Object.assign({},t,r);return i(e,o,n)}))}return!c.onTokenExpired||n&&n.accessToken||5!==o.error_code?Promise.reject({type:"api_error",error:r.error}):c.onTokenExpired().then((function(r){return a({accessToken:r}),i(e,t,n)}))}),(function(e){return Promise.reject({type:"network_error",error:e})}))}},EEfc:function(e,t,n){"use strict";var r,o;n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var a="mvk"===(null===(o=null===(r=window.vk)||void 0===r?void 0:r.statsMeta)||void 0===o?void 0:o.platform),i=36e5,s={feed:6*i,im:6*i,profile:6*i,audio:6*i,apps:6*i,group:4*i,groups:4*i,public:4*i,video:4*i,wall:4*i,board:4*i,photos:4*i,activation:6*i,"i-oauth":6*i,mail:6*i},c=["unknown","app","invite","support","helpdesk","abuse","noSpam","sf"],u=a?{group:.05,index:.05,profile:.05,video:.1,feed:.1,mail:.2,wall:.2,login:.2,"i-oauth":.2,notifications:.3}:{feed:.05,im:.075,profile:.1,public:.2,groups:.2,audio:.3,photos:.3,board:.5},l={FID:300,LCP:4e3,CLS:2500,TTFB:600,FCP:4e3}},ER42:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n("cGUQ"),o=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function a(e,t,n){return t&&(t.im_v=3),new Promise((function(r,a){window.ajax.post(e,t,{timeout:n,onDone:function(){r.apply(null,[o([],arguments)])},onFail:function(){return a.apply(null,o([],arguments)),!0}})}))}function i(e,t,n){void 0===n&&(n={});var o=new XMLHttpRequest;return{request:new Promise((function(a,i){var s,c=Date.now(),u=n.timeout||60,l=Object(r.toQueryString)(t);o.onreadystatechange=function(){4==o.readyState&&(window.clearInterval(s),o.status>=200&&o.status<300?a([o.responseText,o]):i([o.responseText,o]))};try{o.open("GET",e+"?"+l,!0)}catch(e){return i([e,o])}o.send(),s=window.setInterval((function(){Date.now()-c>1e3*u&&(window.browser.safari&&o.abort(),i(["",{}]),window.clearInterval(s))}),1e3)})),cancel:function(){o.abort()}}}},ERyv:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p}));n("VRzm"),n("Btvt");var r,o=n("ER42"),a=n("DM26"),i=1;function s(e,t,n,o,a){if("Script error."!==e){var i=a?a.stack||a.message:null;l("unhandled_error",i?{err:e,stack:i}:{err:e})}r&&r.apply(this,arguments)}function c(e){e.preventDefault()}function u(){return!!window.imwl}function l(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];u()&&(n&&window.console&&(console.error(e,t),console.trace&&console.trace()),Object(a.e)(o.b,3,()=>2)("al_im.php",{act:"a_weird_log",kind:e,data:JSON.stringify(extend({errIdx:i++,ua:navigator.userAgent},t))}))}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l(e,extend({err:t&&t.message||t},n)),Promise.reject(t)}function d(){r=window.onerror,window.onerror=s,window.addEventListener("unhandledrejection",c)}function p(){window.onerror=r,r=void 0,window.removeEventListener("unhandledrejection",c)}},EWmC:function(e,t,n){var r=n("LZWt");e.exports=Array.isArray||function(e){return"Array"==r(e)}},EasH:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MessageBox})),__webpack_require__.d(__webpack_exports__,"b",(function(){return showBox})),__webpack_require__.d(__webpack_exports__,"f",(function(){return showTabbedBox})),__webpack_require__.d(__webpack_exports__,"d",(function(){return showFastBox})),__webpack_require__.d(__webpack_exports__,"c",(function(){return showCaptchaBox})),__webpack_require__.d(__webpack_exports__,"e",(function(){return showReCaptchaBox}));var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a1Th"),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Btvt"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("KKXr"),_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("v+DW"),_debug_tools__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("98sY"),_dom_events__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("Egk5"),_ui_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ryw6"),_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("zxIV"),_fx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("7jxN"),_utils_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("t7n3"),_lang__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("4+be"),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("cGUQ"),_box_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("kcIO"),_accessibility__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("QGEU"),_web_helpers_classnames__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("ZxpX");function MessageBox(_options){var defaults={title:!1,titleControls:"",containerClass:"",width:450,height:"auto",animSpeed:0,bodyStyle:"",grey:!1,white:!1,selfDestruct:!0,progress:!1,hideOnBGClick:!1,hideButtons:!1,onShow:!1,onHideAttempt:!1,onBeforeHide:!1,onHide:!1,onClean:!1,onDestroy:!1,preventHideLastWithCheck:!1,refreshCoordsOnTimeout:!1},options=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(defaults,_options),guid=window._message_box_guid++,visible=!1,btns={ok:[],cancel:[]},boxTitleBck;options.progress||(options.progress="box_progress"+guid);var controlsStyle=options.hideButtons?' style="display: none"':"",boxContainer=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.g)("div",{className:Object(_web_helpers_classnames__WEBPACK_IMPORTED_MODULE_14__.a)("popup_box_container",options.containerClass),innerHTML:`\n<div class="box_layout" onclick="boxQueue.skip=true;">\n  <div class="box_title_wrap">\n    <div class="box_x_button" aria-label="${Object(_lang__WEBPACK_IMPORTED_MODULE_10__.d)("global_close")}" tabindex="0" role="button"></div>\n    <div class="box_title_controls"></div>\n    <div class="box_title"></div>\n  </div>\n\n  <div class="box_body" style="${options.bodyStyle}"></div>\n  ${options.noControls?"":`\n  <div class="box_controls_wrap" ${controlsStyle}>\n    <div class="box_controls">\n      <table cellspacing="0" cellpadding="0" class="fl_r">\n        <tr></tr>\n      </table>\n      <div class="progress" id="${options.progress}"></div>\n\n      <div class="box_controls_text _box_controls_text">${options.textControls||""}</div>\n    </div>\n  <div>`}\n</div>`},{display:"none"});Object(_dom__WEBPACK_IMPORTED_MODULE_7__.bb)(boxContainer);var boxLayout=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.x)(boxContainer),boxTitleWrap=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.x)(boxLayout),boxCloseButton=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.x)(boxTitleWrap),boxTitle=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.A)(boxTitleWrap),boxTitleControls=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.B)(boxCloseButton);options.noCloseButton&&Object(_dom__WEBPACK_IMPORTED_MODULE_7__.bb)(boxCloseButton);var boxBody=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.B)(boxTitleWrap),boxControlsWrap=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.B)(boxBody),boxControls=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.x)(boxControlsWrap),boxButtons=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.x)(boxControls),boxProgress=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.B)(boxButtons),boxControlsText=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.B)(boxProgress);boxLayer.appendChild(boxContainer),boxContainer.setAttribute("tabindex",0),boxContainer.focus(),refreshBox(),Object(_box_utils__WEBPACK_IMPORTED_MODULE_12__.a)(boxContainer);var emitter=new EventEmitter;function refreshBox(){boxTitleBck||(options.title?(boxTitle.innerHTML=options.title,Object(_dom__WEBPACK_IMPORTED_MODULE_7__.mb)(boxBody,"box_no_title"),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.xb)(boxTitleWrap)):(Object(_dom__WEBPACK_IMPORTED_MODULE_7__.c)(boxBody,"box_no_title"),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.bb)(boxTitleWrap))),options.titleControls&&(boxTitleControls.innerHTML=options.titleControls),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.zb)(boxBody,"box_no_buttons",options.hideButtons),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.zb)(boxTitleWrap,"box_grey",options.grey),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.zb)(boxTitleWrap,"box_white",options.white),boxContainer.style.width="string"==typeof options.width?options.width:options.width+"px",boxContainer.style.height="string"==typeof options.height?options.height:options.height+"px"}function addButtonInternal(e,t,n,r){var o="flat_button";"no"===n||"gray"===n?(o+=" secondary",n="cancel"):n="ok";var a=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.g)("button",{className:o,innerHTML:e,id:r});return boxButtons.rows[0].insertCell(0).appendChild(a),Object(_ui__WEBPACK_IMPORTED_MODULE_3__.d)(a,(function(){emitter.emit(n,retBox),t.apply(null,arguments)})),btns[n].push(a),a}function setControlsText(e){boxControlsText.innerHTML=e}function _removeButtons(){for(var e=boxButtons.rows[0];e.cells.length;)Object(_dom__WEBPACK_IMPORTED_MODULE_7__.i)(e.cells[0]),e.deleteCell(0);btns.ok.length=btns.cancel.length=0}var destroyMe=function(){Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.v)(options.onClean)&&options.onClean(),Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.v)(options.onDestroy)&&options.onDestroy(),options.noControls||_removeButtons(),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.i)(boxContainer,boxCloseButton,boxTitleWrap,options.noControls?void 0:boxControlsWrap),boxLayer.removeChild(boxContainer),delete window._message_boxes[guid]},hideMe=function(e,t,n){if(visible){visible=!1;var r=!0===e?0:options.animSpeed;options.hideOnBGClick&&Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.i)(document,"click",boxQueue.hideBGClick),Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.v)(options.onBeforeHide)&&options.onBeforeHide();var o=function(){boxQueue.currHiding===_message_boxes[guid]&&(boxQueue.currHiding=!1),_message_boxes[guid].shOther||e||layers.boxhide(),!t&&options.selfDestruct?destroyMe():Object(_dom__WEBPACK_IMPORTED_MODULE_7__.bb)(boxContainer),Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.v)(options.onHide)&&options.onHide(n),retBox.emit("afterHide",retBox)};r>0?(boxQueue.currHiding=_message_boxes[guid],Object(_fx__WEBPACK_IMPORTED_MODULE_8__.f)(boxContainer,r,o)):o()}};function showMe(e,t,n){if(!visible&&window._message_boxes[guid]&&!window._message_boxes[guid].forceHide){visible=!0;var r=!0===e||t?0:options.animSpeed;if(options.hideOnBGClick&&Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.b)(document,"click",boxQueue.hideBGClick),t||layers.boxshow(),boxQueue.currHiding){boxQueue.currHiding.shOther=!0;var o=boxQueue.currHiding.bodyNode.parentNode.parentNode;Object(_dom__WEBPACK_IMPORTED_MODULE_7__.l)(o,"tween").stop(!0)}r>0?Object(_fx__WEBPACK_IMPORTED_MODULE_8__.e)(boxContainer,r):Object(_dom__WEBPACK_IMPORTED_MODULE_7__.xb)(boxContainer),Object(_box_utils__WEBPACK_IMPORTED_MODULE_12__.a)(boxContainer),options.onShow&&options.onShow(n)}}Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.b)(boxCloseButton,"click",boxQueue.hideLast);var retBox=window._message_boxes[guid]={guid,_show:showMe,_hide:hideMe,bodyNode:boxBody,controlsTextNode:boxControlsText,titleWrap:boxTitleWrap,btns,show:function(){return boxQueue._show(guid),this},progress:boxProgress,showCloseProgress:_dom__WEBPACK_IMPORTED_MODULE_7__.c.pbind(boxTitleWrap,"box_loading"),hideCloseProgress:_dom__WEBPACK_IMPORTED_MODULE_7__.mb.pbind(boxTitleWrap,"box_loading"),showProgress:function(){Object(_dom__WEBPACK_IMPORTED_MODULE_7__.bb)(boxControlsText),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.xb)(boxProgress)},hideProgress:function(){Object(_dom__WEBPACK_IMPORTED_MODULE_7__.bb)(boxProgress),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.xb)(boxControlsText)},hide:function(e){return!(Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.v)(options.onHideAttempt)&&!options.onHideAttempt(e))&&(boxQueue._hide(guid),!0)},isVisible:function(){return visible},bodyHeight:function(){return Object(_dom__WEBPACK_IMPORTED_MODULE_7__.T)(boxBody,"height")},content:function(e){return options.onClean&&options.onClean(),"string"==typeof e?boxBody.innerHTML=e:e instanceof HTMLElement&&(boxBody.innerHTML="",boxBody.appendChild(e)),options.refreshCoordsOnTimeout?setTimeout(()=>{Object(_box_utils__WEBPACK_IMPORTED_MODULE_12__.a)(boxContainer)}):Object(_box_utils__WEBPACK_IMPORTED_MODULE_12__.a)(boxContainer),boxContainer.focus(),refreshBox(),Object(_accessibility__WEBPACK_IMPORTED_MODULE_13__.d)(),this},emit:function(e,t){emitter.emit(e,t)},addButton:function(e,t,n,r,o){var a=addButtonInternal(e,t||this.hide,n,o);return r?a:this},setButtons:function(e,t,n,r){var o=this.removeButtons();return e?(o.addButton(e,t),n&&o.addButton(n,r,"no"),o):o.addButton(Object(_lang__WEBPACK_IMPORTED_MODULE_10__.d)("box_close"))},setControlsText,removeButtons:function(){return _removeButtons(),this},setBackTitle:function(e){e?(boxTitle.innerHTML='<div class="back">'+Object(_lang__WEBPACK_IMPORTED_MODULE_10__.d)("global_box_title_back")+"</div>",boxTitleBck=options.title,options.title=boxTitle.innerHTML,setTimeout((function(){Object(_dom__WEBPACK_IMPORTED_MODULE_7__.L)("back",boxTitle).onclick=e}),100)):boxTitleBck&&(boxTitle.innerHTML=options.title=boxTitleBck,boxTitleBck=!1)},destroy:destroyMe,getOptions:function(){return options},on:function(e,t){emitter.on(e,t)},once:function(e,t){emitter.once(e,t)},updateBoxCoords:function(){Object(_box_utils__WEBPACK_IMPORTED_MODULE_12__.a)(boxContainer)},setOptions:function(e){if(options.hideOnBGClick&&Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.i)(document,"click",boxQueue.hideBGClick),options=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(options,e),"bodyStyle"in e)for(var t=options.bodyStyle.split(";"),n=0,r=t.length;n<r;n++){var o=t[n].split(":");o.length>1&&o[0].length&&(boxBody.style[Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.I)(o[0])]=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.I)(o[1]),boxBody.style.setProperty&&boxBody.style.setProperty(Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.I)(o[0]),Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.I)(o[1]),""))}return options.hideOnBGClick&&Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.b)(document,"click",boxQueue.hideBGClick),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.yb)(boxControlsWrap,!options.hideButtons),refreshBox(),options.noRefreshCoords||Object(_box_utils__WEBPACK_IMPORTED_MODULE_12__.a)(boxContainer),this},evalBox:function evalBox(js,url,params){var scr="((function() { return function() { var box = this; "+(js||"")+";}; })())";if(__debugMode){var fn=eval(scr);fn.apply(this,[url,params])}else try{var _fn=eval(scr);_fn.apply(this,[url,params])}catch(e){Object(_ui_util__WEBPACK_IMPORTED_MODULE_6__.c)(e,{dt:15,type:7,url,query:params?Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__.toQueryString)(params):void 0,js}),Object(_debug_tools__WEBPACK_IMPORTED_MODULE_4__.d)(e,scr)}},preventHideLastWithCheck:options.preventHideLastWithCheck,execInline:function(e){window.vk.inline[e](this),delete window.vk.inline[e]}};return retBox}function showBox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.d)(r))return!1;var o=n.params||{};n.containerClass&&(o.containerClass=n.containerClass);var a=Date.now().toString(36);t&&(t.boxhash=a);var i=new MessageBox(o);i.boxhash=a;var s={onDone:function(r,s,c,u){if(n.preOnDone&&n.onDone&&n.onDone(i),i.isVisible())if(__debugMode)l();else try{l()}catch(n){Object(_ui_util__WEBPACK_IMPORTED_MODULE_6__.c)(n,{dt:15,type:103,url:e,query:Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_11__.toQueryString)(t),answer:Array.prototype.slice.call(arguments).join("<!>")}),i.isVisible()&&i.hide()}else n.onDone&&n.onDone(i,u);function l(){Object(_dom__WEBPACK_IMPORTED_MODULE_7__.xb)(boxLayerBG),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.c)(bodyNode,"layers_shown"),i.setOptions({title:r,hideButtons:o.hideButtons||!1}),n.showProgress?i.show():Object(_dom__WEBPACK_IMPORTED_MODULE_7__.xb)(i.bodyNode),i.content(s),n.noEval?i.execInline(a):i.evalBox(c,e,t),n.onDone&&n.onDone(i,u)}},onFail:function(e){if(i.failed=!0,setTimeout(i.hide,0),Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.v)(n.onFail))return n.onFail(e)},cache:n.cache,stat:n.stat,fromBox:!0};return n.prgEl&&(n.showProgress=_ui_util__WEBPACK_IMPORTED_MODULE_6__.a.pbind(n.prgEl,{cls:n.prgClass,w:n.prgW,h:n.prgH,hide:!0}),n.hideProgress=_dom__WEBPACK_IMPORTED_MODULE_7__.bb.pbind("global_prg")),n.showProgress?Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(s,{showProgress:n.showProgress,hideProgress:n.hideProgress}):(i.setOptions({title:!1,hideButtons:!0}).show(),boxQueue.count()<2&&(Object(_dom__WEBPACK_IMPORTED_MODULE_7__.bb)(boxLayerBG),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.mb)(bodyNode,"layers_shown")),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.bb)(i.bodyNode),s.showProgress=function(){Object(_dom__WEBPACK_IMPORTED_MODULE_7__.xb)(boxLoader),Object(_box_utils__WEBPACK_IMPORTED_MODULE_12__.a)(boxLoader)},s.hideProgress=_dom__WEBPACK_IMPORTED_MODULE_7__.bb.pbind(boxLoader)),i.removeButtons().addButton(Object(_lang__WEBPACK_IMPORTED_MODULE_10__.d)("global_close")),ajax.post(e,t,s),i}function showTabbedBox(e,t,n,r){return(n=n||{}).stat=n.stat||[],n.stat.push(jsc("web/box.js"),"boxes.css"),showBox(e,t,n,r)}function showFastBox(e,t,n,r,o,a){return new MessageBox("string"==typeof e?{title:e}:e).content(t).setButtons(n,r,o,a).show()}function showCaptchaBox(e,t,n,r){var o=function(t){if(!t||void 0===t.keyCode||10===t.keyCode||13===t.keyCode){var o=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.O)("input",n.bodyNode);if(Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.I)(o.value)||!0===t){var a=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.O)("img",n.bodyNode)[0];Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.i)(o),Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.i)(a),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.xb)(Object(_dom__WEBPACK_IMPORTED_MODULE_7__.L)("progress",n.bodyNode)),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.bb)(o),r.onSubmit(e,o.value)}else Object(_dom__WEBPACK_IMPORTED_MODULE_7__.H)(o)}},a=!!n,i=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.r)(t)?"":"&s=1",s=r.imgSrc||"/captcha.php?sid="+e+i;if(!a){var c=`\n<div class="captcha">\n  <div><img src="${s}"/></div>\n  <div>\n    <input type="text" class="big_text" maxlength="7" placeholder="${Object(_lang__WEBPACK_IMPORTED_MODULE_10__.d)("global_captcha_input_here")}" />\n    <div class="progress" /></div>\n  </div>\n</div>`+(r.addText||"");n=showFastBox({title:Object(_lang__WEBPACK_IMPORTED_MODULE_10__.d)("captcha_enter_code"),width:305,onHide:r.onHide,onDestroy:r.onDestroy||!1},c,Object(_lang__WEBPACK_IMPORTED_MODULE_10__.d)("captcha_send"),(function(){n.submit()}),Object(_lang__WEBPACK_IMPORTED_MODULE_10__.d)("captcha_cancel"),(function(){var e=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.O)("input",n.bodyNode),t=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.O)("img",n.bodyNode);Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.i)(e),Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.i)(t),n.hide()}))}n.submit=o.pbind(!0),n.changed=!0;var u=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.O)("input",n.bodyNode),l=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.O)("img",n.bodyNode);return a&&(u.value="",l.src="/captcha.php?sid="+e+i,Object(_dom__WEBPACK_IMPORTED_MODULE_7__.bb)(Object(_dom__WEBPACK_IMPORTED_MODULE_7__.L)("progress",n.bodyNode))),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.xb)(u),Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.b)(u,"keypress",o),Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.b)(l,"click",(function(){this.src="/captcha.php?sid="+e+i+"&v="+Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.s)(1e6,2e6)})),Object(_dom__WEBPACK_IMPORTED_MODULE_7__.H)(u),n}function showReCaptchaBox(e,t,n,r){window.recaptchaResponse=function(e){r.onSubmit(e)};var o=!!n,a=!!window.grecaptcha;if(!o){a||(window.recaptchaCallback=function(){var t=Object(_box_utils__WEBPACK_IMPORTED_MODULE_12__.b)();if(t){var n=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.L)("recaptcha",t.bodyNode);n&&(Object(_dom__WEBPACK_IMPORTED_MODULE_7__.Cb)(n,""),window.grecaptcha.render(n,{sitekey:e,callback:window.recaptchaResponse}))}},headNode.appendChild(Object(_dom__WEBPACK_IMPORTED_MODULE_7__.g)("script",{type:"text/javascript",src:"https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render=explicit&hl="+t})));var i='<div class="recaptcha"></div>'+(r.addText||"");n=showFastBox({title:Object(_lang__WEBPACK_IMPORTED_MODULE_10__.d)("global_recaptcha_title"),width:354,onHide:r.onHide,onDestroy:r.onDestroy||!1},i,Object(_lang__WEBPACK_IMPORTED_MODULE_10__.d)("captcha_cancel"));var s=Object(_dom__WEBPACK_IMPORTED_MODULE_7__.L)("recaptcha",n.bodyNode);s.id="recaptcha"+(n.guid?n.guid:"0"),Object(_ui__WEBPACK_IMPORTED_MODULE_3__.u)(s)}return o&&a?window.grecaptcha.reset():a&&window.recaptchaCallback(),n.changed=!0,n}},EbDI:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},EemH:function(e,t,n){var r=n("UqcF"),o=n("RjD/"),a=n("aCFj"),i=n("apmT"),s=n("aagx"),c=n("xpql"),u=Object.getOwnPropertyDescriptor;t.f=n("nh4g")?u:function(e,t){if(e=a(e),t=i(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},Egk5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"c",(function(){return _})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return b}));n("HEwt"),n("KKXr");var r=n("zxIV"),o=n("t7n3"),a=n("gdug"),i={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16};function s(e){return e>=49&&e<=57&&e-48}function c(e,t,n,a,i,s){if((e=Object(r.J)(e))&&3!=e.nodeType&&8!=e.nodeType){var c,u=i?((c=function(e){var t=e.data;e.data=i;var r=n.apply(this,[e]);return e.data=t,r}).handler=n,c):n;e.setInterval&&e!==window&&(e=window);var l=Object(r.l)(e,"events")||Object(r.l)(e,"events",{}),_=Object(r.l)(e,"handle")||Object(r.l)(e,"handle",function(e){return function(){p.apply(e,arguments)}}(e));Object(o.f)(t.split(/\s+/),(function(t,n){l[n]||(l[n]=[],!a&&e.addEventListener?e.addEventListener(n,_,s):!a&&e.attachEvent&&e.attachEvent("on"+n,_)),l[n].push(u)}))}}function u(e,t,n,a){if(void 0===a&&(a=!1),e=Object(r.J)(e)){var i=Object(r.l)(e,"events");if(i)if("string"==typeof t)Object(o.f)(t.split(/\s+/),(function(t,s){if(Object(o.t)(i[s])){var c=i[s].length;if(Object(o.v)(n)){for(var u=c-1;u>=0;u--)if(i[s][u]&&(i[s][u]===n||i[s][u].handler===n)){i[s].splice(u,1),c--;break}}else{for(var l=0;l<c;l++)delete i[s][l];c=0}c||(e.removeEventListener?e.removeEventListener(s,Object(r.l)(e,"handle"),a):e.detachEvent&&e.detachEvent("on"+s,Object(r.l)(e,"handle")),delete i[s])}})),Object(o.u)(i)&&(Object(r.ob)(e,"events"),Object(r.ob)(e,"handle"));else for(var s in i)i.hasOwnProperty(s)&&u(e,s)}}function l(e,t,n,a){e=Object(r.J)(e);var i=Object(r.l)(e,"handle");if(i){var s=()=>i.call(e,Object(o.i)(n||{},{type:t,target:e}));a?s():setTimeout(s,0)}}function _(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.cancelBubble=!0,e.returnValue=!1,!1}function d(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function p(e){e=f(e);var t=Array.from(arguments);t[0]=e;var n=Object(r.l)(this,"events");if(n&&"string"==typeof e.type&&n[e.type]&&n[e.type].length){var o=(n[e.type]||[]).slice();for(var a in o)if(o.hasOwnProperty(a)){if("mouseover"===e.type||"mouseout"===e.type){for(var i=e.relatedElement;i&&i!==this;)i=i.parentNode;if(i===this)continue}var s=o[a].apply(this,t);if(!1!==s&&-1!==s||_(e),-1===s)return!1}}}function f(e){var t=e=e||window.event;if((e=Object(o.d)(t)).originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target),null==e.pageX&&null!=e.clientX){var n=document.documentElement,r=bodyNode;e.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey?e.metaKey=e.ctrlKey:!e.ctrlKey&&e.metaKey&&a.a.mac&&(e.ctrlKey=e.metaKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e}function h(e){var t=e||window.event;return t&&("click"===t.type||"mousedown"===t.type||"mouseup"===t.type)&&(t.which>1||t.button>1||t.ctrlKey||t.shiftKey||a.a.mac&&t.metaKey)||!1}function m(e){if(!(e=f(e))||!e.target)return!1;if(!e.screenX)return!0;var t=Object(r.S)(e.target),n=Object(r.V)(e.target),o=e.pageX-n[0],a=e.pageY-n[1];return o<-1||o>t[0]+1||a<-1||a>t[1]+1||Math.abs(e.pageX-n[0]-t[0]/2)<1&&Math.abs(e.pageY-n[1]-t[1]/2)<1}function b(e,t){if(!e)return!0;e=e.originalEvent||e,t=t||e.target;var n=e.fromElement||e.relatedTarget;if(!n||n===t||n===t.parentNode)return!0;for(;n!==t&&n.parentNode&&n.parentNode!==bodyNode;)n=n.parentNode;return n!==t}},El3O:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"j",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return j})),n.d(t,"g",(function(){return D})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return k})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return T}));n("pIFo");var r,o=n("t7n3"),a=n("zxIV"),i=n("lXE5"),s=n("kHqu"),c=n("v+DW"),u=n("m0N1"),l=n("7jxN"),_=n("Egk5"),d=n("i6oL"),p=n("gdug"),f=n("ErRf"),h=n("/PiP"),m=n("QGEU");function b(){var e=Object(a.J)("page_header");return r=r||(e?e.offsetHeight:0)}function g(){cur.__narrowBar=cur.__narrowBar||{},cur.__narrowBar.bar=cur.__narrowBar.bar||Object(a.J)("narrow_column"),cur.__narrowBar.barBlock=cur.__narrowBar.bar&&Object(a.L)("page_block",cur.__narrowBar.bar),cur.__narrowBar.wideCol=cur.__narrowBar.wideCol||Object(a.J)("wide_column"),cur.__narrowBar.isBarFixed=cur.__narrowBar.isBarFixed||"fixed"===Object(a.T)(cur.__narrowBar.bar,"position"),cur.__narrowBar.pl=cur.__narrowBar.pl||Object(a.J)("page_layout");var e=cur.__narrowBar.bar,t=cur.__narrowBar.barBlock,n=cur.__narrowBar.wideCol,r=Object(i.e)();if(!p.a.mobile&&e&&t&&n&&!Object(a.fb)(boxLoader)&&!Object(a.fb)(boxLayerBG)&&!Object(a.fb)(layerBG)){var s,c=window.lastWindowHeight||0,u=Math.min(r,bodyNode.clientHeight-c),l=cur.__narrowBar.pl,_=vk.staticheader?Math.max(0,b()-u):b(),d=cur.__narrowBar.isBarFixed,f=Object(o.k)(Object(a.T)(cur.__narrowBar.barBlock,"marginTop")),h=Object(a.S)(e)[1]-(d?f:0),m=Object(a.S)(n)[1],g=Object(a.V)(n)[1],v=h>=m-f,y=f,O=u+c-m-g-y,w=Math.max(0,O),E=g-_,j=Object(a.V)(e)[1]+(d?f:0),D=cur.__narrowBar.lastSt||0,P=cur.__narrowBar.lastStyles||{},k=_+y+h+f+w<=c&&!cur.narrowHide,C=cur.__narrowBarForceNotFixed,T=!1;u-1<E&&!(k&&p.a.msie&&j<_+f)||v?s={marginTop:0}:!C&&(u-1<Math.min(D,j-_-f)||k)?(s={top:_,marginLeft:Math.min(-bodyNode.scrollLeft,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-Object(a.S)(l)[0]))},T=!0):!C&&(u+1>Math.max(D,j+h+y-c)&&O<0&&!cur.narrowHide||cur.narrowHide&&u+1>Math.max(D,j+h-_))?(s={bottom:cur.narrowHide?c-_:y,marginLeft:Math.min(-bodyNode.scrollLeft,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-Object(a.S)(l)[0]))},T=!0):s={marginTop:O>=0?m-h:Math.min(j-g,m-h+E)},function(e,t){var n=Object(o.d)(e),r=Object(o.d)(t);return Object(o.f)(n,(function(e,t){"position"!==e&&(n[e]=Math.round(t))})),Object(o.f)(r,(function(e,t){"position"!==e&&(r[e]=Math.round(t))})),JSON.stringify(n)===JSON.stringify(r)}(s,P)||(Object(o.f)(P,(function(e){P[e]=null})),Object(a.vb)(e,Object(o.i)(P,s)),cur.__narrowBar.lastStyles=s),T!==d&&Object(a.zb)(e,"fixed",T),cur.__narrowBar.lastSt=u,cur.__narrowBar.isBarFixed=T}}function v(){var e=Object(a.J)("content");e&&(Object(a.zb)(e,"page_block",!Object(a.L)("page_block",e)),Object(m.d)())}function y(e,t){e&&"fixed"===Object(a.T)(e,"position")&&(t?Object(a.mb)(e,t):Object(a.vb)(e,{position:"relative"}),e.offsetLeft,t?Object(a.c)(e,t):Object(a.vb)(e,{position:"fixed"}))}function O(){if(window.pageNode){var e=Math.min(0,Math.max(-bodyNode.scrollLeft,bodyNode.clientWidth-Object(a.S)(Object(a.J)("page_layout"))[0]));p.a.mobile||vk.staticheader||Object(s.i)({marginLeft:e}),Object(s.j)(),g(),Object(c.y)()}}function w(e){if(window.pageNode){var t=document.documentElement,n=t.clientWidth,r=t.clientHeight,i=Object(c.t)(),l=Math.max(Object(o.r)(window.innerWidth),Object(o.r)(n)),_=Math.max(Object(o.r)(window.innerHeight),Object(o.r)(r)),f=!1;if(p.a.mobile&&(l=Math.max(l,Object(o.r)(bodyNode.scrollWidth)),_=Math.max(_,Object(o.r)(bodyNode.scrollHeight))),window.lastWindowWidth!==l||!0===e){f=!0,window.lastInnerWidth=window.lastWindowWidth=l,layerWrap.style.width=boxLayerWrap.style.width=l+"px";var m=layer.style.width=boxLayer.style.width=l-i-2+"px";if(window.mvLayerWrap&&!mvcur.minimized&&(mvLayerWrap.style.width=l+"px",mvLayer.style.width=m),window.wkLayerWrap&&(wkLayerWrap.style.width=l+"px",wkLayer.style.width=m),bodyNode.offsetWidth<vk.width+i+2&&(l=vk.width+i+2),l)for(var b=pageNode.firstChild;b;b=b.nextSibling)if(b.tagName){for(var v=(window.lastInnerWidth=l-i-1)-1,O=b.firstChild;O;O=O.nextSibling)"scroll_fix"===O.className&&(O.style.width=v+"px");document.documentElement.style.setProperty("--scroll-fixed-width",v+"px"),vk.staticheader||Object(s.i)({width:v})}}if((window.lastWindowHeight!==_||!0===e)&&(f=!0,window.lastWindowHeight=_,layerBG.style.height=boxLayerBG.style.height=layerWrap.style.height=boxLayerWrap.style.height=_+"px",window.mvLayerWrap&&!mvcur.minimized&&(mvLayerWrap.style.height=_+"px"),window.wkLayerWrap)){var w=p.a.mobile?window.innerHeight:_;wkLayerWrap.style.height=w+"px"}if(vk.noSideTop||Object(c.y)(1),f&&window.curRBox&&window.curRBox.boxes&&window.getWndInner){var E=getWndInner();Object(o.f)(curRBox.boxes,(e,t)=>t._wnd_resize(E[0],E[1]))}setTimeout(u.c,0);var j=Object(h.l)();j.audioLayer&&j.audioLayer.isShown()&&j.audioLayer.updatePosition(),cur.pvShown&&window.Photoview&&setTimeout(Photoview.updatePhotoDimensions),window.tooltips&&tooltips.rePositionAll(),cur.lSTL&&Object(a.vb)(cur.lSTL,{width:Math.max(Object(a.V)(cur.lSTL.el)[0],0),height:_-1}),Object(a.J)("dev_top_nav")&&Object(a.vb)(Object(a.J)("dev_top_nav","left",null));var D=Object(a.K)("ui_search_fixed"),P=Object(a.J)("narrow_column");Object(o.f)(D,(function(){y(this,"ui_search_fixed"),setTimeout(y.pbind(this,"ui_search_fixed"),0)})),P&&(y(P,"fixed"),setTimeout(y.pbind(P,"fixed"),0)),Object(s.j)(),g(),Object(d.b)()}}function E(e){var t=1;e.id||(e=Object(a.J)("left_hide"+e),t=0),!t&&e.timer||(e.showing?Object(a.lb)(e,"showing"):(Object(l.b)(e,{opacity:t?1:.5},200),t&&(e.showing=1))),e.timer&&(clearTimeout(e.timer),Object(a.lb)(e,"timer"))}function j(e){var t=.5;e.id||(e=Object(a.J)("left_hide"+e),t=0),e.timer=setTimeout((function(){Object(l.b)(e,{opacity:t},200),Object(a.lb)(e,"timer")}),1)}function D(e,t,n){var r={act:"hide_block",block:e,hash:t};n&&(r.block=n),ajax.post("al_index.php",r,{onDone:u.c}),Object(a.bb)("left_block"+e)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=Object(a.J)(e))if(e.autosize)e.autosize.update();else{t.minHeight=Object(o.r)(t.minHeight)||Object(o.r)(Object(a.T)(e,"height")),t.maxHeight=Object(o.r)(t.maxHeight);var n=Object(a.S)(e)[0]||Object(o.r)(Object(a.T)(e,"width")),r=Object(a.T)(e,"fontSize"),i=Object(a.T)(e,"lineHeight");n<1&&(n=Object(o.r)(Object(a.T)(e,"width",!1))),r.indexOf("em")>0&&(r=Object(o.k)(r)*vk.fs),r=Object(o.r)(r);var s={width:n,height:10,fontFamily:Object(a.T)(e,"fontFamily"),fontSize:r+"px",lineHeight:i,boxSizing:Object(a.T)(e,"boxSizing")},c=["Top","Bottom","Left","Right"];Object(o.f)(c,(function(){s["padding"+this]=Object(a.T)(e,"padding"+this)})),e.autosize={options:t,helper:Object(a.g)("textarea",{className:"ashelper"},s),handleEvent:function(t,n){var r=n.charCode?String.fromCharCode(n.charCode):n.charCode;if(void 0===r&&(r=String.fromCharCode(n.keyCode),10===n.keyCode||13===n.keyCode?r="\n":!p.a.msie&&n.keyCode<=40&&(r="")),!r)return t;if(!p.a.msie)return t.substr(0,e.selectionStart)+r+t.substr(e.selectionEnd);var o=document.selection.createRange();return o.text&&(t=t.replace(o.text,"")),t+r},update:function(t){var n=e.value;!t||"blur"===t.type||"keyup"===t.type||p.a.msie&&"keypress"!==t.type||t.ctrlKey||t.altKey||t.metaKey||(n=e.autosize.handleEvent(n,t)),n||(n=" "),e.autosize.helper.value!==n&&(e.autosize.helper.value=n);var r=e.autosize.options,s=Object(a.S)(e,!0)[1],c=e.autosize.helper.scrollHeight,u=c%i;r.exact&&u>2&&(c-=u-2),c<r.minHeight&&(c=r.minHeight);var l={overflow:"hidden"},_=Object(a.T)(e,"overflow").indexOf("auto")>-1?"auto":"hidden";r.maxHeight&&c>r.maxHeight&&(c=r.maxHeight,Object(o.i)(l,{overflow:"auto",overflowX:"hidden"})),r.addHeight&&(c+=r.addHeight),s===c&&_===l.overflow||(l.height=c,Object(a.vb)(e,l),Object(o.v)(r.onResize)&&r.onResize(c))}},t.exact&&("normal"===i&&(i="120%"),i.indexOf("%")>0&&(i=r*Object(o.r)(i)/100)),utilsNode.appendChild(e.autosize.helper),p.a.opera_mobile?(Object(a.vb)(e,{overflow:"hidden"}),e.autosize.update(),Object(_.b)(e,"blur",e.autosize.update)):(Object(_.b)(e,"keydown keyup keypress change",e.autosize.update),setTimeout(()=>{Object(a.vb)(e,{overflow:"hidden",resize:"none"});var t=Object(a.Cb)(e);Object(a.Cb)(e," ",!0),Object(a.Cb)(e,t,!0),e.autosize.update()},0))}}var k={init:function(){if(this.inited)return!1;var e=Object(a.J)("top_profile_link"),t=Object(a.J)("top_profile_menu");if(!e||!t)return!1;Object(_.b)(e,"mousedown",k.clicked),this.inited=!0},clicked:function(e){return Object(_.d)(e)||"mousedown"===e.type&&Object(_.e)(e)||k.toggle(),!1},toggle:function(e){var t=Object(a.J)("top_profile_link"),n=Object(a.J)("top_profile_menu"),r=Object(a.ab)(n,"shown");void 0!==e&&r===e||(void 0===e&&(e=!r),Object(a.zb)(t,"active",e),Object(a.zb)(n,"shown",e),e?(Object(f.c)("top_menu",k.toggle.bind(this,!1),!0),cur.introExitTooltipHide&&(cur.introExitTooltipHide(),delete cur.introExitTooltipHide)):Object(f.a)("top_menu",!0))},show:function(){k.hidetimer&&(clearTimeout(k.hidetimer),k.hidetimer=0),k.toggle(!0)},hide:function(){k.hidetimer||(k.hidetimer=setTimeout((function(){k.toggle(!1),k.hidetimer=0}),200))},select:function(e,t){return!!Object(_.d)(t)||(k.toggle(!1),nav.go(e,t,{noback:!0}))}};function C(e,t){return Object(a.qb)(vk.pr_tpl,{id:e||"",cls:t||""})}function T(e){return Object(a.L)("ui_progress_bar",e)}},Emh1:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("VRzm"),n("Btvt"),n("KKXr");var r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMN0PQRSTUVWXYZO123456789+/=",o={v:function(e){return e.split("").reverse().join("")},r:function(e,t){var n;e=e.split("");for(var o=r+r,a=e.length;a--;)~(n=o.indexOf(e[a]))&&(e[a]=o.substr(n-t,1));return e.join("")},s:function(e,t){var n=e.length;if(n){var r=function(e,t){var n=e.length,r=[];if(n){var o=n;for(t=Math.abs(t);o--;)t=(n*(o+1)^t+o)%n,r[o]=t}return r}(e,t),o=0;for(e=e.split("");++o<n;)e[o]=e.splice(r[n-1-o],1,e[o])[0];e=e.join("")}return e},i:function(e,t){return o.s(e,t^vk.id)},x:function(e,t){var n=[];return t=t.charCodeAt(0),each(e.split(""),(function(e,r){n.push(String.fromCharCode(r.charCodeAt(0)^t))})),n.join("")}};function a(e){if((!window.wbopen||!~(window.open+"").indexOf("wbopen"))&&~e.indexOf("audio_api_unavailable")){var t,n,r=e.split("?extra=")[1].split("#"),a=""===r[1]?"":i(r[1]);if(r=i(r[0]),"string"!=typeof a||!r)return e;for(var s=(a=a?a.split(String.fromCharCode(9)):[]).length;s--;){if(t=(n=a[s].split(String.fromCharCode(11))).splice(0,1,r)[0],!o[t])return e;r=o[t].apply(null,n)}if(r&&"http"===r.substr(0,4))return r}return e}function i(e){if(!e||e.length%4==1)return!1;for(var t,n,o=0,a=0,i="";n=e.charAt(a++);)~(n=r.indexOf(n))&&(t=o%4?64*t+n:n,o++%4)&&(i+=String.fromCharCode(255&t>>(-2*o&6)));return i}var s=n("YQfe"),c=n("C13D");var u=n("egla"),l=n("XMCv"),_=n("VBqm"),d=n("Xrg9"),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(){function e(e,t){var n=this;this.fullyLoaded=!1,this.url="",this.audioElement=new Audio,this.audioElement.crossOrigin="anonymous",this.audioElement.preload="auto",this.volume=e.volume,this.addEventListeners(e),t&&this.setUrl(t).then((function(){n.audioElement.load()}));var r=new u.c;this.audioNetworkStatCollector=new u.a(r)}return Object.defineProperty(e.prototype,"isFullyLoaded",{get:function(){return this.fullyLoaded},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this.audioElement.error||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"played",{get:function(){return this.audioElement.played},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hls",{get:function(){return this.hlsInstance||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return isFinite(this.audioElement.duration)?this.audioElement.duration:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this.audioElement.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.audioElement.currentTime},set:function(e){this.audioElement.currentTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.audioElement.volume},set:function(e){this.audioElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{set:function(e){this.audioElement.playbackRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentProgress",{get:function(){return isNaN(this.audioElement.duration)?0:Math.max(0,Math.min(1,this.audioElement.currentTime/this.audioElement.duration))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentBuffered",{get:function(){return this.audioElement.buffered.length?Math.min(1,this.audioElement.buffered.end(0)/this.audioElement.duration):0},enumerable:!1,configurable:!0}),e.prototype.play=function(){return Object(_.a)(this.audioElement).catch((function(e){switch(e.code){case e.NOT_SUPPORTED_ERR:case e.ABORT_ERR:break;default:throw e}}))},e.prototype.pause=function(){this.audioElement.pause()},e.prototype.addEventListeners=function(e){var t=this;this.audioElement.addEventListener("pause",(function(){return e.onPause()})),this.audioElement.addEventListener("play",(function(){return e.onPlay()})),this.audioElement.addEventListener("progress",(function(){if(e.onBufferUpdate(),!t.hlsInstance){var n=t.audioElement.buffered;n.length&&Math.abs(n.end(n.length-1)-t.audioElement.duration)<1&&(t.fullyLoaded=!0)}})),this.audioElement.addEventListener("timeupdate",(function(){e.onProgressUpdate&&e.onProgressUpdate()})),this.audioElement.addEventListener("ended",(function(){e.onEnd&&e.onEnd()})),this.onFail=e.onFail||function(){},this.audioElement.addEventListener("error",(function(){t.onFail()})),this.audioElement.addEventListener("canplay",(function(){e.onCanPlay&&e.onCanPlay()})),this.audioElement.addEventListener("durationchange",(function(){e.onDurationChange&&e.onDurationChange()}))},e.isHlsUrl=function(e){return a(e).includes(".m3u8")},e.prototype.setUrl=function(t){var n=this,r=a(t);return this.url=r,e.isHlsUrl(r)&&!e.shouldUseNativeHls()&&"function"==typeof window.MediaSource?this.initHls(r).catch((function(){return n.onFail()})):(this.hlsInstance&&this.hlsInstance.destroy(),this.audioElement.src=r,this.audioElement.load(),Promise.resolve())},e.shouldUseNativeHls=function(){var e=window.browser.version.split(".")[0],t=parseInt(e);return window.browser.safari||window.browser.msie_edge&&t>11&&t<78},e.prototype.initHls=function(t){var n=this;return e.loadHls().then((function(e){var r=e.default;return new Promise((function(e){var o=!1,a=!!d.a.get("_audio_hls_debug");n.hlsInstance&&n.hlsInstance.destroy();var i=new r({debug:a,maxBufferHole:3,nudgeOffset:.5,nudgeMaxRetry:5,maxFragLookUpTolerance:.2});i.on(r.Events.BUFFER_EOS,(function(){return n.fullyLoaded=!0})),i.on(r.Events.ERROR,(function(e,t){t.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(o=!0),(a||t.fatal)&&console.log("audio hls error",e,t),t.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(i.stopLoad(),i.startLoad()),t.fatal&&n.onFail({type:t.type,details:t.details,url:t.frag&&t.frag.url||t.context&&t.context.url,code:t.networkDetails?t.networkDetails.status:0})})),i.on(r.Events.FRAG_BUFFERED,(function(e,t){var r=function(){try{return window.isMVK?window.audio.getCurrent():Object(c.a)(window.getAudioPlayer().getCurrentAudio())}catch(e){return{id:0,ownerId:0}}}(),a={owner_id:r.ownerId,audio_id:r.id,fragment_id:t.frag.sn.toString(),fragment_duration:Math.ceil(1e3*t.frag.duration).toString(),time_to_first_byte:Math.ceil(t.stats.tfirst-t.stats.trequest).toString(),time_to_first_frame:Math.ceil(t.stats.tload-t.stats.trequest).toString(),buffering_time:Math.ceil(t.stats.tbuffered-t.stats.trequest).toString()};o&&n.audioNetworkStatCollector.logEvent(p(p({},a),{event_type:u.b.FRAGMENT_STALLED}),l.a.getConnectionType(),l.a.getConnectionEffectiveType()),o=!1,n.audioNetworkStatCollector.logEvent(p(p({},a),{event_type:u.b.FRAGMENT_LOADED}),l.a.getConnectionType(),l.a.getConnectionEffectiveType())})),i.loadSource(t),i.attachMedia(n.audioElement),n.hlsInstance=i,e()}))}))},e.loadHls=function(){return n.e("hls").then(n.t.bind(null,"ulZh",7))},e}();class h{constructor(e){this.type="html5",this.opts=e||{},this._audioNodes=[],this._currentAudioEl=this._createAudioNode(),this._prefetchAudioEl=this._createAudioNode()}destroy(){}getPlayedTime(){for(var e=this._currentAudioEl.played,t=0,n=0;n<e.length;n++)t+=e.end(n)-e.start(n);return t}getCurrentTime(){return this._currentAudioEl.currentTime}clearAudioNode(){this._currentAudioEl=this._createAudioNode(s.b)}isCurrent(e){return e===this._currentAudioEl}_createAudioNode(e){var t=new f({onBufferUpdate:()=>{this.isCurrent(t)&&this.opts.onBufferUpdate(this.getCurrentBuffered())},onProgressUpdate:()=>{this.isCurrent(t)&&this.opts.onProgressUpdate(this.getCurrentProgress(),this.getPlayedTime(),this.getCurrentTime())},onEnd:()=>{this.isCurrent(t)&&t.src!==s.b&&this.opts.onEnd()},onSeeked:()=>{this.isCurrent(t)&&this.opts.onSeeked()},onSeek:()=>{this.isCurrent(t)&&this.opts.onSeek()},onFail:e=>{this._prefetchAudioEl===t?this._prefetchAudioEl=this._createAudioNode():this.isCurrent(t)&&t.src!==s.b&&(this._hlsError=e,this.opts.onFail&&this.opts.onFail())},onDurationChange:()=>{this.isCurrent(t)&&this._seekOnReady&&t.duration>0&&(this.seek(this._seekOnReady),this._seekOnReady=!1)},onCanPlay:()=>{this.isCurrent(t)&&this.opts.onCanPlay&&this.opts.onCanPlay()},onPause:this.opts.onPause,onPlay:this.opts.onPlay,volume:this.hasOwnProperty("_volume")?this._volume:this.opts.defaultVolume},e);return t}onReady(e){e()}prefetch(e){this._prefetchAudioEl&&this._prefetchAudioEl.url===a(e)||(this._prefetchAudioEl=this._createAudioNode(e))}seek(e){var t=this._currentAudioEl;t.duration>0&&t.src&&t.src!==s.b?t.currentTime=t.duration*e:this._seekOnReady=e}setVolume(e){void 0===e&&(e=this._currentAudioEl.volume),this._currentAudioEl.volume=e,this._prefetchAudioEl&&(this._prefetchAudioEl.volume=e),this._volume=e}setPlaybackRate(e){this._currentAudioEl.playbackRate=e}getCurrentProgress(){return this._currentAudioEl.currentProgress}getCurrentBuffered(){return this._currentAudioEl&&this._currentAudioEl.currentBuffered}getDuration(){return this._currentAudioEl&&this._currentAudioEl.duration}isFullyLoaded(){return this._currentAudioEl.isFullyLoaded}setUrl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(!e)return n&&n(!1);var r=a(e),o=this._currentAudioEl;if(this._currentAudioEl.src&&this._currentAudioEl.src!==s.b&&(this._seekOnReady=!1),this._currentAudioEl.src===r)return this.opts.onCanPlay&&this.opts.onCanPlay(),void(n&&n(!0));if(this._prefetchAudioEl){if(this._prefetchAudioEl.src===r)return this._currentAudioEl.pause(),this._currentAudioEl.setUrl(s.b),this._prefetchAudioEl.readyState>=3&&setTimeout(()=>this.opts.onCanPlay&&this.opts.onCanPlay()),this._currentAudioEl=this._prefetchAudioEl,this._prefetchAudioEl=null,void(n&&n(!0));r!==s.b&&this._prefetchAudioEl.setUrl(s.b)}o.src!==r&&(t=o.setUrl(r).then(()=>this._stopFrequencyAnalise())),t?t.then(()=>n(!0)).catch(()=>n(!1)):n(!0)}play(){this._stopFrequencyAnalise();var e=this._currentAudioEl;if(e.src){var t=e.play();return this._startFrequencyAnalise(),t}return Promise.resolve()}preparePlay(){if(browser.safari)return this._currentAudioEl.play()}_startFrequencyAnalise(){function e(e,t,n,r){return(n-t)*e/r+t}function t(e,t){return Math.random()*(t-e)+e}this._stopFrequencyAnalise();var n=999,r=null,o=null;this._freqUpdateInterval=setInterval(()=>{var a;this._currentAudioEl.paused?a=[0,0,0,0]:(++n>3&&(n=0,r=o,o=[t(.7,1),t(.55,.8),t(.3,.55),t(.03,.45)],r||(r=[t(.7,1),t(.55,.8),t(.3,.55),t(.03,.45)])),a=[e(n,r[0],o[0],3),e(n,r[1],o[1],3),e(n,r[2],o[2],3),e(n,r[3],o[3],3)]),this.opts.onFrequency&&this.opts.onFrequency(a)},50)}_stopFrequencyAnalise(){clearInterval(this._freqUpdateInterval),this.opts.onFrequency&&this.opts.onFrequency([0,0,0,0])}pause(){this._currentAudioEl.pause(),this._stopFrequencyAnalise()}stop(){this._currentAudioEl.pause(),this.seek(0),this._stopFrequencyAnalise()}_setFadeVolumeInterval(e){if(e){if(!this._fadeVolumeWorker&&window.Worker&&window.Blob){var t=new Blob(["\n          var interval;\n          onmessage = function(e) {\n            clearInterval(interval);\n            if (e.data == 'start') {\n              interval = setInterval(function() { postMessage({}); }, 20);\n            }\n          }\n        "]);try{this._fadeVolumeWorker=new Worker(window.URL.createObjectURL(t))}catch(e){this._fadeVolumeWorker=!1}}this._fadeVolumeWorker?(this._fadeVolumeWorker.onmessage=e,this._fadeVolumeWorker.postMessage("start")):this._fadeVolumeInterval=setInterval(e,60)}else this._fadeVolumeWorker&&(this._fadeVolumeWorker.terminate(),this._fadeVolumeWorker=null),this._fadeVolumeInterval&&clearInterval(this._fadeVolumeInterval)}fadeVolume(e,t,n){e=Math.max(0,Math.min(1,e));var r=this._currentAudioEl,o=0;if(t){var a=e-r.volume;o=a/(t/20||1)}else o=e<r.volume?-.06:.001;if(Math.abs(e-r.volume)<=.001)return this._setFadeVolumeInterval(),n&&n();var i=r.volume;this._setFadeVolumeInterval(()=>{!t&&o>0&&(o*=1.35),i+=o;if(o<0?i<=e:i>=e)return this.setVolume(e),this._setFadeVolumeInterval(),n&&n();this.setVolume(i)})}getErrorData(){var e=this._currentAudioEl.error||{};return{is_hls:this._currentAudioEl.hls?1:0,url:this._currentAudioEl.src,error_code:e.code,error_message:e.message,hls_error:this._hlsError?JSON.stringify(this._hlsError):null}}}},ErRf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n("Bszp");function o(e,t){var n=window.cancelStack||[];return t&&Object(r.b)(),window.cancelStack=n.filter(t=>t.name!==e),window.cancelStack}function a(e,t,n){return n&&Object(r.c)((function(){t(),o(e)})),window.cancelStack=o(e).concat([{func:t,name:e,dclick:n}]),window.cancelStack}function i(e){var t=window.cancelStack||[];Object(r.b)(),t.length>0&&t.pop().func(e);var n=t[t.length-1];return n&&n.dclick&&Object(r.c)((function(){n.func(e),o(n.name)})),window.cancelStack=t,window.cancelStack}},FJW5:function(e,t,n){var r=n("hswa"),o=n("y3w9"),a=n("DVgA");e.exports=n("nh4g")?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),s=i.length,c=0;s>c;)r.f(e,n=i[c++],t[n]);return e}},FWc3:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n("zxIV"),o=n("Egk5"),a=n("t7n3");function i(e,t){(vk.loaded||t.noload)&&e&&(e.temphide||(e.temphide=function(){e.showing=!1},Object(o.b)(e,"mouseout",e.temphide)),e.showing=!0,"loadingstat"!==e.tt&&(e.tt||(e.tt="loadingstat"),cur.cancelTooltip=!1,t.stat&&stManager.add(t.stat),stManager.add([jsc("web/tooltips.js"),"tooltips.css"],(function(){"loadingstat"===e.tt&&(e.tt=!1),e.showing&&!cur.cancelTooltip&&(!function(e){e.temphide&&(Object(o.i)(e,"mouseout",e.temphide),Object(r.lb)(e,"temphide"),Object(r.lb)(e,"showing"))}(e),e.tt&&e.tt.el&&!t.force||(tooltips.create(e,t),t.onCreate&&t.onCreate()),tooltips.show(e,t))}))))}function s(e,t,n,o){e=Object(r.J)(e);n||(n=[Math.round(20-Object(r.S)(e)[0]/2),8]);i(e,Object(a.i)({text:function(){return t||e.getAttribute("data-title")},shift:n,black:1},o||{}))}function c(e,t){t=t||{};i(e=Object(r.J)(e),Object(a.i)({text:function(){return e.getAttribute("data-title")},dir:"auto",width:300,shift:[22,8]},t))}},FaHp:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("jm8g"),o=function(e,t){Object(r.b)(e,t)}},FbVm:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return O})),n.d(t,"j",(function(){return E})),n.d(t,"i",(function(){return j})),n.d(t,"d",(function(){return r.l})),n.d(t,"g",(function(){return r.n})),n.d(t,"h",(function(){return r.o})),n.d(t,"c",(function(){return r.d})),n.d(t,"m",(function(){return D})),n.d(t,"l",(function(){return P})),n.d(t,"k",(function(){return k})),n.d(t,"n",(function(){return C}));var r=n("r0fY"),o=n("J8bf"),a=function(){function e(){this.productStatCollector=new b,this.actionStatCollector=new v(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,a){var i;void 0===a&&(a="");var s={campaign:e,source:n,event:t,unauth_id:Object(o.a)("remixstid")};a&&(s.url=a);var c=((i={type:r.a.TYPE_MARKETING_TRANSITION_ITEM})[r.a.TYPE_MARKETING_TRANSITION_ITEM]=s,i);this.actionStatCollector.logEvent(c)},e}(),i=function(){function e(){this.productStatCollector=new b,this.actionStatCollector=new v(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var a,i={webview_url:e,mini_app_id:t,event:n,error:o},s=((a={type:r.a.TYPE_BRIDGE_EVENT_ITEM})[r.a.TYPE_BRIDGE_EVENT_ITEM]=i,a);this.actionStatCollector.logEvent(s)},e}(),s=function(){function e(){this.productStatCollector=new b,this.actionStatCollector=new v(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var a,i={egg_id:e,egg_event_id:t,position_id:n,event_type:o},s=((a={type:r.a.TYPE_EASTER_EGGS_ITEM})[r.a.TYPE_EASTER_EGGS_ITEM]=i,a);this.actionStatCollector.logEvent(s)},e}(),c=function(){function e(){this.productStatCollector=new b,this.clickStatCollector=new O(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n){var o,a={type:n},i=((o={type:r.b.TYPE_MINI_APP_ITEM})[r.b.TYPE_MINI_APP_ITEM]=a,o),s={type:t,id:e};this.clickStatCollector.logEvent(i,s)},e}(),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(){function e(){this.productStatCollector=new b,this.viewStatCollector=new E(this.productStatCollector)}return e.prototype.logEvent=function(e,t,n,o){var a;void 0===n&&(n=""),void 0===o&&(o="");var i=u(u({},e),t),s=((a={type:r.p.TYPE_MINI_APPS_VIEW_ITEM})[r.p.TYPE_MINI_APPS_VIEW_ITEM]=i,a.start_view=n,a.end_view=o,a);this.viewStatCollector.logEvent(s,e)},e}(),_=n("HLtZ"),d=n("W9Tc"),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(){function e(e){this.ProductionStatCollector=e,this.tabId=this.ProductionStatCollector.getIntId()%128}return e.prototype.logEvent=function(e){var t,n=p(p({},this.ProductionStatCollector.getBaseEvent()),((t={type:r.m.TYPE_NAVGO})[r.m.TYPE_NAVGO]=e,t));return this.ProductionStatCollector.logEvent(n),{statEvent:n}},e.prototype.getEventTabOpen=function(e){return{subtype:r.l.TAB_OPEN,tab_id:this.tabId,screen:e}},e.prototype.getEventMove=function(e,t){var n,o,a=this.lastStatEvents,i=this.lastNavEvents;return a&&i?(i.subtype===r.l.TAB_OPEN?n=i.screen:(n=i.screen_to,o=i.screen),{prev_navgo_id:a.id,subtype:t,screen:n,screen_to:e,screen_prev:o,prev_navgo_timestamp:a.timestamp,tab_id:this.tabId}):(Object(_.c)(new Error("NavigationStatCollector: previous event not found.")),null)},e.prototype.addStatEvent=function(e,t){if(void 0===t&&(t=r.l.GO),Object(d.b)("navigation_timespent")){var n;if(t===r.l.TAB_OPEN)n=this.getEventTabOpen(e);else{var o=this.getEventMove(e,t);if(!o)return;n=o}var a=this.logEvent(n).statEvent;this.lastStatEvents=a,this.lastNavEvents=n}},e.prototype.getModule=function(){var e,t;return null!==(t=null===(e=window.cur)||void 0===e?void 0:e.module)&&void 0!==t?t:"unknown"},e}(),h=n("W0P9"),m=n("Bj12"),b=function(){function e(){this.DEBUG=!1}return e.prototype.getCurrentTime=function(e){void 0===e&&(e=!0);var t=Date.now().toString(10);return e?t+"000":t},e.prototype.getIntId=function(){return Math.floor(Math.random()*e.MAX_INT32)},e.prototype.logEvent=function(e,t){this.DEBUG&&Object(h.b)(e),e.type&&e[e.type]?(Object(m.d)(e,t),this.lastEvent=e):Object(_.c)(new Error("ProductionStatCollector: invalid event."))},e.prototype.getLastEvent=function(){return this.lastEvent},e.prototype.getBaseEvent=function(){var e;return{id:this.getIntId(),prev_id:null===(e=this.lastEvent)||void 0===e?void 0:e.id,timestamp:this.getCurrentTime(),url:window.location.href}},e.MAX_INT32=2147483647,e}(),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,o=g(g({},this.productionStatCollector.getBaseEvent()),((n={type:r.m.TYPE_ACTION})[r.m.TYPE_ACTION]=e,n));this.productionStatCollector.logEvent(o,t)},e}(),y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},O=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,o=y(y({},this.productionStatCollector.getBaseEvent()),((n={type:r.m.TYPE_CLICK})[r.m.TYPE_CLICK]=y({item:t},e),n));this.productionStatCollector.logEvent(o)},e}(),w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},E=function(){function e(e){this.productionStatCollector=e}return e.prototype.logEvent=function(e,t){var n,o=w(w({},this.productionStatCollector.getBaseEvent()),((n={type:r.m.TYPE_VIEW})[r.m.TYPE_VIEW]=w({item:t},e),n));this.productionStatCollector.logEvent(o)},e}(),j=function(){function e(e){this.actionStatCollector=e,this.fields={}}return e.prototype.logFieldInteraction=function(e,t,n){void 0===n&&(n=!1),[r.n.PASSWORD,r.n.SMS_CODE,r.n.RULES_ACCEPT].includes(e)&&(t=t?"1":"0");var o=n?"0":this.actionStatCollector.productionStatCollector.getCurrentTime(!1),a=this.fields[e];a?(a.value=t,a.end_interaction_time=o):this.fields[e]={name:e,value:t,start_interaction_time:o,end_interaction_time:o}},e.prototype.getFieldInteractions=function(){return Object.values(this.fields)},e.prototype.resetFieldInteractions=function(){for(var e=0,t=Object.getOwnPropertyNames(this.fields);e<t.length;e++){var n=t[e];delete this.fields[n]}},e.prototype.logEvent=function(e,t,n,a){var i;if(Object(d.b)("registration_item_stat")){var s={event_type:e,screen:t,unauth_id:Object(o.a)("remixstid"),sid:Object(o.a)("remixnreg_sid")};[r.o.SCREEN_PROCEED,r.o.SCREEN_SKIP,r.o.SCREEN_RETURN].includes(e)&&(s.screen_to=n,s.fields=this.getFieldInteractions(),this.resetFieldInteractions()),e===r.o.SELECT_COUNTRY_DONE&&this.fields[r.n.SELECT_COUNTRY_NAME]&&(s.fields=this.getFieldInteractions().filter((function(e){return e.name===r.n.SELECT_COUNTRY_NAME})),delete this.fields[r.n.SELECT_COUNTRY_NAME]);var c=((i={type:r.a.TYPE_REGISTRATION_ITEM})[r.a.TYPE_REGISTRATION_ITEM]=s,i);this.actionStatCollector.logEvent(c,a)}},e}(),D=new a,P=new s,k=new i,C=(new c,new l)},GSQL:function(e,t,n){"use strict";n.r(t);n("91GP");var r=n("q1tI"),o=(n("17x9"),n("e87a")),a=n("euvX"),i=n("bTOO"),s=n("5PZO"),c=n("xt6h");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=e=>{var t=e.className,n=e.appearance,l=void 0===n?"white":n,_=e.title,d=e.actionButtons,p=e.onClose,f=e.children,h=e.footerHint,m=e.hasScroll,b=Object(c.a)("Modal","Modal--"+l,t);return r.createElement(o.default,u({},e,{className:b}),r.createElement(a.a,{title:_,onClose:p,appearance:l}),Boolean(f)&&r.createElement(i.a,{hasScroll:m},f),r.createElement(s.a,{actionButtons:d,hint:h}))};l.Header=a.a,l.Body=i.a,l.Footer=s.a,t.default=l},GZEu:function(e,t,n){var r,o,a,i=n("m0Pp"),s=n("MfQN"),c=n("+rLv"),u=n("Iw71"),l=n("dyZX"),_=l.process,d=l.setImmediate,p=l.clearImmediate,f=l.MessageChannel,h=l.Dispatch,m=0,b={},g=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},v=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete b[e]},"process"==n("LZWt")(_)?r=function(e){_.nextTick(i(g,e,1))}:h&&h.now?r=function(e){h.now(i(g,e,1))}:f?(a=(o=new f).port2,o.port1.onmessage=v,r=i(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",v,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),e.exports={set:d,clear:p}},H6hf:function(e,t,n){var r=n("y3w9");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},HEwt:function(e,t,n){"use strict";var r=n("m0Pp"),o=n("XKFU"),a=n("S/j/"),i=n("H6hf"),s=n("M6Qj"),c=n("ne8i"),u=n("8a7r"),l=n("J+6e");o(o.S+o.F*!n("XMVh")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,_,d=a(e),p="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,m=void 0!==h,b=0,g=l(d);if(m&&(h=r(h,f>2?arguments[2]:void 0,2)),null==g||p==Array&&s(g))for(n=new p(t=c(d.length));t>b;b++)u(n,b,m?h(d[b],b):d[b]);else for(_=g.call(d),n=new p;!(o=_.next()).done;b++)u(n,b,m?i(_,h,[o.value,b],!0):o.value);return n.length=b,n}})},HLtZ:function(e,t,n){"use strict";function r(e,t){var n=e.exception&&e.exception.values[0]||{type:"Message",value:e.message+o(e),stacktrace:e.stacktrace||{frames:[]}};"Error"===n.type&&n.value.startsWith("Non-Error exception captured with keys:")&&(n.value+=o(e)),!n.value&&e.message&&(n.value=e.message);var r=n.type,s=n.value,c=n.stacktrace,u=window.location,l=u.origin,_=u.protocol,d=u.hostname,p=u.port,f=u.href;p=p?":"+p:"",l=l||_+"//"+d+p;var h=e.environment,m=e.transaction,b=e.breadcrumbs;return{id:e.event_id,module:h||t(m,c,s),type:r,value:s,file:m,breadcrumbs:a(b),stacktrace:i(c,l),page:f,release:window.vk.rv,time:window.vk.ts+Math.floor(((new Date).getTime()-window.vk.started)/1e3)}}function o(e){return e.extra&&e.extra.__serialized__?"\n"+JSON.stringify(e.extra.__serialized__).slice(0,500):""}function a(e){if(!e||!e.values||0===e.values.length)return"";var t=e.values[0],n=t.data,r=t.category,o=t.message;return"xhr"===r?n.method+":"+n.status_code+":"+n.url:"custom"===r?o+":"+JSON.stringify(n):""}function i(e,t){var n=[];return e.frames.forEach((function(e,r){0===r&&(e.filename.includes("raven_logger.js")||e.filename.includes("raven.js"))||n.push(e.filename.replace(t,"")+":"+e.lineno+":"+e.colno+":"+e.function)})),n}n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l.b})),n.d(t,"a",(function(){return l.a}));var s=n("Bj12"),c=n("5hnT"),u=function(e){return function(t){var n=t.data,r=t.onSuccess,o=e(n);!Object(c.a)(o)&&Object(s.b)(o),r()}},l=n("Zs3y")},HwS1:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("91GP");var r=n("v+DW"),o=n("XHRy"),a=n("Q9Lc");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={deleteGift:function(e,t,n,r){r=r||{},ajax.post("al_gifts.php",{act:"delete",mid:r.mid,gift:n,hash:r.hash},{onDone:function(e){var n=ge("gift"+t);n&&(domNS(domFC(n))?domNS(domFC(n)).innerHTML=e:(n.appendChild(ce("div",{className:"gift_deleted",innerHTML:e})),hide(domFC(n)),window.Pagination&&!curBox()&&window.Pagination.recache(-1)))},showProgress:addClass.pbind(e,"gift_progress"),hideProgress:removeClass.pbind(e,"gift_progress")})},restoreGift:function(e,t,n,r){r=r||{},ajax.post("al_gifts.php",{act:"restore",mid:r.mid,gift:n,hash:r.hash},{onDone:function(){var e=ge("gift"+t);e&&domNS(domFC(e))&&(re(domNS(domFC(e))),show(domFC(e)))}})},markSpamGift:function(e,t,n,r){r=r||{},ajax.post("al_gifts.php",{act:"mark_spam",mid:r.mid,gift:n,hash:r.hash},{onDone:function(e){ge("gift_mark_spam"+t).innerHTML=e}})},initGiftsBox:function(e,t){e.setOptions({width:638,bodyStyle:"padding: 0",grey:!0,hideButtons:!0,onShow:function(){cur.gftbxWasScroll&&(boxLayerWrap.scrollTop=cur.gftbxWasScroll,cur.gftbxWasScroll=!1)}}),t.lang&&(cur.lang=extend(cur.lang||{},t.lang)),extend(cur,{gftbxOffset:t.offset,gftbxAutoload:!0,gftbxWasScroll:!1,gftbxMid:t.mid}),ajax.preload("al_gifts.php",{act:"box",mid:t.mid,offset:t.offset},t.preload),window.uiScrollBox&&window.uiScrollBox.init(e,{onShow:function(){addEvent(boxLayerWrap,"scroll",s.onGiftsScroll),setTimeout(cur.chooseAudioScroll,0)},onHide:function(){removeEvent(boxLayerWrap,"scroll",s.onGiftsScroll)}}),addEvent(boxLayerWrap,"scroll",s.onGiftsScroll);var n=boxLayerWrap.scrollTop;elfocus(geByClass1("_scroll_node",e.bodyNode)),boxLayerWrap.scrollTop=n,onBodyResize(),s.onGiftsScroll()},moreGifts:function(){var e=ge("gifts_more_link");Object(r.b)(e)||(ajax.post("al_gifts.php",{act:"box",mid:cur.gftbxMid,offset:cur.gftbxOffset},{onDone:function(t,n,r){var o=ce("div",{innerHTML:t}),a=ge("gifts_rows");if(a){for(var i=domFC(o);i;i=domFC(o))a.appendChild(i);cur.gftbxOffset=n,r?s.preloadGifts():hide(e)}},showProgress:r.o.pbind(e),hideProgress:r.w.pbind(e),cache:1}),cur.gftbxAutoload=!0)},preloadGifts:function(){ajax.post("al_gifts.php",{act:"box",mid:cur.gftbxMid,offset:cur.gftbxOffset},{cache:1})},onGiftsScroll:function(){if(cur.gftbxAutoload){var e=lastWindowHeight,t=ge("gifts_more_link");isVisible(t)&&e>getXY(t,!0)[1]&&t.click()}},showGiftBox:function(e,t,n){return window.Profile?window.Profile.showGiftBox(e,t,n):(cur.gftbxWasScroll=boxLayerWrap.scrollTop,boxLayerWrap.scrollTop=0,cur.viewAsBox?cur.viewAsBox():!showBox("al_gifts.php",{act:"get_gift_box",mid:e,fr:e==vk.id?1:0,ref:n},{stat:["gifts.css","wide_dd.js","wide_dd.css"],cache:1},t))},processBoxOptions(e,t){-1e3!=t&&t&&(extend(cur,{forcedPaymentMethod:t.forcedPaymentMethod,paymentsOfferPreview:t.paymentsOfferPreview,paymentsPreload:t.paymentsPreload,paymentsAppOrder:t.paymentsAppOrder,paymentsOfferPreload:t.paymentsOfferPreload}),t.orderData&&a.a.initialize(t.orderData.orderId,t.orderData.appId,t.orderData.testMode,t.orderData.hash,t.orderData.votes,t.orderData.discount,t.orderData.billPeriod,t.orderData.salesRef),extend(cur,{paymentsAuthPayment:t.paymentsAuthPayment,paymentsOrderNotice:t.paymentsOrderNotice,paymentsTryCompleteOrder:t.paymentsTryCompleteOrder,isPaymentsAppOrder:t.isPaymentsAppOrder,paymentsOfferApp:t.paymentsOfferApp,checkoutEnabled:t.checkoutEnabled}),t.showProgress&&o.a.showProgress(""),extend(cur,{votesAmountsData:t.votesAmountsData,paymentsPreferVotes:t.paymentsPreferVotes,votesTypeInit:t.votesTypeInit,psList:t.psList,paymentsWideBox:t.paymentsWideBox,paymentsTooltips:t.paymentsTooltips,paymentsChangeType:0===t.paymentsWideBox?getLang("payments_go_change_pay_type"):"",payments_get_votes:getLang("payments_get_votes_new"),getVotesDoneHide:!0,paymentsWaitingCache:{},isPaymentComplete:!1,isPaymentAttemted:!1,usdRate:t.usdRate,paymentsHash:t.paymentsHash,paymentComplete:o.a.complete,paymentCanceled:o.a.paymentCanceled,paymentsShowProgress:o.a.showProgress,statSessionId:t.statSessionId}),o.a.initialize(e),cur.checkoutEnabled||(o.a.initPhoneCountry(t.countries,t.country),o.a.initPhoneNumber(ge("phone"))),extend(cur,{paymentsTypesSum:t.paymentsTypesSum,instantNeedCVV:t.instantNeedCVV,votesType:t.votesType,paymentsWPreload:t.paymentsWPreload}),t.getVotesAmountsOnDone&&o.a.getVotesAmountsOnDone.apply(this,cur.paymentsWPreload))},showGetMoneyBox(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return showBox("al_gifts.php",i({act:"get_money"},e),{onDone:this.processBoxOptions})}}},I2ZF:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},"I8a+":function(e,t,n){var r=n("LZWt"),o=n("K0xU")("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},"IU+Z":function(e,t,n){"use strict";n("sMXx");var r=n("KroJ"),o=n("Mukb"),a=n("eeVq"),i=n("vhPU"),s=n("K0xU"),c=n("Ugos"),u=s("species"),l=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),_=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=p?!a((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!t})):void 0;if(!p||!f||"replace"===e&&!l||"split"===e&&!_){var h=/./[d],m=n(i,d,""[e],(function(e,t,n,r,o){return t.exec===c?p&&!o?{done:!0,value:h.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),b=m[0],g=m[1];r(String.prototype,e,b),o(RegExp.prototype,d,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},Ia1d:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"i",(function(){return showVideo})),__webpack_require__.d(__webpack_exports__,"h",(function(){return showInlineVideo})),__webpack_require__.d(__webpack_exports__,"d",(function(){return loadInlineVideo})),__webpack_require__.d(__webpack_exports__,"g",(function(){return revertLastInlineVideo})),__webpack_require__.d(__webpack_exports__,"e",(function(){return pauseLastInlineVideo})),__webpack_require__.d(__webpack_exports__,"f",(function(){return playLastInlineVideo})),__webpack_require__.d(__webpack_exports__,"b",(function(){return checkMp4})),__webpack_require__.d(__webpack_exports__,"a",(function(){return VideoConstants})),__webpack_require__.d(__webpack_exports__,"c",(function(){return initVideo}));var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("91GP"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("KKXr"),_videoplayer_lib_player_states__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("qOki"),_dom_events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Egk5"),_utils_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("t7n3"),_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("zxIV"),_lang__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("4+be"),_message_box__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("EasH"),_layout_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("El3O"),_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("+i5L");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function showVideo(e,t,n,r){if(cur.viewAsBox)return cur.viewAsBox();if(!Object(_dom_events__WEBPACK_IMPORTED_MODULE_3__.d)(r)){if(n||(n={}),Object(_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_9__.c)()&&(r||n.openInPopup)&&!n.forceUnauth)return window.Unauthorized.showMoreBox(null,0,_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_9__.b.VIDEO,()=>{showVideo(e,t,_extends({},n,{openInPopup:!1,forceUnauth:!0}),r)}),!1;if(n.forceUnauth=!0,window.mvcur&&mvcur.mvShown&&mvcur.minimized&&mvcur.videoRaw==e)return Videoview.unminimize(),!1;var o=nav.objLoc.claim,a=!(!n.addParams||!/^-?\d+_\d+$/.test(n.addParams.post_id))&&n.addParams.post_id;if(!n.playlistId&&a&&(/^public|groups|profile$/.test(cur.module)&&Object(_dom__WEBPACK_IMPORTED_MODULE_5__.ab)("post"+a,"own")?n.playlistId="wall_"+cur.oid:n.playlistId="post_"+n.addParams.post_id),n.playlistId&&(n.addParams=Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.i)(n.addParams,{playlist_id:n.playlistId}),!window.VideoPlaylist||!VideoPlaylist.getList(n.playlistId)))if(/^wall_/.test(n.playlistId)){var i=cur.wallVideos&&cur.wallVideos[n.playlistId];n.addParams.load_playlist=i&&i.list.length>=50?0:1}else n.addParams.load_playlist=!/^(?:post_)?-?\d+_-?\d+$/.test(n.playlistId)||cur.pageVideosList&&cur.pageVideosList[n.playlistId]?0:1;!n.expandPlayer&&cur.videoInlinePlayer&&cur.videoInlinePlayer.getVideoId()==e&&cur.videoInlinePlayer.canExpand()&&(n.expandPlayer=cur.videoInlinePlayer),n.expandPlayer&&(n.addParams=Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.i)(n.addParams,{expand_player:1}),delete cur.videoInlinePlayer);var s=new CallHub((function(){n.hidden?n.hidden(s.data,n,t,e):Videoview.showVideo.apply(Videoview,s.data)}),2);stManager.add(["videoview.js","videoview.css","page.js","page.css"],()=>{s.failed||(n.hidden||(revertLastInlineVideo(),Videoview.show(r,e,t,n)),s.done())}),Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.i)(n,{onDone:function(){var t=Array.prototype.slice.call(arguments);t.unshift(e),s.data=t,s.done()},onFail:function(t){if(s.failed=1,!n.hidden){if(window.mvcur&&mvcur.mvShown)Videoview.hide();else{var r=Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.d)(nav.objLoc);r.z==="video"+e&&delete r.z,r[0]==="video"+e&&(r[0]="videos"+e.split("_")[0]),nav.setLoc(r)}Object(_message_box__WEBPACK_IMPORTED_MODULE_7__.d)(Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_error"),t||Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_error_occured")),s.done()}return!0},cache:"status"!==t});var c=n.params;return c||(c={act:"show",video:e,list:t,autoplay:n.autoplay?1:0,ad_video:n.ad_video,module:n.module||window.Videoview&&window.Videoview.getVideoModule()||"",svids:n.svids}),n.addParams&&(c=Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.i)(c,n.addParams)),Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.I)(c.module)||Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.i)(c,{_nol:JSON.stringify(nav.objLoc)}),o&&(c.claim=o),ajax.post("al_video.php?act="+c.act,c,n),Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.K)().src=locProtocol+"//vk.com/rtrg?r=w*Z1Flwi3QdbWaoLMc7zOA*7Cr4Nrtojr9otHjsjIhsb2CVqRWalgbvxZw3MzxZa6be3Siu2XY3gvK5fysYtWLWgNwHMpjRTupSGZrcGRNlj7fduqq9*t7ij6CX4aMcBTD5be8mIXJsbTsvP8Zl2RZEd76a4FTuCOFqzMxqGtFc-",!1}}function showInlineVideo(videoId,listId,options,ev,thumb){if(Object(_dom_events__WEBPACK_IMPORTED_MODULE_3__.d)(ev))return!0;if(options=options||{},window.mvcur&&mvcur.mvShown||options.hasRestriction)return showVideo(videoId,listId,options,ev);if(Object(_dom__WEBPACK_IMPORTED_MODULE_5__.e)(thumb,"data-loading"))return!1;var h=thumb.clientHeight,w=thumb.clientWidth,btn=Object(_dom__WEBPACK_IMPORTED_MODULE_5__.m)(thumb,"page_post_video_play_inline"),onLoaded=options.onLoaded;onLoaded&&delete options.onLoaded;var params={video:videoId,list:listId,autoplay:options.autoplay,module:options.module};return Object(_dom__WEBPACK_IMPORTED_MODULE_5__.v)(thumb,"stretch-vertical")&&(params.stretch_vertical=1),Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.i)(params,options.addParams),showProgress(),loadInlineVideo(params,(function(e,t){hideProgress(),e?onDone.apply(null,t):onFail.apply(null,t)}),options.cache),cur.videoInlinePlayerDestroyerSet||(cur.destroy.push(_destroyInlineVideoPlayer),cur.videoInlinePlayerDestroyerSet=1),Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.K)().src="//vk.com/rtrg?r=w*Z1Flwi3QdbWaoLMc7zOA*7Cr4Nrtojr9otHjsjIhsb2CVqRWalgbvxZw3MzxZa6be3Siu2XY3gvK5fysYtWLWgNwHMpjRTupSGZrcGRNlj7fduqq9*t7ij6CX4aMcBTD5be8mIXJsbTsvP8Zl2RZEd76a4FTuCOFqzMxqGtFc-",!1;function onDone(title,html,js,opts){revertLastInlineVideo(),Object(_dom__WEBPACK_IMPORTED_MODULE_5__.bb)(thumb);var videoWrap=Object(_dom__WEBPACK_IMPORTED_MODULE_5__.g)("div",{innerHTML:html,className:"inline_video_wrap"},{width:w,height:h});if(-195297477!==opts.mvData.authorId&&(window._videoLastInlined=[videoWrap,thumb]),thumb.parentNode.appendChild(videoWrap),cur.mvOpts=!(!opts||!opts.mvData)&&opts.mvData,opts.player){var container=Object(_dom__WEBPACK_IMPORTED_MODULE_5__.m)(videoWrap,"video_box_wrap");Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.v)(onLoaded)&&(opts.player.params[0].onPlayerLoaded=onLoaded);var linkAttr=Object(_dom__WEBPACK_IMPORTED_MODULE_5__.e)(thumb,"data-link-attr");linkAttr&&(opts.player.params[0].link_attr=linkAttr),VideoInitializer.initPlayer(container,opts.player.type,opts.player.params)}try{eval("(function () {"+js+"})();")}catch(e){}if(!params.from_autoplay){var notifier=window.Notifier;notifier&&setTimeout(()=>notifier.lcSend("video_start"),0);var audioPlayer=window.ap;audioPlayer&&audioPlayer.isPlaying()&&(audioPlayer.pause(),audioPlayer.pausedByVideo=Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.M)())}ev&&domClosest("bookmarks_row_type_video",ev.target)&&statlogsValueEvent("bookmarks_product_analytics",{item_type:"video",item_owner_id:cur.mvOpts.oid,item_id:cur.mvOpts.vid,time:window.getServerTime()}),thumb.setAttribute("data-playing",1)}function onFail(e){params.from_autoplay||Object(_message_box__WEBPACK_IMPORTED_MODULE_7__.d)(Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_error"),e||Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_error_occured"))}function showProgress(){thumb.setAttribute("data-loading",1),options.no_progress||(Object(_dom__WEBPACK_IMPORTED_MODULE_5__.c)(btn,"page_post_video_play_inline_loading"),Object(_dom__WEBPACK_IMPORTED_MODULE_5__.Cb)(btn,Object(_layout_utils__WEBPACK_IMPORTED_MODULE_8__.f)()))}function hideProgress(){thumb.removeAttribute("data-loading"),options.no_progress||(Object(_dom__WEBPACK_IMPORTED_MODULE_5__.mb)(btn,"page_post_video_play_inline_loading"),Object(_dom__WEBPACK_IMPORTED_MODULE_5__.Cb)(btn,""))}}function loadInlineVideo(e,t,n){var r=Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.i)({autoplay:0,module:cur.module},e);Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.I)(r.module)||(r._nol=JSON.stringify(nav.objLoc));var o=["videoview.js","videoview.css"];function a(e,n){Object(_utils_common__WEBPACK_IMPORTED_MODULE_4__.v)(t)&&t(e,n)}r.from_autoplay&&o.push("videoplayer.js","videoplayer.css","hls.min.js"),ajax.post("al_video.php?act=show_inline",r,{onDone:function(){var e=[].slice.call(arguments);a(!0,e)},onFail:function(){var e=[].slice.call(arguments);return a(!1,e),!0},stat:o,local:1,cache:n})}function revertLastInlineVideo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window._videoLastInlined){var n,r=!1,o=Object(_dom__WEBPACK_IMPORTED_MODULE_5__.J)(e);if(o&&(n=window._videoLastInlined[0])){for(;n=n.parentNode;)if(n==o){r=!0;break}if(!r)return}Object(_dom__WEBPACK_IMPORTED_MODULE_5__.kb)(window._videoLastInlined[0]),Object(_dom__WEBPACK_IMPORTED_MODULE_5__.xb)(window._videoLastInlined[1]),window._videoLastInlined[1].removeAttribute("data-playing"),window._videoLastInlined=!1,_destroyInlineVideoPlayer(t),delete cur.mvOpts}}function _destroyInlineVideoPlayer(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];cur.videoInlinePlayer&&(cur.videoInlinePlayer.destroy(e),delete cur.videoInlinePlayer)}function pauseLastInlineVideo(){if(window._videoLastInlined){var e=cur.videoInlinePlayer||Object(_dom__WEBPACK_IMPORTED_MODULE_5__.J)("video_yt")&&window.VideoYoutube;if(e){if(e.isActiveLive&&e.isActiveLive())return;cur.mvOpts.lastPlayerState=e.getState(),e.togglePlay(!1)}}}function playLastInlineVideo(){if(window._videoLastInlined&&cur.mvOpts&&cur.mvOpts.lastPlayerState===_videoplayer_lib_player_states__WEBPACK_IMPORTED_MODULE_2__.PLAYING){var e=cur.videoInlinePlayer||Object(_dom__WEBPACK_IMPORTED_MODULE_5__.J)("video_yt")&&window.VideoYoutube;e&&e.togglePlay(!0)}}function checkMp4(e){e(!0)}var VideoConstants={VIDEO_ITEM_INDEX_OWNER_ID:0,VIDEO_ITEM_INDEX_ID:1,VIDEO_ITEM_INDEX_THUMB:2,VIDEO_ITEM_INDEX_TITLE:3,VIDEO_ITEM_INDEX_FLAGS:4,VIDEO_ITEM_INDEX_DURATION:5,VIDEO_ITEM_INDEX_HASH:6,VIDEO_ITEM_INDEX_MODER_ACTS:7,VIDEO_ITEM_INDEX_OWNER:8,VIDEO_ITEM_INDEX_DATE:9,VIDEO_ITEM_INDEX_VIEWS:10,VIDEO_ITEM_INDEX_PLATFORM:11,VIDEO_ITEM_INDEX_BLOCKED:12,VIDEO_ITEM_INDEX_MUSIC_VIDEO_META:13,VIDEO_ITEM_INDEX_ARIA:14,VIDEO_ITEM_INDEX_RESTRICTION_BLOCK:15,VIDEO_ITEM_INDEX_RESTRICTION_CLASSES:16,VIDEO_ITEM_INDEX_ADMIN_INFO:17,VIDEO_ITEM_INDEX_FILE_URL:18,VIDEO_ITEM_INDEX_FILE_TYPE:19,VIDEO_ITEM_INDEX_LINK:20,VIDEO_ITEM_FLAG_EXTERNAL:1,VIDEO_ITEM_FLAG_ACTIVE_LIVE:2,VIDEO_ITEM_FLAG_CAN_EDIT:64,VIDEO_ITEM_FLAG_CAN_DELETE:128,VIDEO_ITEM_FLAG_CAN_ADD:256,VIDEO_ITEM_FLAG_PRIVATE:512,VIDEO_ITEM_FLAG_NO_AUTOPLAY:1024,VIDEO_ITEM_FLAG_ADDED:2048,VIDEO_ITEM_FLAG_SKIP_THUMB_LOAD:4096,VIDEO_ITEM_FLAG_NEED_SIGN_IN:8192,VIDEO_ITEM_FLAG_HD:16384,VIDEO_ITEM_FLAG_DELETED:32768,VIDEO_ITEM_FLAG_CAN_DOWNLOAD:65536};function initVideo(){window._videoLastInlined=!1}},Ieup:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return menuSettings})),__webpack_require__.d(__webpack_exports__,"h",(function(){return showWriteMessageBox})),__webpack_require__.d(__webpack_exports__,"a",(function(){return giftsBox})),__webpack_require__.d(__webpack_exports__,"e",(function(){return moneyTransferBox})),__webpack_require__.d(__webpack_exports__,"f",(function(){return reportAd})),__webpack_require__.d(__webpack_exports__,"d",(function(){return mobilePromo})),__webpack_require__.d(__webpack_exports__,"g",(function(){return showAudioClaimWarning})),__webpack_require__.d(__webpack_exports__,"i",(function(){return sureDeleteAll})),__webpack_require__.d(__webpack_exports__,"b",(function(){return imageStatusPopup}));var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("91GP"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("pIFo"),_message_box__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EasH"),_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("v+DW"),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("zxIV"),_dom_events__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("Egk5"),_lang__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("4+be"),_debug_tools__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("98sY"),_box_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("kcIO"),_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("Bj12"),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("W9Tc"),_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("821F");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function menuSettings(e){return Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.f)("al_settings.php",{act:"menu_box",type:e})}function showWriteMessageBox(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cur.onFriendMessage&&cur.onFriendMessage(),stManager.add(["page.js","wide_dd.js"]);var r=Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.b)("al_im.php",_extends({act:"a_write_box",to:t},n.params),{stat:[jsc("web/writebox.js"),"writebox.css","wide_dd.css","page.css","post.css",jsc("web/emoji.js"),"notifier.css"],cache:1},e);return r&&Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.c)(e),window.WriteBox&&WriteBox.extractEmoji(),!r}function giftsBox(e,t,n){return cur.viewAsBox?cur.viewAsBox():!Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.b)("al_gifts.php",{act:"box",tab:n||"received",mid:e},{cache:1,stat:["gifts.css",jsc("web/gifts.js")]},t)}function moneyTransferBox(e,t,n,r,o,a,i){if(cur.viewAsBox)return cur.viewAsBox();if(o){var s,c;if(!i)return 2===o?(s=cur.lang&&cur.lang.mail_money_transfer_cancel_confirm||Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("mail_money_transfer_cancel_confirm"),c=cur.lang&&cur.lang.mail_money_transfer_cancel_btn||Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("mail_money_transfer_cancel_btn")):(s=cur.lang&&cur.lang.mail_money_transfer_decline_confirm||Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("news_fb_money_transfer_decline_confirm"),c=cur.lang&&cur.lang.mail_money_transfer_decline_btn||Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("news_fb_money_transfer_decline_btn")),void(cur.confirmBox=Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.d)(Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_action_confirmation"),s,c,moneyTransferBox.pbind(e,t,n,r,o,!1,1),Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_cancel")));var u=Object(_dom__WEBPACK_IMPORTED_MODULE_4__.ab)(Object(_dom__WEBPACK_IMPORTED_MODULE_4__.C)(r),"wall_postlink_preview_btn")||Object(_dom__WEBPACK_IMPORTED_MODULE_4__.ab)(r,"money_transfer__decline_button"),l=Object(_dom__WEBPACK_IMPORTED_MODULE_4__.L)("flat_button",Object(_dom__WEBPACK_IMPORTED_MODULE_4__.C)(r));return 2!==i&&(Object(_ui__WEBPACK_IMPORTED_MODULE_3__.f)(l,!0),u?(Object(_dom__WEBPACK_IMPORTED_MODULE_4__.c)(r.firstChild,"round_spinner"),Object(_dom__WEBPACK_IMPORTED_MODULE_4__.mb)(r.firstChild,"button")):Object(_ui__WEBPACK_IMPORTED_MODULE_3__.o)(r),cur.confirmBox&&cur.confirmBox.hide()),void ajax.post("al_payments.php?act=a_cancel_money_transfer",{tx_id:e,hash:t,from:u?"snippet":""},{onDone:function(a,i,s){0!==a?(u?(Object(_dom__WEBPACK_IMPORTED_MODULE_4__.kb)(r),Object(_dom__WEBPACK_IMPORTED_MODULE_4__.ab)(l,"secondary")||Object(_dom__WEBPACK_IMPORTED_MODULE_4__.G)(l,s)):Object(_dom__WEBPACK_IMPORTED_MODULE_4__.kb)(Object(_dom__WEBPACK_IMPORTED_MODULE_4__.C)(r)),Object(_box_utils__WEBPACK_IMPORTED_MODULE_8__.f)(i),window.TopNotifier.invalidate()):setTimeout(moneyTransferBox.pbind(e,t,n,r,o,!1,2),2e3)},onFail:function(e){return Object(_ui__WEBPACK_IMPORTED_MODULE_3__.f)(l,!1),u?(Object(_dom__WEBPACK_IMPORTED_MODULE_4__.c)(r.firstChild,"button"),Object(_dom__WEBPACK_IMPORTED_MODULE_4__.mb)(r.firstChild,"round_spinner")):Object(_ui__WEBPACK_IMPORTED_MODULE_3__.w)(r),setTimeout(Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.d)(Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_error"),e).hide,2e3),!0}})}return cur.acceptMoneyBtn=r,a?!_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.a.showMoneyTransferBox({request_id:e,request:a,hash:t},{stat:["payments.css",jsc("workers/payments.js")]},e=>(Object(_box_utils__WEBPACK_IMPORTED_MODULE_8__.b)()&&Object(_box_utils__WEBPACK_IMPORTED_MODULE_8__.b)().hide(),setTimeout(Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.d)(Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_error"),e).hide,2e3),!0)):!Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.b)("al_payments.php",{act:"accept_money_transfer_box",tx_id:e,hash:t},{stat:["payments.css",jsc("workers/payments.js")],onFail:e=>(Object(_box_utils__WEBPACK_IMPORTED_MODULE_8__.b)()&&Object(_box_utils__WEBPACK_IMPORTED_MODULE_8__.b)().hide(),setTimeout(Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.d)(Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_error"),e).hide,2e3),!0),onDone(e,t){_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.a.initHandlers(),window.cur=extend(window.cur,{paymentsOptions:t,paymentsPopupWrite(e){e.document.innerHTML!=cur._popup_text&&(e.document.write(window.cur._popup_text),e.document.close(),e.blur(),e.focus(),window.cur._popup_callback&&window.cur._popup_callback())}}),e.setOptions({width:510,bodyStyle:"padding: 0;",hideButtons:!0,onClean(){window.cur.moneyTranferCheckInt&&clearInterval(window.cur.moneyTranferCheckInt),window.removeEventListener("message",_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.a.frameMessage,!1)}}),_web_payments_money_transfer__WEBPACK_IMPORTED_MODULE_11__.a.initAccept(t.chkData,t.frame)}},n)}function reportAd(e,t){if(Object(_shared_user_user_env__WEBPACK_IMPORTED_MODULE_10__.b)("ads_new_reports_web_tgb")){var n="",r=null,o=Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.b)("/reports.php",{act:"report_ad_box",ad_data:t},{onDone:function(){var e=Object(_dom__WEBPACK_IMPORTED_MODULE_4__.K)("radiobtn","ad_report");window.radioBtns.ad_report={val:0,els:e};var t=Object(_dom__WEBPACK_IMPORTED_MODULE_4__.J)("ad_csrf");n=t?t.value:n,r=Object(_dom__WEBPACK_IMPORTED_MODULE_4__.J)("ad_comment")},params:{width:370,onClean:()=>{delete window.radioBtns.ad_report}},stat:["reports.css"]});o.removeButtons(),o.addButton(Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("box_send"),a=>{ajax.post("reports.php",{act:"a_report_ad",ad_id:e,reason:window.radioBtns.ad_report.val,comment:r?r.value:"",ad_data:t,hash:n},{onDone:()=>{o.hide(),Object(_box_utils__WEBPACK_IMPORTED_MODULE_8__.f)(Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("reports_thanks_for_report"))},showProgress:()=>Object(_ui__WEBPACK_IMPORTED_MODULE_3__.o)(a),hideProgress:()=>Object(_ui__WEBPACK_IMPORTED_MODULE_3__.w)(a)})}),o.addButton(Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_cancel"),!1,"no")}else Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.b)("/reports.php?act=a_report_ad_box",{ad_id:e},{params:{width:370},stat:["ui_controls.js","ui_controls.css"]})}var mobilePromo=_message_box__WEBPACK_IMPORTED_MODULE_2__.b.pbind("al_login.php",{act:"mobile",box:1});function showAudioClaimWarning(e,t,n){var r,o,a=e.id,i=e.ownerId,s=e.title,c=t.id,u=t.reason,l=t.original,_={width:470};if(e.restrictionStatus)return AudioUtils.showAudioRestriction(e);"geo"===u?(r=Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_claimed_geo"),o=Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_claim_warning_title")):"site_rules_violation"===u?(r=Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_site_rules_violation_warning"),o=Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_site_rules_violation_header")):"replace"===u?(r=Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_claimed_replacement_available"),o=Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_claim_warning_title")):"subscription"===u?(_.hideButtons=!0,_.bodyStyle="padding: 0; border-radius: 4px;",_.width=450,o=!1,r=`\n      <div class="audio_claim_popup">\n        <div class="audio_claim_popup__title">${Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_audio_only_with_subscription_title")}</div>\n        <div class="audio_claim_popup__text">${Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_audio_only_with_subscription_text")}</div>\n        <div class="audio_claim_popup__close" onclick="curBox().hide()"></div>\n        <button class="flat_button round_button" onclick="AudioPlayer.showSubscriptionPopup()">${Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_audio_only_with_subscription_btn")}</button>\n      </div>`):(r=Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_claim_warning"),o=Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_claim_warning_title")),_.title=o;var d=[_,r=(r=(r=r.replace(/\{audio\}/g,`<b>${s}</b>`)).replace(/\{objection_link\}/g,`<a href="/help?act=cc_objection&claim=${c}&content=audio${i}_${a}">${Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_claim_objection")}</a>`)).replace(/\{delete_link\}/g,`<a onclick="deleteAudioOnClaim(${i}, ${a}); return false;">${Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_claim_delete")}</a>`)],p=null;if(n&&l){var f=AudioUtils.drawAudio(l,"no_extra");d[1]=r.replace(/\{original\}/g,l[AudioUtils.AUDIO_ITEM_INDEX_PERFORMER]+" - "+l[AudioUtils.AUDIO_ITEM_INDEX_TITLE])+"<br/><br/>"+f,d.push(Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_replace_with_original"),(function(){Object(_ui__WEBPACK_IMPORTED_MODULE_3__.o)(p.btns.ok[0]),n(()=>p.hide())})),_.textControls=`<a onclick="deleteAudioOnClaim(${i}, ${a}); return false;">${Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("audio_claim_delete_capital")}</a>`}cur.claimWarning=p=_message_box__WEBPACK_IMPORTED_MODULE_2__.d.apply(null,d)}function sureDeleteAll(title,text,where,objectId,toId,fromId,hash,event){if(!Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.d)(event)){var box=Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.d)({title},text,Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_delete"),(function(btn){ajax.post("/delete_all.php",{act:where,object_id:objectId,to_id:toId,from_id:fromId,hash,loc:nav.objLoc[0]},{onDone:function onDone(res){if(__debugMode)eval(res);else try{eval(res)}catch(e){Object(_debug_tools__WEBPACK_IMPORTED_MODULE_7__.d)(e,res)}box.hide()},showProgress:_ui__WEBPACK_IMPORTED_MODULE_3__.o.pbind(btn),hideProgress:_ui__WEBPACK_IMPORTED_MODULE_3__.w.pbind(btn)})}),Object(_lang__WEBPACK_IMPORTED_MODULE_6__.d)("global_cancel"));return!1}}function imageStatusPopup(e,t){Object.assign(t,{act:"image_status"});var n=Object(_message_box__WEBPACK_IMPORTED_MODULE_2__.b)("special_event.php",t,{containerClass:"ImageStatusPopup__container",params:{hideButtons:!0},onFail:function(){return window.cur.imageStatusBox&&window.cur.imageStatusBox.hide(),!0},onDone:function(e,t){var n=t.status_id;n&&Object(_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_9__.e)({name:"image_status",value:n,keys:["show_popup"]})}},e);n&&(Object(_dom_events__WEBPACK_IMPORTED_MODULE_5__.c)(e),window.cur.imageStatusBox=n)}},Ijbi:function(e,t,n){var r=n("WkPL");e.exports=function(e){if(Array.isArray(e))return r(e)}},Iqrf:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return _})),n.d(t,"i",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"d",(function(){return m}));var r,o=n("ER42"),a=n("PEW9"),i=function(e,t,n,r,i){return Object(o.b)(a.a,{act:"a_add_chat_members",peer:e,new_peer:t.join(","),gid:n,hash:r,show_history:i?1:0})},s=function(e,t,n,r,i){return Object(o.b)(a.a,{act:"a_get_conversations",offset:i,count:r,filter:n,gid:t,hash:e})},c=function(e,t){return Object(o.b)(a.a,{act:"a_renew_hash",peers:e.join(","),gid:t})};!function(e){e.FRIENDS="friends",e.FRIENDS_AND_CONTACTS="friends_and_contacts",e.ALL="all"}(r||(r={}));var u=function(e,t,n,r){return Object(o.b)(a.a,{act:"a_hints",str:e,gid:t,query:n,peerIds:r.join(",")})},l=function(e,t){return Object(o.b)(a.a,{act:"a_owner_photo",photo:e,peer:t})},_=function(e,t,n,r){return Object(o.b)(a.a,{act:"a_multi_start",hash:e,peers:t.join(","),title:n,flags:r})},d=function(e,t,n){return Object(o.b)("al_page.php",{act:"owner_photo_save",peer:e,_query:t,gid:n})},p=function(e,t,n,r){return Object(o.b)(a.a,{act:"a_kick_user",chat:e,hash:n,mid:t,gid:r})},f=function(e,t){return Object(o.b)(a.a,{act:"a_pin_convo",peer_id:e,hash:t})},h=function(e,t){return Object(o.b)(a.a,{act:"a_unpin_convo",peer_id:e,hash:t})},m=function(){return Object(o.b)(a.a,{act:"a_recommend_contacts"})}},IrTF:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("xt6h"),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},c=function(e){var t=e.inverted,n=e.size,r=e.className,c=s(e,["inverted","size","className"]),u=Object(a.a)("Progress",{"Progress--inverted":!!t},"Progress--size-"+n,r);return o.a.createElement("div",i({className:u},c),o.a.createElement("div",{className:"Progress__item"}),o.a.createElement("div",{className:"Progress__item"}),o.a.createElement("div",{className:"Progress__item"}))};c.defaultProps={inverted:!1,size:"s"},t.a=c},Iw71:function(e,t,n){var r=n("0/R4"),o=n("dyZX").document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},Iwtw:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("W9Tc");function o(e,t){Object(r.b)("web_stats_transport_debugger")&&console.log("[new transport debug] "+e,t)}},"J+6e":function(e,t,n){var r=n("I8a+"),o=n("K0xU")("iterator"),a=n("hPIQ");e.exports=n("g3g5").getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||a[r(e)]}},J8bf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));n("SRfc"),n("KKXr");var r=n("W9Tc"),o=n("DM2o");function a(){return browser.chrome&&parseInt(browser.version)>=71}function i(e){return function(){window._cookies={};for(var e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i,n=0,r=e.length;n<r;n++){var o=e[n].split("=");2===o.length&&(_cookies[o[0].match(t)[1]]=unescape(o[1].match(t)?o[1].match(t)[1]:""))}}(),"https:"!==location.protocol&&Object(o.a)("read_unsecure_cookie",e,location.href),_cookies[e]}function s(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"None",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:window.locDomain,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=e+"="+escape(t),l=c.withoutSubdomains?".":"",_="; path=/"+(s?"; domain="+l+s:""),d="https:"===location.protocol,p=!!o;Object(r.b)("cookie_secure_default_true")&&(p=!1!==o);var f=d&&p?"; secure":"",h=p&&a()&&Object(r.b)("cookie_class_samesite")?"; SameSite="+i:"",m="";if(n){var b=new Date;b.setTime(b.getTime()+24*n*60*60*1e3),m="; expires="+b.toGMTString()}document.cookie=u+m+_+h+f}function c(){window._cookies={}}},JiEa:function(e,t){t.f=Object.getOwnPropertySymbols},JlTo:function(e,t,n){"use strict";n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return w})),n.d(t,"f",(function(){return E})),n.d(t,"c",(function(){return j}));n("91GP");var r=n("J8bf"),o=n("W9Tc"),a=n("DM2o");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s="miniAppEvent",c=["mt_registration","mt_login"];function u(){return window.vk&&window.vk.id?window.vk.id:0}function l(e){if(!(window.vk&&window.vk.zero||window.__dev)){if(e&&e.goal&&c.includes(e.goal)){if(Object(o.b)("mt_log_disable"))return;Object(a.a)("counters_check_tmr",e.goal)}window._tmr=window._tmr||[],window._tmr.push(e)}}function _(e,t){l({id:"2579437",url:e,referrer:t,type:"pageView",start:(new Date).getTime(),pid:u(),userid:u()}),Object(r.a)("remixtmr_login")&&(Object(r.c)("remixtmr_login","",-1),l({id:"2579437",type:"reachGoal",goal:"mt_login",userid:u()}))}function d(){l({id:"2579437",type:"reachGoal",goal:"mt_registration",userid:u()})}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l({id:"2579437",type:"reachGoal",goal:e,userid:u(),params:t})}function f(e){var t=u();u&&l({id:"2579437",type:s,params:i({},e,{platformUserId:String(t)})})}var h="open",m="close",b="login",g="registration",v="custom";function y(e,t){f({eventType:h,miniAppId:e,queryParams:t})}function O(e){f({eventType:m,miniAppId:e})}function w(e,t){f({eventType:b,miniAppId:e,customUserId:t})}function E(e,t){f({eventType:g,miniAppId:e,customUserId:t})}function j(e,t){f(i({eventType:v,miniAppId:e},t))}},Jph1:function(e,t,n){"use strict";var r=n("qFE6");t.a=r},K0xU:function(e,t,n){var r=n("VTer")("wks"),o=n("ylqs"),a=n("dyZX").Symbol,i="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=i&&a[e]||(i?a:o)("Symbol."+e))}).store=r},KKXr:function(e,t,n){"use strict";var r=n("quPj"),o=n("y3w9"),a=n("69bn"),i=n("A5AN"),s=n("ne8i"),c=n("Xxuz"),u=n("Ugos"),l=n("eeVq"),_=Math.min,d=[].push,p="length",f=!l((function(){RegExp(4294967295,"y")}));n("IU+Z")("split",2,(function(e,t,n,l){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var a,i,s,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),_=0,f=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,l+"g");(a=u.call(h,o))&&!((i=h.lastIndex)>_&&(c.push(o.slice(_,a.index)),a[p]>1&&a.index<o[p]&&d.apply(c,a.slice(1)),s=a[0][p],_=i,c[p]>=f));)h.lastIndex===a.index&&h.lastIndex++;return _===o[p]?!s&&h.test("")||c.push(""):c.push(o.slice(_)),c[p]>f?c.slice(0,f):c}:"0".split(void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,r):h.call(String(o),n,r)},function(e,t){var r=l(h,e,this,t,h!==n);if(r.done)return r.value;var u=o(e),d=String(this),p=a(u,RegExp),m=u.unicode,b=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"y":"g"),g=new p(f?u:"^(?:"+u.source+")",b),v=void 0===t?4294967295:t>>>0;if(0===v)return[];if(0===d.length)return null===c(g,d)?[d]:[];for(var y=0,O=0,w=[];O<d.length;){g.lastIndex=f?O:0;var E,j=c(g,f?d:d.slice(O));if(null===j||(E=_(s(g.lastIndex+(f?0:O)),d.length))===y)O=i(d,O,m);else{if(w.push(d.slice(y,O)),w.length===v)return w;for(var D=1;D<=j.length-1;D++)if(w.push(j[D]),w.length===v)return w;O=y=E}}return w.push(d.slice(y)),w}]}))},KkBR:function(e,t,n){"use strict";n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return P})),n.d(t,"a",(function(){return k}));var r=n("MZbF"),o=n("q1tI"),a=(n("Oyvg"),n("SRfc"),n("pIFo"),n("91GP"),n("17x9"),n("v+DW")),i=n("6krn"),s=n("dV62"),c=n("WfnU"),u=n("h7Kf"),l=n("+tmx"),_=n("6b4t"),d=n("i8i4"),p=n("ZxpX"),f=n("clTp");class h extends o.Component{constructor(e){super(e),this.addTooltip=e=>{if(this.el){var t=this.props,n=t.text,r=t.position,o=t.align,a=t.marginTop,i=t.marginLeft,s=Object(f.a)(this.el);this.update({text:n,position:r,align:o,rect:s,marginTop:a,marginLeft:i})}},this.removeTooltip=e=>{document.activeElement!==this.inputEl&&this.update({remove:!0})},this.renderTooltip=()=>{if(!this.state.tooltip)return null;var e=this.state.tooltip,t=e.x,n=e.y,r=e.position,a=e.align,i=e.text,s=e.removed,c=this.props,u=c.appearance,l=c.width,_=Object(p.a)("UnblockTooltip","UnblockTooltip--"+r,"UnblockTooltip--"+u,{"UnblockTooltip--removed":!!s,["UnblockTooltip--align-"+a]:"t"===r||"b"===r}),d={top:n,left:t},f=l?{width:l}:{};return o.createElement("div",{className:_,style:d},o.createElement("div",{className:"UnblockTooltip__in",style:f,dangerouslySetInnerHTML:{__html:i}}))},this.state={}}componentDidMount(){this.el=d.findDOMNode(this),this.inputEl="INPUT"===this.el.tagName?this.el:this.el.getElementsByTagName("input")[0],this.backgroundElement=document.getElementById("box_layer_wrap"),this.el.addEventListener("mouseenter",this.addTooltip),this.el.addEventListener("mouseleave",this.removeTooltip),this.inputEl.addEventListener("focus",this.addTooltip),this.inputEl.addEventListener("blur",this.removeTooltip),this.backgroundElement.addEventListener("scroll",this.addTooltip),window.addEventListener("resize",this.addTooltip)}componentWillUnmount(){this.el.removeEventListener("mouseenter",this.addTooltip),this.el.removeEventListener("mouseleave",this.removeTooltip),this.inputEl.removeEventListener("focus",this.addTooltip),this.inputEl.removeEventListener("blur",this.removeTooltip),this.backgroundElement.addEventListener("scroll",this.addTooltip),window.removeEventListener("resize",this.addTooltip)}update(e){var t=e.position,n=e.align,r=e.text,o=e.rect,a=e.marginTop,i=e.marginLeft,s=!o||0===o.top&&0===o.left;if(!0!==e.remove&&this.props.isShown&&!s){var c=o.left,u=o.top;switch(t){case"t":c+=.5*o.width;break;case"r":c+=o.width,u+=.5*o.height;break;case"b":c+=.5*o.width,u+=o.height;break;case"l":u+=.5*o.height}c=Math.round(c+i),u=Math.round(u+a),this.setState({tooltip:{position:t,align:n,text:r,x:c,y:u}})}else this.setState({tooltip:Object.assign({},this.state.tooltip,{removed:!0})})}render(){var e=this.renderTooltip();return e?(this.defaultNode||"undefined"==typeof window||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),o.createElement(o.Fragment,null,this.props.children,d.createPortal(e,this.defaultNode))):this.props.children}}h.defaultProps={appearance:"black",position:"b",align:"center",marginTop:0,marginLeft:0};var m=n("3blr"),b=n("wVf2");class g extends o.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=()=>{document.addEventListener("keydown",this.onDocumentKeyDown),this.setInitialState(),this.synchronizeStateWithBackend()},this.componentWillUnmount=()=>{document.removeEventListener("keydown",this.onDocumentKeyDown),this.removeResendCodeButtonTimer()},this.componentDidUpdate=(e,t)=>{this.state.initialLoading||this.state.delayedUnblockExplanation||this.state.delayedUnblockFinished||t.phone===this.state.phone&&t.code===this.state.code&&t.codeSent===this.state.codeSent||this.updateFocus()},this.sendCode=()=>{if(!this.isBusy()){this.resetMessage();var e={act:g.acts.sendCode,phone:this.getPhonePrefix()+this.state.newPhone,hash:this.state.processHash,sure:1};ajax.post(g.controller,e,{onDone:e=>{this.setStateByProcess(e),this.setResendCodeButtonTimer()},onFail:e=>(this.setErrorMessage(e),!0),showProgress:()=>this.setState({mainButtonLoading:!0}),hideProgress:()=>this.setState({mainButtonLoading:!1})})}},this.sendCodeToBoundPhone=()=>{if(!this.isBusy()){this.resetMessage();var e={act:g.acts.sendCodeToBoundPhone,hash:this.state.processHash};ajax.post(g.controller,e,{onDone:e=>{this.setStateByProcess(e),this.setResendCodeButtonTimer()},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({mainButtonLoading:!0}),hideProgress:()=>this.setState({mainButtonLoading:!1})})}},this.resetPhone=e=>{this.isBusy()||(this.removeResendCodeButtonTimer(),e&&this.resetMessage(),this.setState({phonePrefixIndex:g.constants.firstCountryIndex,backendCallResetsEnabled:null,phone:"",code:"",newPhone:"",newCode:"",phonePrefixInputNeeded:!0,codeSent:!1,checkCodeAttemptsAmount:void 0}))},this.resetUnblockForm=()=>{if(!this.isBusy()){var e={act:g.acts.resetUnblockForm,hash:this.state.processHash};ajax.post(g.controller,e,{onDone:e=>{this.setStateByProcess(e,{delayedUnblockExplanation:"",delayedUnblockFinished:!1})},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({resetUnblockDataButtonLoading:!0}),hideProgress:()=>this.setState({resetUnblockDataButtonLoading:!1})})}},this.checkCode=()=>{if(!this.isBusy())if(this.state.newCode.length<4)Object(a.q)(this.references.validationCodeInput.element);else{this.resetMessage();var e={act:g.acts.checkCode,code:this.state.newCode,hash:this.state.processHash};ajax.post(g.controller,e,{onDone:e=>{this.setStateByProcess(e),this.references.passwordInput.element.focus(),this.setState({mainButtonLoading:!1})},onFail:e=>(this.synchronizeStateWithBackend(()=>{this.setErrorMessage(e),this.setState({mainButtonLoading:!1})}),!0),showProgress:()=>this.setState({mainButtonLoading:!0})})}},this.resendCode=()=>{if(!this.isBusy()){this.resetMessage();var e={act:g.acts.resendCode,hash:this.state.processHash};ajax.post(g.controller,e,{onDone:e=>{this.setStateByProcess(e,{newCode:""}),this.setInfoMessage(this.getResentInfoMessageText()),this.setResendCodeButtonTimer(),this.references.validationCodeInput.element.focus()},onFail:e=>(this.setErrorMessage(e),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({noCodeButtonLoading:!0}),hideProgress:()=>this.setState({noCodeButtonLoading:!1})})}},this.unblock=()=>{if(!this.isBusy())if(g.isBadPassword(this.state.newPassword))Object(a.q)(this.references.passwordInput.element);else{this.resetMessage();var e={act:g.acts.unblock,pass:this.state.newPassword,hash:this.state.unblockHash};ajax.post(g.controller,e,{onDone:e=>{e.delayed_unblock_explanation?this.setState({delayedUnblockExplanation:e.delayed_unblock_explanation,mainButtonLoading:!1}):(this.setState({password:this.state.newPassword}),g.refreshAuthDataAndRedirectToFeed(e.login_hash,e.logout_hash,e.email,this.state.newPassword))},onFail:e=>(this.setErrorMessage(e),this.setState({mainButtonLoading:!1}),this.synchronizeStateWithBackend(),!0),showProgress:()=>this.setState({mainButtonLoading:!0})})}},this.redirectToAuth=()=>{this.setState({redirectToAuthButtonLoading:!0}),window.location.href=document.getElementById("top_logout_link").href},this.synchronizeStateWithBackend=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},n={act:g.acts.getStatus};ajax.post(g.controller,n,{onDone:n=>{e(),t.setStateByProcess(n)},onFail:e=>(t.setErrorMessage(e),t.synchronizeStateWithBackend(),!0)})},this.setStateByProcess=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.getStateByProcess(e);t.state.initialLoading&&(r.initialLoading=!1),n&&Object.assign(r,n),0!==t.state.unbanDataId&&void 0!==t.state.unbanDataId&&r.unbanDataId!==t.state.unbanDataId&&t.setErrorMessage(i.a.getLang("login_unban_data_expired")),t.setState(r),r.delayedUnblockExplanation||r.delayedUnblockFinished||(r.codeSent&&r.resendButtonSecondsLeft&&t.setResendCodeButtonTimer(),0===r.checkCodeAttemptsAmount&&t.resetPhone(!1))},this.getStateByProcess=e=>({phone:e.phone,code:e.code,password:e.password,phonePrefixInputNeeded:!e.phone,canEditPhone:e.can_edit_phone,codeSent:e.code_sent,checkCodeAttemptsAmount:Number(e.check_code_attempts_amount),backendCallResetsEnabled:e.call_resets_enabled,phonePrefixesCallResetsEnabledConfig:e.phone_prefixes_call_resets_enabled_config,phonePrefixesToCountryMapping:e.country_to_phone_prefixes_map,unbanDataId:e.unban_data_id,delayedUnblockExplanation:e.delayed_unblock_explanation,delayedUnblockFinished:e.delayed_unblock_finished,resendCodeTimer:g.constants.noResetCodeTimerEnabled,resendButtonSecondsLeft:e.sms_resend_delay_timer_left,resendAttemptsAmount:e.resend_attempts_amount,resendCodeDelay:e.sms_resend_delay,phonePrefixIndex:this.getInitialPhonePrefixIndex(e.country_to_phone_prefixes_map,e.phone_prefix),newPhone:e.phone,newCode:e.code,newPassword:"",processHash:e.process_hash,unblockHash:e.unblock_hash}),this.areCallResetsEnabled=()=>{if(null!==this.state.backendCallResetsEnabled)return this.state.backendCallResetsEnabled;var e=String(this.state.phonePrefixesToCountryMapping[this.state.phonePrefixIndex][0]),t=Number(e.replace("_",""));return!this.state.phonePrefixesCallResetsEnabledConfig.includes(t)},this.updateFocus=()=>{this.state.phone?this.state.phone&&!this.state.code&&this.state.codeSent?this.references.validationCodeInput.element.focus():this.state.phone&&this.state.code&&this.references.passwordInput.element.focus():this.references.phoneInput.element.focus()},this.setErrorMessage=e=>{this.setState({message:e,isError:!0})},this.setInfoMessage=e=>{this.setState({message:e,isError:!1})},this.resetMessage=()=>{this.setState({message:""})},this.isBusy=()=>this.state.mainButtonLoading||this.state.noCodeButtonLoading||this.state.resetUnblockDataButtonLoading,this.onDocumentKeyDown=e=>{switch(e.keyCode){case KEY.ENTER:this.references.mainButton.props.onClick();break;default:return}e.stopPropagation(),e.preventDefault()},this.setResendCodeButtonTimer=()=>{if(this.state.resendCodeTimer===g.constants.noResetCodeTimerEnabled){var e=this.state.resendButtonSecondsLeft||this.state.resendCodeDelay;this.setState({resendCodeTimer:setInterval(this.resendCodeButtonTimerTick,l.f),resendButtonSecondsLeft:e})}},this.resendCodeButtonTimerTick=()=>{var e=this.state.resendButtonSecondsLeft-1;this.setState({resendButtonSecondsLeft:e}),0===e&&this.removeResendCodeButtonTimer()},this.removeResendCodeButtonTimer=()=>{clearInterval(this.state.resendCodeTimer),this.setState({resendCodeTimer:g.constants.noResetCodeTimerEnabled,resendButtonSecondsLeft:0})},this.noResendsWereMade=()=>this.state.resendAttemptsAmount===g.constants.noCodeResentAmount,this.isLastResendStep=()=>this.state.resendAttemptsAmount===g.constants.maxCodeResentAmount,this.shouldRenderCallResetsSteps=()=>this.areCallResetsEnabled()?this.noResendsWereMade():this.isLastResendStep(),this.getCodeBlockHeaderLabel=()=>this.shouldRenderCallResetsSteps()?i.a.getLang("login_authcheck_called_phone_label"):i.a.getLang("login_confirmation_code"),this.getCodeBlockTooltipLabel=()=>this.shouldRenderCallResetsSteps()?this.props.tooltips.codeCallReset:this.props.tooltips.code,this.getResentInfoMessageText=()=>this.shouldRenderCallResetsSteps()?i.a.getLang("login_authcheck_call_reset_sent"):i.a.getLang("login_authcheck_sms_resent"),this.getResendCodeWaitingLabel=()=>{var e;e=this.areCallResetsEnabled()?this.noResendsWereMade()?i.a.getLang("join_send_code_via_sms_time"):i.a.getLang("join_resend_code_time"):this.noResendsWereMade()?i.a.getLang("join_resend_code_time"):i.a.getLang("login_authcheck_send_call_reset_delay");var t=Math.floor(this.state.resendButtonSecondsLeft/60)+":"+(this.state.resendButtonSecondsLeft%60<10?"0":"")+this.state.resendButtonSecondsLeft%60;return e.replace("%s",t)},this.getResendCodeButtonLabel=()=>this.areCallResetsEnabled()?this.noResendsWereMade()?i.a.getLang("join_send_code_via_sms"):i.a.getLang("join_no_code"):this.noResendsWereMade()?i.a.getLang("join_no_code"):i.a.getLang("login_authcheck_send_call_reset_message"),this.getInitialPhonePrefixIndex=(e,t)=>{var n=e.findIndex(e=>e[3]==t);return-1===n&&(n=g.constants.firstCountryIndex),n},this.mapPhonePrefixesToOption=()=>this.state.phonePrefixesToCountryMapping.map((e,t)=>({constant:t,name:e[1]})),this.getPhonePrefix=()=>this.state.phonePrefixesToCountryMapping[this.state.phonePrefixIndex][3],this.renderResendCodeButton=()=>{var e;if(this.state.resendAttemptsAmount===g.constants.maxCodeResentAmount)e=o.createElement("div",{className:"resend_button resend_button--waiting"},i.a.getLang("reg_code_limit_exceeded"));else if(0===this.state.resendButtonSecondsLeft)e=o.createElement(c.default,{appearance:"link",loading:this.state.noCodeButtonLoading,className:"resend_button",onClick:this.resendCode},this.getResendCodeButtonLabel());else{var t=this.getResendCodeWaitingLabel();e=o.createElement("div",{className:"resend_button resend_button--waiting"},t)}return o.createElement("div",{className:"resend_button_wrap"},e)},this.renderPhonePrefixBlock=()=>{if(!this.state.phonePrefixInputNeeded)return"";var e=this.state.phone?g.constants.finishedClass:"";return o.createElement("div",{className:"input phone_number_prefix_input "+e},o.createElement("div",{className:"label"},i.a.getLang("join_country_label")),o.createElement(_.default,{className:"dark phone_number_prefix _phone_input_tooltip "+e,config:{id:"phone_number_prefix",placeholder:"",selected:[this.state.phonePrefixIndex],options:this.mapPhonePrefixesToOption()},singleSelectCrutch:!0,onFilterChange:(e,t)=>{this.setState({phonePrefixIndex:null===t?this.state.phonePrefixIndex:t})},readOnly:!!this.state.phone}))},this.renderPhoneBlock=()=>{var e=this.state.phone&&!this.state.code&&this.state.canEditPhone?o.createElement("a",{className:"_change_phone_button",onClick:()=>this.resetPhone(!0)},i.a.getLang("login_unblock_form_change_phone")):"",t=this.state.phonePrefixInputNeeded?this.getPhonePrefix():"",n=this.state.phone?g.constants.finishedClass:"",r=!this.state.phone&&!this.state.code&&this.state.phonePrefixInputNeeded,a=this.state.newPhone;return o.createElement("div",{className:"input phone_number_input"},o.createElement("div",{className:"label"},i.a.getLang("login_mobile_phone")),e,o.createElement(h,{text:this.getPhoneBlockTooltipLabel(),appearance:g.constants.tooltipAppearance,position:g.constants.tooltipPosition,width:g.constants.tooltipWidth,marginLeft:g.constants.tooltipMarginLeft,isShown:r},o.createElement("div",{id:"join_phone_prefixed",className:"prefix_input_wrap "+n},o.createElement("div",{id:"join_phone_prefix",className:"prefix_input_prefix"},o.createElement("nobr",null,t)),o.createElement("div",{className:"prefix_input_field"},o.createElement(u.default,{className:"prefix_input phone_number _phone_input_tooltip "+n,value:a,readOnly:!!this.state.phone,onChange:e=>this.setState({newPhone:e.target.value}),ref:e=>{this.references.phoneInput=e}}),o.createElement("div",{className:"prefix_input_border"})))))},this.renderCodeBlock=()=>{if(!this.state.phone)return"";if(!this.state.codeSent)return"";var e=this.getCodeBlockHeaderLabel(),t=this.state.code?g.constants.finishedClass:"",n=this.state.phone&&!this.state.code,r=!!this.state.code;return o.createElement("div",{className:"input verification_code_input"},o.createElement("div",{className:"label"},e),o.createElement(h,{text:this.getCodeBlockTooltipLabel(),appearance:g.constants.tooltipAppearance,position:g.constants.tooltipPosition,width:g.constants.tooltipWidth,marginLeft:g.constants.tooltipMarginLeft,isShown:n},o.createElement(u.default,{className:"verification_code _verification_code_input_tooltip dark "+t,ref:e=>{this.references.validationCodeInput=e},placeholder:i.a.getLang("login_authcheck_enter_code"),value:this.state.newCode,readOnly:r,onChange:e=>this.setState({newCode:e.target.value})})))},this.renderPasswordBlock=()=>{if(!this.state.phone||!this.state.code)return"";var e=g.checkPasswordStrength(this.state.newPassword),t=this.state.newPassword?o.createElement("div",{id:"blocked_about_pass",className:"blocked_pwd_level"+e}):"",n=this.state.newPassword?o.createElement("div",{className:"blocked_pass_strength blocked_about_login"},i.a.getLang("join_pwd_level"+e)):"",r=!this.state.password;return o.createElement("div",{className:"input new_password_input"},o.createElement("div",{className:"label"},i.a.getLang("login_new_password_label")),o.createElement(h,{text:this.props.tooltips.password,appearance:g.constants.tooltipAppearance,position:g.constants.tooltipPosition,width:g.constants.tooltipWidth,marginLeft:g.constants.tooltipMarginLeft,isShown:r},o.createElement(u.default,{className:"dark new_password _password_input_tooltip",ref:e=>{this.references.passwordInput=e},placeholder:i.a.getLang("login_enter_password"),value:this.state.newPassword,onChange:e=>this.setState({newPassword:e.target.value})})),t,n)},this.renderMainButton=()=>{var e,t,n,r=this.areCallResetsEnabled()?i.a.getLang("reg_validate_call_reset_button"):i.a.getLang("login_receive_code");if(this.state.phone||this.state.code)if(this.state.phone&&!this.state.code)this.state.codeSent?(e=this.checkCode,t=i.a.getLang("login_check_code"),n=this.renderResendCodeButton()):(e=this.sendCodeToBoundPhone,t=r,n="");else{if(!this.state.phone||!this.state.code)return"";e=this.unblock,t=i.a.getLang("login_blocked_unblock_page"),n=""}else e=this.sendCode,t=r,n="";return o.createElement("div",null,o.createElement(c.default,{className:"UnblockForm__mainButton",loading:this.state.mainButtonLoading,onClick:e,ref:e=>{this.references.mainButton=e}},t),n)},this.renderMessage=()=>{if(!this.state.message)return"";var e=this.state.isError?"error":"";return o.createElement("div",{id:"unblock_box_errors_block"},o.createElement("div",{className:"msg submit_error "+e,dangerouslySetInnerHTML:{__html:this.state.message}}))},this.renderContent=()=>this.state.initialLoading?g.renderInitialLoading():this.state.delayedUnblockExplanation?this.renderDelayedWaitExplanation():this.state.delayedUnblockFinished?this.renderDelayedUnblockFinishedScreen():o.createElement("div",{className:"UnblockForm__content__inputs"},this.renderPhonePrefixBlock(),this.renderPhoneBlock(),this.renderCodeBlock(),this.renderPasswordBlock(),this.renderMainButton()),this.renderDelayedWaitExplanation=()=>o.createElement("div",{className:"DelayedWaitExplanation"},o.createElement("div",{className:"DelayedWaitExplanation__message msg submit_error ",dangerouslySetInnerHTML:{__html:i.a.getLang("restore_change_phone_done_wait_banned").replace("{date}",this.state.delayedUnblockExplanation)}}),o.createElement("div",{className:"DelayedWaitExplanation__progressWrap"},o.createElement(c.default,{appearance:"tertiary",loading:this.state.resetUnblockDataButtonLoading,onClick:this.resetUnblockForm},i.a.getLang("login_delayed_its_not_me")))),this.renderDelayedUnblockFinishedScreen=()=>o.createElement("div",{id:"unblock_box_errors_block"},o.createElement("div",{className:"msg submit_error ",dangerouslySetInnerHTML:{__html:i.a.getLang("login_delayed_request_finished")}}),o.createElement("div",{className:"DelayedRequestFinished__button"},o.createElement(c.default,{loading:this.state.redirectToAuthButtonLoading,onClick:this.redirectToAuth},i.a.getLang("login_unblock_redirect_to_auth"))),o.createElement("div",{className:"DelayedRequestFinished__notMeButton"},o.createElement(c.default,{appearance:"tertiary",loading:this.state.resetUnblockDataButtonLoading,onClick:this.resetUnblockForm},i.a.getLang("login_delayed_its_not_me")))),this.render=()=>o.createElement("div",{className:"UnblockForm"},o.createElement("div",{className:"UnblockForm__header box_title_wrap"},o.createElement("div",{className:"box_x_button",role:"button",onClick:s.a}),o.createElement("div",{className:"box_title"},i.a.getLang("login_blocked_call_title"))),o.createElement("div",{className:"UnblockForm__content box_body clear_fix"},o.createElement("div",{className:"login_blocked_wrap"},o.createElement("div",{className:"unblock_form"},o.createElement("div",{className:"UnblockForm__content__header"},o.createElement("div",{className:"antispam_team_logo"}),o.createElement("div",{className:"reason"},i.a.getLang("login_unblock_form_explanation"))),this.renderMessage(),this.renderContent())))),this.state={initialLoading:!0},this.references={phoneInput:null,validationCodeInput:null,passwordInput:null,mainButton:null}}setInitialState(){this.setState({message:"",isError:!1,initialLoading:!0,mainButtonLoading:!1,noCodeButtonLoading:!1,resetUnblockDataButtonLoading:!1,redirectToAuthButtonLoading:!1})}getPhoneBlockTooltipLabel(){return this.areCallResetsEnabled()?this.props.tooltips.phoneCallReset:this.props.tooltips.phone}}g.controller="/al_login.php",g.acts={getStatus:"get_unblock_process_status",sendCode:"send_unblock_code",sendCodeToBoundPhone:"send_unblock_code_to_bound_phone",resendCode:"resend_unblock_code",checkCode:"check_unblock_code",unblock:"unblock",resetUnblockForm:"reset_unblock_form"},g.constants={finishedClass:"finished",maxCodeResentAmount:2,noCodeResentAmount:0,firstCountryIndex:0,noResetCodeTimerEnabled:0,tooltipWidth:250,tooltipMarginLeft:5,tooltipAppearance:"white",tooltipPosition:"r",passwordStrengths:{none:-1,incorrectTooShort:0,weakTypical:1,good:2,veryGood:3,excellent:4,incorrectHasSpaces:5}},g.refreshAuthDataAndRedirectToFeed=(e,t,n,r)=>{var o=utilsNode.appendChild(ce("div",{innerHTML:'\n      <form id="login_block_auth_form" target="login_block_auth_frame" action="" method="POST">\n        <input type="hidden" name="_origin" id="login_server_origin" />\n        <input type="hidden" name="email" id="login_block_email" />\n        <input type="hidden" name="pass" id="login_block_pass" />\n      </form>\n      <iframe name="login_block_auth_frame" id="login_block_auth_frame"></iframe>'})),a=window.onLoginDone,i=ge("login_block_auth_form");i.action=Object(b.a)()+"?act=login&ip_h="+t+"&lg_h="+e+"&redirect=1&role=al_frame",val("login_block_email",winToUtf(n)),val("login_block_pass",winToUtf(r)),val("login_server_origin",cur.serverOrigin),i.submit(),cur.destroy.push(()=>{re(o),window.onLoginDone=a}),window.onLoginDone=()=>{re(o),nav.go("/feed",!0)}},g.isBadPassword=e=>{var t=[g.constants.passwordStrengths.incorrectHasSpaces,g.constants.passwordStrengths.incorrectTooShort],n=g.checkPasswordStrength(e);return t.includes(n)},g.checkPasswordStrength=e=>{var t=g.constants.passwordStrengths.none,n=["qwerty","йцукен","gfhjkm","пароль","password","abc123","fuckyou","123abc","baseball","football","soccer","monkey","liverpool","princess","jordan","slipknot","superman","iloveyou"];if(e.length<6)t=g.constants.passwordStrengths.incorrectTooShort;else if(/\s/.test(e))t=g.constants.passwordStrengths.incorrectHasSpaces;else if(e.match(/^\d+$/)||n.indexOf(e)>=0||e.substr(-1).match(/\d/)&&n.indexOf(e.substr(0,e.length-1))>=0)t=g.constants.passwordStrengths.weakTypical;else{for(var r=[/[^a-z]/g,/[^A-Z]/g,/[^а-яё]/g,/[^А-ЯЁ]/g,/[^0-9]/g,/[a-zA-Zа-яА-ЯёЁ0-9]/g],o=[],a=0,i=0,s=r.length;i<s;++i){var c=e.replace(r[i],"").length;c&&(c>1&&a++,o.push({group:i,cnt:c}))}if(o.length<3&&o[o.length-1].group!=r.length-1&&a<2&&(t=g.constants.passwordStrengths.good),(a>2||o.length>2&&o[o.length-1].group==r.length-1)&&(t=g.constants.passwordStrengths.excellent),t<0&&a>1){var u=e.replace(r[r.length-1],"");u.length>1&&u.replace(new RegExp(escapeRE(u.charAt(0)),"g"),"").length&&(t=g.constants.passwordStrengths.excellent)}t<0&&(t=g.constants.passwordStrengths.veryGood),t&&t<3&&e.length>13&&t++}return t},g.renderInitialLoading=()=>o.createElement("div",{className:"InitialLoading"},o.createElement(m.default,null));var v=n("zxIV"),y=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},O=function(){function e(e){this.containerEl=e,this.viewportEl=e.firstElementChild,this.layerEl=this.viewportEl.firstElementChild,this.initializeSlides()}return e.prototype.init=function(){this.setIndex(0)},e.prototype.initializeSlides=function(){var e;this.slides=y([],this.layerEl.children).map((function(e,t){return{coordX:t*e.offsetWidth,width:e.offsetWidth,el:e}})),this.viewportEl.style.width=(null===(e=this.slides[0])||void 0===e?void 0:e.width)+"px";var t=this.containerEl.offsetWidth,n=this.viewportEl.offsetWidth;this.layerWidth=this.slides.reduce((function(e,t){return t.width+e}),0),this.min=n-(t-n)/2-this.layerWidth,this.max=0},e.prototype.validateIndent=function(e){var t=this.min,n=this.max;return e<t?t:e>n?n:e},e.prototype.calculateIndent=function(e){var t=this.slides,n=t.length?t[e]:null;if(n){var r=n.coordX;return this.validateIndent(-1*r)}return 0},e.prototype.render=function(){var e=this,t=this.calculateIndent(this.currentIndex);requestAnimationFrame((function(){e.layerEl.style.transform="translateX("+t+"px)"})),y([],this.layerEl.children).forEach((function(t,n){t.classList.toggle("LoginRecentUsersGallery__slide--prev2",n===e.currentIndex-2),t.classList.toggle("LoginRecentUsersGallery__slide--active",n===e.currentIndex),t.classList.toggle("LoginRecentUsersGallery__slide--next2",n===e.currentIndex+2)}))},e.prototype.setRelativeIndex=function(e){this.currentIndex=Math.max(0,Math.min(this.currentIndex+e,this.slides.length-1)),this.onChange(this.currentIndex),this.render()},e.prototype.setIndex=function(e){this.currentIndex=Math.max(0,Math.min(e,this.slides.length-1)),this.onChange(this.currentIndex),this.render()},e}(),w=n("o7bv"),E=n("EasH"),j=function(){function e(e){this.rootEl=e,this.init()}return e.prototype.init=function(){var e=this.rootEl,t=e.querySelector(".LoginBox__form");if(t){var n=e.querySelector(".LoginBox__formExpire"),r=e.querySelector(".LoginBox__buttonSignIn"),o=e.querySelector(".LoginBox__buttonSignUp"),i=e.querySelector('[name="email"]'),s=e.querySelector('[name="pass"]'),c=e.querySelector('[name="ul"]');i&&Object(w.b)(i),s&&Object(w.b)(s),null==n||n.addEventListener("click",(function(e){e.preventDefault(),Object(a.c)(n)})),s&&s.addEventListener("input",(function(){t.classList.toggle("LoginBox--showExpire",s.value.trim().length>0)})),o&&(o.onclick=function(){return Object(E.b)("join.php",{act:"box",from:window.nav.strLoc}),!1}),t.onsubmit=function(){if(Object(a.k)(r))return!1;var e=window.submitQuickLoginForm;if(!e)return!0;var t=i?i.value.trim():"",o=s?s.value.trim():"",u=Number(Object(a.l)(n));if(i&&!t)return Object(a.q)(i),!1;if(!o)return Object(a.q)(s),!1;var l={expire_input:u};return c&&c.value&&(l.ul=c.value),e(t,o,{prg:"login_button",params:l}),Object(a.o)(r),!1},requestAnimationFrame((function(){var e;null===(e=i||s)||void 0===e||e.focus()}))}},e}();function D(e){e&&new j(e)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.querySelector('.LoginRecentBox [name="ul"]'),r=e.querySelector(".LoginRecentBox__alternative"),o=e.querySelector(".LoginRecentBox .LoginBox__title");r.addEventListener("click",t=>{t.preventDefault(),e.classList.add("LoginCombinedBox--standard")});var a=new O(e.querySelector(".LoginRecentBox__users"));a.onChange=e=>{var r=t.users[e];r&&(o.innerHTML=r.title,n&&(n.value=r.encrypted))},a.init(),e.querySelectorAll(".LoginRecentBox__user").forEach((e,t)=>{e.addEventListener("click",()=>{a.setIndex(t)})})}var k={init(){each(geByClass("big_text","login_form_wrap"),(e,t)=>{placeholderInit(t)}),setTimeout(v.H.pbind(!isVisible("email")||val("email")?"pass":"email"),0);var e=ge("login_form"),t=ge("email"),n=ge("pass"),r=val("login_ul");return e.onsubmit=()=>{if(!window.submitQuickLoginForm)return!0;if(!r&&!trim(t.value))return notaBene(t),!1;if(!trim(n.value))return notaBene(n),!1;var e={expire_input:val("expire_input")};return r&&(e.ul=r),submitQuickLoginForm(t.value,n.value,{prg:"login_button",params:e}),!1},window.loginByCredential&&!r&&(t.onclick=loginByCredential,n.onclick=loginByCredential),!0},initBlockedPage(){r.a.tryInit()},initBox(){var e=curBox();e.changed=!0,e.setOptions({width:560,onClean:()=>{},hideButtons:!0,bodyStyle:"padding: 0"}),D(document.querySelector(".LoginBox"))},changeMail(e,t,n){var r=trim(val("login_new_mail")),o=1;return r?(e&&(n=cur.changeMailHash),-1==r.indexOf("@")?showMsg("login_change_mail_error",getLang("reg0_error_bad_email"),"error"):(e&&(o=0),void ajax.post("/login?act=a_change_mail",{newmail:r,hash:n,from_page:o},{onDone(t){var n="login_change_mail_form";e&&(n="login_change_mail_box",curBox().removeButtons(),curBox().addButton(getLang("global_cancel"),null,"no")),val(n,t)},onFail:e=>(showMsg("login_change_mail_error",e,"error"),!0),showProgress:lockButton.pbind(t),hideProgress:unlockButton.pbind(t)}))):notaBene("login_new_mail")},initChangeMailBox(){curBox().removeButtons(),curBox().addButton(getLang("global_cancel"),null,"no"),curBox().addButton(getLang("reg0_change_mail"),k.changeMail.pbind(1)),Object(v.H)("change_mail_new")},isBanExpired:()=>cur.unblockDate<Date.now()/1e3,canUnblockFast:()=>!0===cur.canUnblockFast,showUnblockForm(){Object(s.e)(o.createElement(g,{tooltips:{phone:cur.phoneTooltip,phoneCallReset:cur.phoneCallResetTooltip,code:cur.verificationCodeTooltip,codeCallReset:cur.verificationCodeCallResetTooltip,password:cur.passwordTooltip}}))},fastUnblock:e=>{var t={act:"fast_unblock",hash:e},n=document.getElementsByClassName("unblock_button--fast")[0];n?ajax.post("/al_login.php",t,{onDone:function(){showDoneBox(getLang("login_fast_unblocked_wait_description"),{out:5e3}),nav.reload()},onFail:function(e){return unlockButton(n),showDoneBox(e),!0},showProgress:()=>lockButton(n)}):showFastBox(getLang("global_error"))},showDeletePageBox(){showFastBox(getLang("login_blocked_delete_page_header"),getLang("login_blocked_sure_delete_page_question"),getLang("box_yes"),()=>{ajax.post("al_settings.php",{act:"a_deactivate",hash:cur.deactivate_hash},{onDone:e=>{showDoneBox(e),nav.go("/id"+vk.id)},onFail:e=>{showDoneBox(e),curBox().hideProgress()}})},getLang("box_no"))}}},KroJ:function(e,t,n){var r=n("dyZX"),o=n("Mukb"),a=n("aagx"),i=n("ylqs")("src"),s=n("+lvF"),c=(""+s).split("toString");n("g3g5").inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(a(n,"name")||o(n,"name",t)),e[t]!==n&&(u&&(a(n,i)||o(n,i,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[i]||s.call(this)}))},Kuth:function(e,t,n){var r=n("y3w9"),o=n("FJW5"),a=n("4R4u"),i=n("YTvA")("IE_PROTO"),s=function(){},c=function(){var e,t=n("Iw71")("iframe"),r=a.length;for(t.style.display="none",n("+rLv").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[a[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[i]=e):n=c(),void 0===t?n:o(n,t)}},LQAc:function(e,t){e.exports=!1},LZWt:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},LlZA:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("v+DW"),o=n("zxIV"),a=n("kcIO"),i=n("o7bv"),s=n("ryw6"),c=n("xt6h"),u=n("4+be");function l(e,t){for(var n=[[0,Object(u.d)("index_sel_bday")]],r=Object(c.e)(e,t),o=1;o<=r;++o)n.push([o,String(o)]);return n}function _(e,t,n,r){Number(n.val())>Object(c.e)(e,t)&&n.clear(),n.setData(l(e,t).slice(Number(r)?1:0))}var d=n("9r2g"),p=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function f(e,t){var n,c=t.from,u=t.bdateMonths,f=t.bdateYears,h=t.proceedAs,m=t.fbApp,b=t.fbState,g=t.fbLocale,v=t.ref,y=t.values,O=void 0===y?{}:y,w=t.onSignInClick,E=t.onNotNowClick,j=window.cur.options||{},D=j.bday||0,P=j.bmonth||0,k=j.byear||0;n="invite"===v?d.EventScreens.REGISTRATION_INVITE_CONFIRM:h?d.EventScreens.START_PROCEED_AS:"box"===v?d.EventScreens.START_BOX:d.EventScreens.START,window.cur.eventScreen=n,d.registrationItemStat.logEvent(d.RegistrationItemEventTypes.SCREEN_PROCEED,d.EventScreens.NOWHERE,n);var C,T,x,I=e.querySelector(".JoinForm__error"),A=e.querySelector('.JoinForm__textInput[name="first_name"]'),M=e.querySelector('.JoinForm__textInput[name="last_name"]'),S=e.querySelector(".JoinForm__birthdateDayInput"),L=e.querySelector(".JoinForm__birthdateMonthInput"),B=e.querySelector(".JoinForm__birthdateYearInput"),R=e.querySelector(".JoinForm__sex"),N=e.querySelectorAll(".JoinForm__sexRadio"),U=e.querySelector(".JoinForm__birthdate"),F=e.querySelector(".JoinForm__submitButton"),W=e.querySelector(".JoinForm__facebookLogin"),K=e.querySelector(".JoinForm__facebookLogin .FacebookLogin__button"),H=e.querySelector(".JoinForm__signIn"),q=e.querySelector(".JoinForm__notNow");if(A&&M&&F){var V=function(){if(!Object(r.k)(F)){var e={fname:A.value.trim(),lname:M.value.trim(),bday:C.val(),bmonth:T.val(),byear:x.val(),from:c,frm:1,event_screen:n};Object(o.fb)(R)&&(e.sex=Number(Object(r.s)("join_form_sex"))||0),window.tooltips&&window.tooltips.hideAll();var t=function(e,t){e&&t&&window.Index.showRegTT(e,t)};I&&(I.innerHTML=""),window.ajax.post("join.php?act=start",e,{onDone:function(e,n){switch(e){case"first_name":return t(A,n),void Object(r.q)(A);case"last_name":return t(M,n),void Object(r.q)(M);case"sex_row":return Object(o.xb)(R),void t(R,n);case"birthdate_row":return void t(U,n)}n&&Object(s.b)(I,n,"error",!0)},showProgress:function(){return Object(r.o)(F)},hideProgress:function(){return Object(r.w)(F)}})}},z=function(){var e=Number(C.val())||0,t=Number(T.val())||0,n=Number(x.val())||0,r=new Date(0);e&&r.setDate(e),t&&r.setMonth(t),n&&r.setFullYear(n),d.registrationItemStat.logFieldInteraction(d.RegistrationFieldItemNames.BDAY,r.getTime().toString())},G=function(){var e=window.cur;e.isJoinFieldDirty||(d.registrationItemStat.logEvent(d.RegistrationItemEventTypes.START_REG_TAP,e.eventScreen,void 0,{force:!0}),e.isJoinFieldDirty=!0)};if(d.registrationItemStat.logFieldInteraction(d.RegistrationFieldItemNames.FIRST_NAME,A.value,!0),A.addEventListener("keyup",(function(){G(),d.registrationItemStat.logFieldInteraction(d.RegistrationFieldItemNames.FIRST_NAME,A.value)})),d.registrationItemStat.logFieldInteraction(d.RegistrationFieldItemNames.LAST_NAME,M.value,!0),M.addEventListener("keyup",(function(){G(),d.registrationItemStat.logFieldInteraction(d.RegistrationFieldItemNames.LAST_NAME,M.value)})),[A,M].forEach((function(e){Object(i.b)(e),e.addEventListener("keydown",(function(e){10!==e.keyCode&&13!==e.keyCode||V()}))})),"index"!==v&&requestAnimationFrame((function(){return Object(o.H)(A)})),d.registrationItemStat.logFieldInteraction(d.RegistrationFieldItemNames.BDAY,"",!0),C=new window.Dropdown(S,l(k,P),{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:D,onChange:function(){G(),z()}}),T=new window.Dropdown(L,u,{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:P,onChange:function(e){G(),z(),_(x.val(),e,C,D)}}),x=new window.Dropdown(B,f,{big_text:!0,multiselect:!1,zeroPlaceholder:!0,selectedItems:k,onChange:function(e){G(),z(),_(e,T.val(),C,D)}}),window.radioBtns.join_form_sex={els:p([],N),val:0},d.registrationItemStat.logFieldInteraction(d.RegistrationFieldItemNames.SEX,Number(Object(r.s)("join_form_sex")).toString(),!0),N.forEach((function(e){e.addEventListener("click",(function(){var t=Number(e.dataset.sex);Object(r.r)(e,t,"join_form_sex"),G(),d.registrationItemStat.logFieldInteraction(d.RegistrationFieldItemNames.SEX,t.toString())}))})),void 0!==O.sex){var $=O.sex,J=e.querySelector('.JoinForm__sexRadio[data-sex="'+$+'"]');J&&J.click()}if(F.addEventListener("click",(function(e){e.preventDefault(),V()})),m){var Y=window.cur;Y.fbApp=m,Y.fbState=b,Y.fbLocale=g,window.Index.fbCheck(m,"",W)}null==K||K.addEventListener("click",(function(e){e.preventDefault(),window.Index.fbJoin("",K)})),H&&w&&H.addEventListener("click",w),q&&E&&q.addEventListener("click",E);var X=Object(a.b)();X&&X.setOptions({onClean:function(){C&&C.destroy(),T&&T.destroy(),x&&x.destroy()}}),window.stManager.add([window.jsc("web/tooltips.js"),"tooltips.css"]).catch((function(){}))}}},LyE8:function(e,t,n){"use strict";var r=n("eeVq");e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},M6Qj:function(e,t,n){var r=n("hPIQ"),o=n("K0xU")("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},MNOG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("R5GP"),o=n("ftTi");function a(e){var t=Object(o.c)(e),n=Object(o.l)(e),a=Object(o.f)(e),i=t?"mgid"+t:"msg",s=Object(r.b)(e);window.handlePageCount(i,n,"","",s.unread_counters.countNotMuted>0,a)}},MSYF:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("91GP"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("KKXr"),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("OG14"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a1Th"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("VRzm"),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("Btvt"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("pIFo"),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("Oyvg"),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("SRfc"),_utils_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("t7n3"),_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("jE6c"),_ads__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("m0N1"),_debug_tools__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("98sY"),_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("zxIV"),_dom_events__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("Egk5"),_scroll__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("lXE5"),_ui_util__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("ryw6"),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("cGUQ"),_nav_utils__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("kHqu"),_shared_counters_updateCounters__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("y/eL"),_layout_utils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("El3O"),_video__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("Ia1d"),_legacy_performance_stats__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("eNQP"),_browser__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("gdug"),_feature_entries__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("/PiP"),_accessibility__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("QGEU"),_top_search__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("Bszp"),_stl__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("i6oL"),_utils__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("aong"),_message_box__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("EasH"),_lang__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("4+be"),_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("T3FL"),_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("aALx"),_shared_evbus__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("MJEz"),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("W9Tc"),_shared_network_stats_module_navigation_module_navigation_collector__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("XHVZ"),_shared_network_stats_module_navigation_module_navigation_collector_config__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("TFVZ"),_shared_network_stats__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("egla"),_shared_lib_storage__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("tGJf");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var SHOW_MORE_APPS_SHOWN_CLASSNAME="show_more_apps_container_shown",SHOW_MORE_APPS_BUTTON_HIDDEN_CLASSNAME="show_more_apps_button_hidden",updateCountersTimeout,Nav={getData:function(e){if(e.length){for(var t in navMap){if(navMap.hasOwnProperty(t))if("<"!==t[0])if(e.match(new RegExp("^"+t,"i")))return navMap[t][2]?null:{url:navMap[t][0],files:navMap[t][1]}}return e.match(/^[a-z0-9\-_]+\.php$/i)?{url:e}:{url:navMap["<other>"][0],files:navMap["<other>"][1]}}return{url:navMap["<void>"][0],files:navMap["<void>"][1]}},reload:function(e){if(!Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.g)(e)){e=e||{};var t=Nav.strLoc.replace(/^\/+/g,"");e.force?(hab.stop(),location.href="/"+t):(TopNotifier.invalidate(),Nav.go("/"+t,void 0,Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)({nocur:!0},e)))}},link:function(e,t){if(Object(_dom_events__WEBPACK_IMPORTED_MODULE_14__.d)(t)||cur.noAjaxNav){var n=e.replace(new RegExp("^("+locProtocol+"//"+locHost+")?/?","i"),"");window.open(n)}else Nav.go(e)},go:function go(loc,ev){var opts=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Nav.showLessApps(),loc&&loc.href&&loc.getAttribute&&loc.getAttribute("data-change-location-with-post-away")){var newLink=loc.href,_postParams=Nav.getPostParams(loc,!(!opts.params||!opts.params._post_click_type)),postOptions=Nav.mergePostParamsOptions(_postParams,opts.params),extraQuery={};return postOptions._post&&(extraQuery.post=postOptions._post,postOptions._post_ad_data&&(extraQuery.post_ad_data=postOptions._post_ad_data),postOptions._post_click_cc_key&&(extraQuery.cc_key=postOptions._post_click_cc_key),newLink="/away.php?to="+encodeURIComponent(newLink)+"&"+Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(extraQuery)),location.href=newLink,!1}if(!Object(_dom_events__WEBPACK_IMPORTED_MODULE_14__.d)(ev)&&!cur.noAjaxNav){if(LongView.onBeforePageChange(),loc.tagName&&"a"===loc.tagName.toLowerCase()){if("_blank"===loc.target||Nav.baseBlank)return;var _params=loc.getAttribute("hrefparams");if(_params&&(opts.params=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(opts.params||{},Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.fromQueryString)(_params))),loc=loc.href||"",ev&&!(loc||"").match(new RegExp("^"+locProtocol+"//"+locHost,"i")))return}var strLoc="",objLoc={},changed={};"string"==typeof loc?(loc=loc.replace(new RegExp("^("+locProtocol+"//"+locHost+")?/?","i"),""),strLoc=loc,objLoc=Nav.fromStr(loc)):(loc[0]||(loc[0]=""),strLoc=Nav.toStr(loc),objLoc=loc),opts.hard&&(location.href=strLoc),Object(_legacy_performance_stats__WEBPACK_IMPORTED_MODULE_22__.b)(),Object(_legacy_performance_stats__WEBPACK_IMPORTED_MODULE_22__.c)(),0===strLoc.indexOf("market")&&window.MarketAnalyticsManager&&window.MarketAnalyticsManager.setScreen(window.cur.module);var donutLinkRegex=/^donut\/([A-Za-z0-9_\.]{2,32})/;if(!opts.skipDonutLinkCheck&&strLoc.match(donutLinkRegex)){var source="direct_link",parsedLoc=strLoc.match(donutLinkRegex),ownerDomain=parsedLoc[1],groupDoesntExistsCallback=()=>{nav.go(strLoc,ev,_extends({},opts,{skipDonutLinkCheck:!0}))};return Object(_feature_entries__WEBPACK_IMPORTED_MODULE_24__.B)(null,null,null,source,"",{type:"subscribe",fromSnippet:!0,onFailCallback:groupDoesntExistsCallback,params:{act:"subscribe_popup"}},ownerDomain),!1}var ap=Object(_feature_entries__WEBPACK_IMPORTED_MODULE_24__.l)();if(ap&&ap.updateCurrentPlaying&&ap.updateCurrentPlaying(),!opts.nocur){for(var i in changed=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.d)(objLoc),Nav.objLoc)Nav.objLoc.hasOwnProperty(i)&&(Nav.objLoc[i]===changed[i]?delete changed[i]:void 0===changed[i]&&(changed[i]=!1));if(!1===Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.k)(Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.d)(changed),{hist:opts.hist,asBox:opts.asBox,onDone:opts.onDone},objLoc))return Nav.setLoc(strLoc),!1;bookmarksNav(ev,strLoc);var onArticleNavBack=cur._back&&cur._back.hasOwnProperty("onArticleNavBack")?cur._back.onArticleNavBack:null,isHandled=articleNav(strLoc,Nav.toStr(Nav.objLoc),opts.back,onArticleNavBack,ev);if(isHandled)return Promise.resolve(isHandled).then(()=>{strLoc=cleanArticleUrlByObjLoc(objLoc),Nav.setLoc(strLoc,!0),(Nav.objLoc.z||Nav.objLoc.w)&&Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.k)({z:Nav.objLoc.z,w:Nav.objLoc.w},{})}),!1;var isHandledAuthorPage=authorPageNav(strLoc,Nav.toStr(Nav.objLoc),opts.back,opts.postId);if(isHandledAuthorPage)return window.AuthorPage&&window.AuthorPage.isOpen()&&cur.articleEditorLayer&&cur.articleEditorLayer.hide(!1),cur._hardNav?(window.location.href=strLoc,!1):(Nav.setLoc(strLoc),(Nav.objLoc.z||Nav.objLoc.w)&&Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.k)({z:Nav.objLoc.z,w:Nav.objLoc.w},{}),!1)}if(!opts.nocur&&(vk.loaded||!changed[0]))for(var curnav=cur.nav||[],_i=curnav.length-1;_i>=0;_i--){var oldUrl=document.URL;if(!1===curnav[_i](Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.d)(changed),Nav.objLoc,objLoc,opts)){var currentURL=`${locProtocol}//${location.host}/${strLoc}`,referrer=oldUrl===currentURL?"":oldUrl;return updateCountersTimeout&&clearTimeout(updateCountersTimeout),updateCountersTimeout=setTimeout(_shared_counters_updateCounters__WEBPACK_IMPORTED_MODULE_19__.a.pbind(currentURL,referrer),10),!1}}if(4===vk.al||!vk.loaded&&(!window.audioPlayer||!audioPlayer.player)&&changed[0])return setTimeout((function(){location.href="/"+(strLoc||"").replace("%23","#")}),0),!1;if(window.Upload&&Upload.terminateAllUploads(),Object(_top_search__WEBPACK_IMPORTED_MODULE_26__.c)(),opts.back){if(cur._back&&cur._back.onBack)return cur._back.onBack(strLoc);for(var _i2=0,l=globalHistory.length;_i2<l;_i2++)if(globalHistory[_i2].loc===strLoc){var _ret=function(){var e=globalHistory.splice(_i2,1)[0],t=Object(_dom__WEBPACK_IMPORTED_MODULE_13__.J)("wrap3"),n=Object(_dom__WEBPACK_IMPORTED_MODULE_13__.J)("title"),r=cur._onback;return window.tooltips&&tooltips.destroyAll(),Object(_dom__WEBPACK_IMPORTED_MODULE_13__.bb)("audio_tip_wrap"),Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.f)(cur),window.radioBtns=e.radioBtns,window.ajaxCache=e.ajaxCache,window.PageID=e.pid,boxQueue.hideAll(!1,!0),layerQueue.clear(),layers.fullhide&&layers.fullhide(!0),Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.h)(),window.cur=e.cur,setTimeout((function(){if(t.innerHTML="",t.parentNode.replaceChild(e.content,t),vk.width===e.width&&vk.width_dec===e.width_dec&&vk.width_dec_footer===e.width_dec_footer||Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.d)(e),Object(_scroll__WEBPACK_IMPORTED_MODULE_15__.g)(e.scrollTop,0),Object(_dom__WEBPACK_IMPORTED_MODULE_13__.tb)(e.htitle),n&&(n.innerHTML=e.title,Object(_dom__WEBPACK_IMPORTED_MODULE_13__.vb)(n.parentNode,"display",e.hideHeader?"none":"block")),e.bodyClass!==bodyNode.className&&(bodyNode.className=e.bodyClass||"",vk.body_class=e.bodyClass||""),cur._back.show)for(var o=0,a=cur._back.show.length;o<a;o++)cur._back.show[o]();if(!cur.noquickreg&&Object(_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.j)(window.changeQuickRegButton)&&window.changeQuickRegButton(!1),r)for(var i=0,s=r.length;i<s;i++)r[i]();Nav.setLoc(strLoc);var c=e.back||{};setTimeout((function(){_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.b.addStatEvent(_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.b.getModule(),_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.a.BACK),Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.h)(c[0],c[1],c[2]),(Nav.objLoc.z||Nav.objLoc.w)&&Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.k)({z:Nav.objLoc.z,w:Nav.objLoc.w},{}),Object(_stl__WEBPACK_IMPORTED_MODULE_27__.b)(),Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.j)(),Object(_accessibility__WEBPACK_IMPORTED_MODULE_25__.d)(),_top_search__WEBPACK_IMPORTED_MODULE_26__.a.clear()}),10),Object(_feature_entries__WEBPACK_IMPORTED_MODULE_24__.l)().updateCurrentPlaying()}),10),{v:!1}}();if("object"==typeof _ret)return _ret.v}}var dest=objLoc[0],where;delete objLoc[0];try{where=Nav.getData(dest)}catch(e){where=null}if(null===where){if(opts.throwErrorOnDisabledPath)throw new Error("AL navigation is disabled for this path");return!0}opts.noframe||(opts.tstat=ajax.tGetParam(),ajax.tStart=(new Date).getTime(),opts.bench=!0),opts.params&&opts.params._ref||(opts.params=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(opts.params||{},{_ref:Nav.objLoc[0]||""})),where.files&&stManager.add(where.files),where.params=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)({__query:dest,al_id:vk.id},objLoc,opts.params||{});var postParamsEl=ev&&ev.target&&ev.target.getAttribute?ev.target:loc&&loc.getAttribute?loc:null,postParams=Nav.getPostParams(postParamsEl,!!where.params._post_click_type);where.params=Nav.mergePostParamsOptions(postParams,where.params),opts.cl_id&&(where.params.fr_click=cur.oid+","+opts.cl_id+","+cur.options.fr_click),opts.tstat&&(where.params._tstat=opts.tstat),opts.permanent&&(where.params._permanent=opts.permanent);var curNavVersion=++NextPageID,done=function done(title,html,js,params){if(curNavVersion===NextPageID){try{params._id=params.id}catch(e){return Object(_ui_util__WEBPACK_IMPORTED_MODULE_16__.c)(e,{dt:15,type:6,msg:`Error: ${e.message}, (params undefined?), title: ${title}, html: ${html}, js: ${js}`,url:where.url,query:Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(where.params),answer:arguments.length})}var execTqTasks=e=>{params.exec_on_start&&Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_33__.b)(JSON.stringify(params.exec_on_start),e)},isReloadRequired;if(window.lastScrollTop=Object(_scroll__WEBPACK_IMPORTED_MODULE_15__.e)(),opts.bench&&(ajax.tProcess=(new Date).getTime()),isReloadRequired=Object(_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.b)("static_bump_for_unexpected_state")?+stVersions[jsc("web/common_web.js")]!=+StaticFiles[jsc("web/common_web.js")].v:Object(_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.b)("is_no_static_bump_experiment_active")?stVersions[jsc("web/common_web.js")]!==StaticFiles[jsc("web/common_web.js")].v:stVersions[jsc("web/common_web.js")]>StaticFiles[jsc("web/common_web.js")].v,isReloadRequired){var _window$Calls;if(Nav.setLoc(params.loc||Nav.strLoc),Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.g)({force:!0,from:4}))return;if(null===(_window$Calls=window.Calls)||void 0===_window$Calls?void 0:_window$Calls.isInActiveCall)return;location.reload(!0)}else{var newPage=void 0===where.params.al_id||where.params.al_id!=params.id||params.fullPage,tNode=Object(_dom__WEBPACK_IMPORTED_MODULE_13__.J)("title"),wNode=Object(_dom__WEBPACK_IMPORTED_MODULE_13__.J)("wrap3"),_back=cur._back,hist=!1;if((strLoc===(cur._back||{}).loc||newPage||opts.back)&&(_back=!1),(opts.noback||params.level&&(!cur._level||params.level<=cur._level)&&!1!==opts.noback)&&(_back=!1,(opts.noback||cur._level&&params.level<cur._level)&&Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.h)()),window.tooltips&&tooltips.destroyAll(),Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.f)(Object(_dom__WEBPACK_IMPORTED_MODULE_13__.K)("page_actions_wrap"),(e,t)=>Object(_dom__WEBPACK_IMPORTED_MODULE_13__.bb)(t)),Object(_dom__WEBPACK_IMPORTED_MODULE_13__.bb)("audio_tip_wrap"),_back){if(Object(_video__WEBPACK_IMPORTED_MODULE_21__.g)(null,!0),hist={loc:_back.loc||Nav.strLoc,cur,radioBtns:Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.d)(radioBtns),ajaxCache,pid:PageID,scrollTop:Object(_scroll__WEBPACK_IMPORTED_MODULE_15__.e)(),htitle:document.title.toString(),width:vk.width,width_dec:vk.width_dec,width_dec_footer:vk.width_dec_footer,noleftmenu:vk.noleftmenu,notopmenu:vk.notopmenu,nobottommenu:vk.nobottommenu,bodyClass:vk.body_class,back:!(!_tbLink||!_tbLink.loc)&&[_tbLink.loc,Object(_dom__WEBPACK_IMPORTED_MODULE_13__.Cb)(_tbLink),_tbLink.fast]},tNode&&tNode.parentNode&&!Object(_dom__WEBPACK_IMPORTED_MODULE_13__.fb)(tNode.parentNode)&&(hist.hideHeader=!0),Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.a)(hist.loc),globalHistory.length>2){var h=globalHistory.shift();Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.f)(h.cur),h.content.innerHTML=""}if(cur._back.hide)for(var _i5=0,_l3=cur._back.hide.length;_i5<_l3;_i5++)cur._back.hide[_i5]();_back.text&&Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.h)(hist.loc,_back.text,1)}else _tbLink&&(_tbLink.fast=0),Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.f)(cur);if(PageID=NextPageID,Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.f)(radioBtns,(function(e,t){t.keep||delete radioBtns[e]})),window.ajaxCache={},boxQueue.hideAll(!1,!0),layerQueue.clear(),layers.fullhide&&layers.fullhide(!0,!0),window.cur={beforeNavigateRequestHandlers:[],destroy:[],nav:[]},window._stlWas=0,newPage){for(Object(_dom__WEBPACK_IMPORTED_MODULE_13__.i)("quick_login_button","quick_expire","search_form","top_links","bottom_nav");globalHistory.length;){var _h=globalHistory.shift();Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.f)(_h.cur),_h.content.innerHTML=""}var oldTopW=Object(_dom__WEBPACK_IMPORTED_MODULE_13__.J)("dev_top_nav_wrap")&&Object(_dom__WEBPACK_IMPORTED_MODULE_13__.S)("dev_top_nav_wrap")[0]||Object(_dom__WEBPACK_IMPORTED_MODULE_13__.J)("page_header_wrap")&&Object(_dom__WEBPACK_IMPORTED_MODULE_13__.S)("page_header_wrap")[0]||0;pageNode.innerHTML=html,execTqTasks(pageNode),oldTopW&&!vk.staticheader&&Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.i)({width:oldTopW}),window._tbLink=Object(_dom__WEBPACK_IMPORTED_MODULE_13__.J)("top_back_link");try{_tbLink.style.maxWidth=_tbLink.parentNode.offsetWidth-35+"px"}catch(e){}_browser__WEBPACK_IMPORTED_MODULE_23__.a.mobile||Object(_layout_utils__WEBPACK_IMPORTED_MODULE_20__.j)(!0)}else{if(_back){var newW=Object(_dom__WEBPACK_IMPORTED_MODULE_13__.g)("div",{id:"wrap3"});Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(hist,{content:wNode.parentNode.replaceChild(newW,wNode),title:tNode?tNode.innerHTML:""}),globalHistory.push(hist),wNode=newW}var _oldTopW=Object(_dom__WEBPACK_IMPORTED_MODULE_13__.J)("dev_top_nav_wrap")&&Object(_dom__WEBPACK_IMPORTED_MODULE_13__.S)("dev_top_nav_wrap")[0]||Object(_dom__WEBPACK_IMPORTED_MODULE_13__.J)("page_header_wrap")&&Object(_dom__WEBPACK_IMPORTED_MODULE_13__.S)("page_header_wrap")[0]||0;wNode&&(wNode.innerHTML=html,execTqTasks(wNode)),_oldTopW&&!vk.staticheader&&Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.i)({width:_oldTopW}),tNode&&(tNode.innerHTML=title,(title?_dom__WEBPACK_IMPORTED_MODULE_13__.xb:_dom__WEBPACK_IMPORTED_MODULE_13__.bb)(tNode.parentNode)),Object(_feature_entries__WEBPACK_IMPORTED_MODULE_24__.l)().updateCurrentPlaying()}if(Object(_layout_utils__WEBPACK_IMPORTED_MODULE_20__.c)(),Object(_stl__WEBPACK_IMPORTED_MODULE_27__.b)(),Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.j)(),Object(_accessibility__WEBPACK_IMPORTED_MODULE_25__.d)(),_top_search__WEBPACK_IMPORTED_MODULE_26__.a.clear(),window.LazyLoad&&LazyLoad.scanDelayed(),Object(_nav_utils__WEBPACK_IMPORTED_MODULE_18__.c)(params),opts.preventScroll||(opts.scrollTop>0?Object(_scroll__WEBPACK_IMPORTED_MODULE_15__.g)(opts.scrollTop,0):opts.noscroll||params.noscroll||Object(_scroll__WEBPACK_IMPORTED_MODULE_15__.f)(0)),opts.bench&&(ajax.tRender=(new Date).getTime()),Nav.curLoc=params.loc,js){var evalString=`(function(){${js};})()`;if(__debugMode)eval(evalString);else try{eval(evalString)}catch(e){Object(_debug_tools__WEBPACK_IMPORTED_MODULE_12__.d)(e,evalString)}}ajax._framenext(),opts.onDone&&opts.onDone(),_browser__WEBPACK_IMPORTED_MODULE_23__.a.mobile&&Object(_layout_utils__WEBPACK_IMPORTED_MODULE_20__.j)(),changed.f&&Object(_utils__WEBPACK_IMPORTED_MODULE_28__.f)(changed.f),Nav.setLoc(params.loc||""),changed[0]&&(window.vkLastNav=Date.now()),Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.C)((function(){Object(_feature_entries__WEBPACK_IMPORTED_MODULE_24__.l)().updateCurrentPlaying(),TopMenu.toggle(!1)}),_browser__WEBPACK_IMPORTED_MODULE_23__.a.chrome?100:50)}}};return window.Page&&(Page.postsSave(),Page.postsSend(),Page.postsClearTimeouts()),Object(_ads__WEBPACK_IMPORTED_MODULE_11__.c)(),Object(_ads__WEBPACK_IMPORTED_MODULE_11__.a)("already"),"im"!==Nav.objLoc[0]&&"im"!==changed[0]||(where.params=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)({},where.params,{_full_page:!0})),Object(_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__.a)(()=>{_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.b.addStatEvent(_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.b.getModule(),_shared_navigation_stats__WEBPACK_IMPORTED_MODULE_31__.a.GO)},!0),Array.isArray(window.cur.beforeNavigateRequestHandlers)&&window.cur.beforeNavigateRequestHandlers.forEach(e=>{"function"==typeof e&&e()}),window.cur.beforeNavigateRequestHandlers=[],!__debugMode&&Object(_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.b)("measure_module_navigation_stats")&&window.performance.mark(_shared_network_stats_module_navigation_module_navigation_collector_config__WEBPACK_IMPORTED_MODULE_36__.b.web2.PERF_MARK),ajax.post(where.url,where.params,{onDone:function(){var e=arguments;if(__debugMode)done.apply(null,e);else{try{done.apply(null,e)}catch(t){Object(_ui_util__WEBPACK_IMPORTED_MODULE_16__.c)(t,{dt:15,type:6,url:where.url,query:Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(where.params),js:e[2],answer:Array.prototype.slice.call(arguments).join("<!>")})}Object(_shared_user_user_env__WEBPACK_IMPORTED_MODULE_34__.b)("measure_module_navigation_stats")&&Object(_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__.a)(()=>new _shared_network_stats_module_navigation_module_navigation_collector__WEBPACK_IMPORTED_MODULE_35__.a(_shared_network_stats__WEBPACK_IMPORTED_MODULE_37__.d,_shared_lib_storage__WEBPACK_IMPORTED_MODULE_38__.a).logEvent(),!0)}},onFail:opts.onFail||function(e){if(e)return setTimeout(Object(_message_box__WEBPACK_IMPORTED_MODULE_29__.d)({title:Object(_lang__WEBPACK_IMPORTED_MODULE_30__.d)("global_error")},e).hide,__debugMode?3e4:3e3),!0},frame:opts.noframe?0:1,canReload:!0,showProgress:opts.showProgress,hideProgress:opts.hideProgress,cache:opts.search?1:"",bench:opts.bench}),!1}},setLoc:function(e,t){var n,r;n=r=e,"string"==typeof e?r=Nav.fromStr(e):n=Nav.toStr(e),(t||!Object(_feature_entries__WEBPACK_IMPORTED_MODULE_24__.p)()||n.match(/article_edit(-?\d+_\d+)/))&&(Nav.strLoc=n,Nav.objLoc=r,hab.setLoc(Nav.strLoc))},change:function(e,t,n){var r=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.d)(Nav.objLoc);return Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.f)(e,(function(e,t){!1===t?delete r[e]:r[e]=t})),Nav.go(r,t,n)},fromStr:function(e){var t=(e=e.split("#"))[0].split("?"),n={0:t[0]||""};return e[1]&&(n["#"]=e[1]),Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.i)(Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.fromQueryString)(t[1]||""),n)},toStr:function(e){var t=(e=Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.d)(e))["#"]||"",n=e[0]||"";delete e[0],delete e["#"];var r=Object(_shared_lib_convert__WEBPACK_IMPORTED_MODULE_17__.toQueryString)(e);return(r?n+"?"+r:n)+(t?"#"+t:"")},init:function(){window.globalHistory=[],Nav.strLoc=hab.getLoc(),Nav.objLoc=Nav.fromStr(Nav.strLoc)},getPostParams:function(e,t){var n=!(!e||!e.getAttribute),r={};if(!n)return r;var o=e.getAttribute("data-post-id");o&&(r.post_id=o);var a=e.getAttribute("data-parent-post-id");a&&(r.parent_post_id=a);var i=e.getAttribute("data-post-click-type");i&&(r.post_click_type=i);var s=e.getAttribute("mention_id");s&&(r.post_click_mention_id=s);var c=e.getAttribute("data-post-click-cc-key");c&&(r.post_click_cc_key=c);var u=[e.getAttribute("href"),e.getAttribute("data-href")];if(Object(_utils_common__WEBPACK_IMPORTED_MODULE_9__.f)(u,(function(e,t){if(t&&"#"!==t)return r.post_click_url=t,!1})),!!i||t){var l=Object(_dom__WEBPACK_IMPORTED_MODULE_13__.Y)("_ads_block_data_w",e),_=(l=l||Object(_dom__WEBPACK_IMPORTED_MODULE_13__.Y)("_ads_promoted_post_data_w",e))&&l.getAttribute("data-ad"),d=l&&l.getAttribute("data-ad-block-uid");_&&(r.ad_data=_),d&&(r.ad_block_unique_id=d)}return r},mergePostParamsOptions:function(e,t){if(t=t||{},!e)return t;function n(e,n,r){var o=r&&t[n];return!(!e||o)&&(t[n]=e,!0)}return n(e.post_id,"_post",!0),n(e.parent_post_id,"_parent_post",!0),n(e.post_click_type,"_post_click_type",!0),t._post_click_type&&(n(e.post_click_mention_id,"_post_click_mention_id",!0),n(e.post_click_cc_key,"_post_click_cc_key",!0),n(e.post_click_url,"_post_click_url",!0),n(e.ad_data,"_post_ad_data",!0)&&n(e.ad_block_unique_id,"_post_ad_block_unique_id")),t},showMoreApps(){var e=getShowMoreAppsContainer();e&&(e.classList.add(SHOW_MORE_APPS_SHOWN_CLASSNAME),getShowMoreAppsButton().classList.add(SHOW_MORE_APPS_BUTTON_HIDDEN_CLASSNAME))},showLessApps(){var e=getShowMoreAppsContainer();e&&(e.classList.remove(SHOW_MORE_APPS_SHOWN_CLASSNAME),getShowMoreAppsButton().classList.remove(SHOW_MORE_APPS_BUTTON_HIDDEN_CLASSNAME))},subscribeOnModuleEvaluated:_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__.a,unsubscribeOnModuleEvaluated:_web_lib_ajax_module_callback__WEBPACK_IMPORTED_MODULE_32__.c};function getShowMoreAppsContainer(){return document.querySelector(".show_more_apps_container")}function getShowMoreAppsButton(){return document.querySelector(".show_more_apps_button")}function authorPageNav(e,t,n){if(n&&cur.backFromAuthorPage)return delete cur.backFromAuthorPage,!0;var r=e.toLowerCase(),o=window.AuthorPage&&window.AuthorPage.isOpen(),a=r.match(/^(?:%40|@)-?[.a-z0-9_]+(?:\?\w+)?([\?&]z\=[a-z0-9-_]+)*$/);if(a)return!!o||(a[1]?cur._hardNav=!0:(boxRefreshCoords(boxLoader),Object(_dom__WEBPACK_IMPORTED_MODULE_13__.xb)(boxLoader),Object(_dom__WEBPACK_IMPORTED_MODULE_13__.xb)(boxLayerWrap),stManager.add([jsc("web/author_page.js"),jsc("web/article_layer.js"),"author_page.css","ui_controls.js","ui_controls.css"],(function(){cur.prevAuthorPageUrl=t,window.AuthorPage.showLayer(r)})),!0));if(o){if(/^article_edit([0-9\-]+)_(\d+)/.test(r))return!1;if(n&&window.AuthorPage.isStandalone())return window.location.reload(!0),!0;var i=window.AuthorPage.close(!0);return void 0!==i?i:!!n}}function articleNav(e,t,n,r,o){var a=e.toLowerCase(),i=/^(?:%40|@)-?[.a-z0-9_]+-[a-z0-9-]+(?:[\?&]\w+\=[a-z0-9-_]+)*$/;if(i.test(a))return window.isArticleLayerOpen()||(cur.articlePrevLoc=t),window.WkView&&WkView.hide(!0),window.boxQueue&&boxQueue.hideAll(),stManager.add([jsc("web/article_layer.js"),"article.css"]).then(()=>new Promise(e=>{ArticleLayer.show(a,!0,!1,{ev:o,onShowDone:()=>{cur.articleSequence=Math.max(1,(cur.articleSequence||0)+(n?-1:1)),e()},prepareAsync:!0})}));if(window.isArticleLayerOpen()){if(n&&ArticleLayer.isStandalone())return window.location.reload(!0),!0;var s=()=>{ArticleLayer.close(),delete cur.articleSequence},c=cur.articlePrevLoc;return delete cur.articlePrevLoc,c&&!i.test(c)?e===c?(s(),r&&r(),!0):(layers.fullhide=function(){s()},!1):(s(),!0)}return!1}function cleanArticleUrlByObjLoc(e){return e&&e.ref&&delete e.ref,Nav.toStr(e)}function bookmarksNav(e){if(e){var t=Object(_dom__WEBPACK_IMPORTED_MODULE_13__.q)("bookmarks_rows",e.target),n=!!Object(_dom__WEBPACK_IMPORTED_MODULE_13__.q)("bookmarks_pages",e.target);if((t||n)&&(n||Object(_dom__WEBPACK_IMPORTED_MODULE_13__.ab)(t,"bookmarks_rows_user")||Object(_dom__WEBPACK_IMPORTED_MODULE_13__.ab)(t,"bookmarks_rows_group")||Object(_dom__WEBPACK_IMPORTED_MODULE_13__.ab)(t,"bookmarks_rows_page"))){var r;if(!(r=t?Object(_dom__WEBPACK_IMPORTED_MODULE_13__.q)("_bookmark_page_item",e.target):Object(_dom__WEBPACK_IMPORTED_MODULE_13__.q)("line_cell",e.target)))return;statlogsValueEvent("bookmarks_product_analytics",{item_type:"page",item_id:Object(_shared_lib_common__WEBPACK_IMPORTED_MODULE_10__.f)(Object(_dom__WEBPACK_IMPORTED_MODULE_13__.v)(r,"id")),time:window.getServerTime()})}}}__webpack_exports__.a=Nav},MZbF:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("zxIV"),o=n("KkBR"),a=n("v+DW");function i(){var e=geByClass("tutorial_step").slice(-1)[0],t=geByClass1("content",e);t.innerHTML=getTemplate("login_tutorial_finish_appeal")+t.innerHTML}var s={tryInit(){geByClass1("tutorial_step")&&i()},select(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!cur.tutorialProcessing&&!isChecked(e)){var c=gpeByClass("tutorial_step",e);hasClass(c,"finished")||(removeClass(geByClass1("on",c),"on"),addClass(e,"on"),ajax.post("support?act=a_select_tutorial",{name:t,id:n,load:1,ban:nav.objLoc.ban||0},{onDone(e,t){s||addClass(c,"finished");var n,a=!0,u=ge("page_body").offsetHeight+(vk.staticheader?0:Object(r.Q)(ge("page_header_cont")));if(s)do{(n=domNS(c))&&(re(n),a=!1)}while(n);if(ge("login_blocked_wrap").innerHTML+=e,i(),"login"===nav.objLoc[0]&&t){var l=document.querySelectorAll(".tutorial_step"),_=l[l.length-1];if(o.a.isBanExpired()){o.a.canUnblockFast()?_.innerHTML+=getTemplate("login_unblock_by_phone_fast"):_.innerHTML+=getTemplate("login_unblock_by_phone");var d=l[l.length-1].querySelector(".help_table_question__m");d&&hide(d)}else _.innerHTML+=getTemplate("login_wait_for_ban_expiration_message")}a&&scrollToY(u)},onFail:e=>(showDoneBox(e),!1),showProgress(){cur.tutorialProcessing=!0,Object(a.o)(e)},hideProgress(){cur.tutorialProcessing=!1,Object(a.w)(e)}}))}},home:()=>{nav.go("/support?act=home")},back:e=>{var t=geByClass("tutorial_step"),n=t[t.length-1];2===t.length&&hide(e),hide(n),removeClass(geByClass1("on",t[t.length-2]),"on")}}},MZmb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("t7n3");class o{parseResponse(e){var t=this.parseStaticPayload(e);return{navVersion:Object(r.r)(t.loaderVersion),newStatic:t.static,statsMeta:t.statsMeta,langId:Object(r.r)(t.langPack),langVer:Object(r.r)(t.langVersion),langKeys:t.langKeys,templates:t.templates,code:Object(r.r)(t.payload[0]),payload:t.payload[1],debugLog:t.debugLog,env:t.env,extra:t.extra,execInline:t.execInline}}parseStaticPayload(e,t){var n=e;return e&&"string"==typeof e&&(n=JSON.parse(e)),n.payload&&n.payload[0]>0&&(n.payload[1]=n.payload[1].map(e=>"string"==typeof e?JSON.parse(e):e)),n}}},MfQN:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},MhhX:function(e,t,n){"use strict";n.d(t,"u",(function(){return a})),n.d(t,"s",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"r",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"t",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return b})),n.d(t,"v",(function(){return g})),n.d(t,"m",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return w})),n.d(t,"w",(function(){return E})),n.d(t,"i",(function(){return j})),n.d(t,"o",(function(){return D})),n.d(t,"n",(function(){return P})),n.d(t,"c",(function(){return k})),n.d(t,"j",(function(){return C}));n("OEbY");var r=n("eaP7"),o=n("aong");function a(e,t){return"number"!=typeof t.messageId||(u(t)?t.messageId>e.out_up_to:t.messageId>e.in_up_to)}function i(e){return e.kludges&&void 0!==e.kludges.source_act}function s(e){return!(!e.kludges||"call"!==e.kludges.attach1_type)}function c(e){return e&&e.attaches&&e.attaches[0]&&"group_call_in_progress"===e.attaches[0].type}function u(e){return e.flags&r.q}function l(e){var t=e.attaches.filter(e=>"mail"===e.type).length>0;return e.attaches.filter(e=>"reply"===e.type).length>0||e.flags&r.o&&t}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.attaches[0];return r&&(r.type===t||r.type===n)}function d(e){return _(e,"doc")&&"graffiti"===e.attaches[0].kind}function p(e){return Boolean(e.attaches.find(e=>"doc"===e.type&&"audiomsg"===e.kind))}function f(e){return Boolean(e.attaches.find(e=>"sticker"===e.type))}function h(e){return _(e,"gift")}function m(e){return _(e,"money_transfer","money_request")}function b(e){return _(e,"money_request")}function g(e){return _(e,"link","vkpay")&&6217559==e.kludges.attach1_app_id}function v(e){return e.flags&r.p}function y(e){return u(e)?vk.id:e.userId}function O(e,t){var n=Object(o.s)(e);return u(t)?n.id:t.userId}function w(e,t){var n=Object(o.s)(e);return n.gid&&u(t)?+t.kludges.from_admin||-n.gid:0}function E(e){return e.update_time>0}function j(e){return Boolean(e.kludges.is_expired||e.kludges.expire_ttl||e.kludges.ttl&&e.flags&r.n)}function D(e,t){return!(!e.blocked_community||!u(t))}function P(e){return e.messageId<=0}function k(e){var t=e.kludges.ttl||e.kludges.expire_ttl;return t?Number(t):void 0}function C(e){return!(!e.kludges||!e.kludges.is_expired)}},MiCK:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return _}));var r=n("FWc3"),o=n("zxIV"),a=n("DM2o");function i(e,t){var n=t.asrtl?0:t.right?289:35,o=t.asrtl?" mobile_tt_asrtl":t.right?" mobile_tt_right":"";return Object(r.c)(e,{url:"al_login.php",params:{act:"mobile_tt",mid:t.mid,was:t.was},slide:15,ajxdt:200,showdt:200,hidedt:200,forcetoup:t.forcetoup,toup:!1,dir:"auto",asrtl:t.asrtl,appendParentCls:t.appendParentCls,shift:[n,8,7],className:"mobile_tt"+o})}function s(e,t){return Object(r.c)(e,{url:"/al_page.php",params:{act:"verified_tt",type:t.type,oid:t.oid,force_new_tab:t.forceNewTab?1:0},slide:15,ajxdt:200,showdt:200,hidedt:200,dir:"auto",shift:[95,5,7],className:"verified_tt"})}function c(e,t,n){if(!cur._addRestoreInProgress){var a=Object(o.Y)("_audio_row",e),i=AudioUtils.getAudioFromEl(a,!0);if(i){var s=Object(o.v)(e,"action"),c=AudioUtils.getRowActionName(s,i,a),u={text:()=>c,black:1,shift:t||[7,4,0],needLeft:!0,forcetodown:n,noZIndex:!0};each(["_im_mess_stack","top_notify_wrap","_ape_audio_item","wk_history_audio_content"],(function(t,n){if(Object(o.Y)(n,e))return u.appendParentCls=n,!1})),Object(o.Y)("_im_mess_stack",e)&&(u.shift=[7,10,0],u.noZIndex=!0),Object(r.c)(e,u)}}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.c)(e,{url:"al_wall.php",params:{act:"mention_tt",mention:e.getAttribute("mention_id"),from:"wall"},shift:t.shift||[52,7,7],hidedt:t.hidedt||500,showdt:500,needLeft:t.needLeft,slide:15,checkLeft:!0,reverseOffset:t.reverseOffset||112,dir:"auto",appendEl:t.appendEl||Object(o.q)("im-page-history-w",e)||Object(o.q)("rb_box_wrap",e)||Object(o.q)("wk_cont",e)||Object(o.q)("scroll_fix_wrap",e)})}function l(e){var t="";Object(o.Y)("_im_mess_stack",e)?t="_im_mess_stack":Object(o.Y)("wall_text",e)&&(t="scroll_fix_wrap"),Object(r.c)(e,{className:"bookmarks_tt ",shift:[32,8],text:()=>"1"===Object(o.v)(e,"state")?Object(o.v)(e,"remove"):Object(o.v)(e,"add"),black:1,appendParentCls:t})}function _(e,t){Object(r.c)(e,{text:t,dir:"up",forcetodown:!0,hidedt:300,hasover:!0,center:!0,shift:[-2,6],onShowStart:()=>Object(a.a)("corona_status_stat","show_tooltip")})}},Mukb:function(e,t,n){var r=n("hswa"),o=n("RjD/");e.exports=n("nh4g")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},N4ZS:function(e,t,n){"use strict";function r(e,t){var n=decodeURIComponent(e);return/^\/[^/]/.test(n)||/^(https?:\/\/)?([a-z0-9_\-.]+\.)?vk.com(\/.*)?/.test(n)?e:"/away.php?to="+encodeURIComponent(n)+(t?"&utf=1":"")}n.d(t,"a",(function(){return r}))},N8g3:function(e,t,n){t.f=n("K0xU")},NO8f:function(e,t,n){n("7DDg")("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},Nk8j:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u}));n("KKXr");function r(e){var t=cur.pvListId,n=cur.pvIndex;if(cur.pvData&&t&&!isNaN(n)){var r=cur.pvData[t][n];return e?r[e]:r}return!1}function o(){var e=cur.pvListId,t=cur.pvIndex;return cur.pvData&&e&&!isNaN(t)?cur.pvData[e][t]:null}function a(e,t){var n=cur.pvListId,r=cur.pvIndex;return!(!cur.pvData||!n||isNaN(r))&&(cur.pvData[n][r][e]=t,cur.pvData[n][r])}function i(){delete cur.pvList,delete cur.pvData}function s(){return cur.pvIndexedFriends}function c(e,t){cur.pvIndexedFriends=new vkIndexer(e,e=>e[1],t)}function u(e){if(!e)return!1;var t=e.photoRaw?e.photoRaw.split("_")[0]:"";return!(!e.restrictionBlur||cur.unblurredPhotos&&cur.unblurredPhotos.indexOf(e.photoRaw)>-1||cur.unblurredOwners&&cur.unblurredOwners.indexOf(t)>-1)}},Nr18:function(e,t,n){"use strict";var r=n("S/j/"),o=n("d/Gc"),a=n("ne8i");e.exports=function(e){for(var t=r(this),n=a(t.length),i=arguments.length,s=o(i>1?arguments[1]:void 0,n),c=i>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)t[s++]=e;return t}},O8ze:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"k",(function(){return v})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return O})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return D})),n.d(t,"j",(function(){return P})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return T}));n("pIFo");var r,o=n("1y80"),a=n("Bj12"),i=n("W9Tc"),s=n("HLtZ"),c=function(){function e(){}return e.prototype.getCurrentTime=function(e){void 0===e&&(e=!0);var t=Date.now().toString(10);return e?t+"000":t},e.prototype.getIntId=function(){return Math.floor(Math.random()*e.MAX_INT32)},e.prototype.getBaseEvent=function(){return{id:this.getIntId(),timestamp:this.getCurrentTime()}},e.prototype.logEvent=function(e){e.type&&e[e.type]?Object(a.a)(e):Object(s.c)(new Error("CustomStatCollector: invalid event."))},e.MAX_INT32=2147483647,e}();!function(e){e.TYPE_DEV_NULL_ITEM="type_dev_null_item"}(r||(r={}));var u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(){function e(e){this.customStatCollector=e}return e.prototype.logEvent=function(e){var t,n=u(u({},this.customStatCollector.getBaseEvent()),((t={type:r.TYPE_DEV_NULL_ITEM})[r.TYPE_DEV_NULL_ITEM]=e,t));this.customStatCollector.logEvent(n)},e}(),_=n("aong"),d=new l(new c),p={};function f(e){Object(o.a)(.1,"im_forward_stat",g(e),!!e.get().gid)}function h(e,t){Object(o.a)(.1,"im_forward_from_community_stat",g(e),!!e.get().gid,+t)}function m(){Object(o.a)(1,"im_apply_community_template_stat",1)}function b(){Object(o.a)(1,"messages_channel_forward_click",1)}function g(e){var t=e.get().pendingForward;return+(t&&t.msgIds&&t.msgIds.length)}function v(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1;if(!Object(i.c)(o))return()=>{};var s=+new Date,c=E(e),u=j(e)?"sse":"longpoll";return function(){var e=+new Date-s;Object(a.e)({name:"messages_send_time_web",value:e,keys:[t,n,c,r,u]}),"opt_to_lp"===n&&d.logEvent({key:"messages_send_time_web",value_str:u,value:e})}}function y(e,t,n,r){if(t.messageId&&-1!==String(t.messageId).indexOf("rid")){var o=[t.messageId.replace("rid",""),n,r].join("_"),a=t.attaches.length>0;p[o]=v(e,n,r,a)}}function O(e,t,n,r){var o=[t.randomId,n,r].join("_"),a=p[o];a&&(a(),delete p[o])}function w(e,t,n,r){var a=E(e),s=""===t?"network":"unknown";Object(i.c)(1)&&Object(o.b)("messages_send_errors_web",s,n,r,a)}function E(e){var t=Object(_.s)(e);return Boolean(t.longpoll&&t.longpoll.isEnabled&&t.longpoll.isEnabled())}function j(e){var t=Object(_.s)(e);return Boolean(t.longpoll&&t.longpoll.isSSE)}function D(e){var t=Object(_.s)(e),n=t.imQueue(t.peer).length;Object(i.c)(1)&&Object(o.b)("messages_send_queue_size",n)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",n=1;Object(i.c)(n)&&Object(o.b)("messages_send_retry",1,t,e)}function k(){var e="im_browser_notifications_users";ls.get(e)||ls.get("im_ui_notify_off")||(ls.set(e,1),Object(o.b)(e,1))}function C(){Object(o.a)(1,"im_browser_notifications_on",1)}function T(){Object(o.a)(1,"im_browser_notifications_off",1)}},OEbY:function(e,t,n){n("nh4g")&&"g"!=/./g.flags&&n("hswa").f(RegExp.prototype,"flags",{configurable:!0,get:n("C/va")})},OG14:function(e,t,n){"use strict";var r=n("y3w9"),o=n("g6HL"),a=n("Xxuz");n("IU+Z")("search",1,(function(e,t,n,i){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=i(n,e,this);if(t.done)return t.value;var s=r(e),c=String(this),u=s.lastIndex;o(u,0)||(s.lastIndex=0);var l=a(s,c);return o(s.lastIndex,u)||(s.lastIndex=u),null===l?-1:l.index}]}))},OOHW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("OEbY");var r=n("uk5P");function o(e){if(!e)return null;if(Array.isArray(e))return e;var t=[e.addHash,e.editHash,e.actionHash,e.deleteHash,e.replaceHash,e.urlHash,e.restoreHash].join("/"),n=[e.coverUrl_s,e.coverUrl_p].join(","),o=[];return o[r.a.AUDIO_ITEM_INDEX_ID]=e.id,o[r.a.AUDIO_ITEM_INDEX_OWNER_ID]=e.owner_id,o[r.a.AUDIO_ITEM_INDEX_URL]=e.url,o[r.a.AUDIO_ITEM_INDEX_TITLE]=e.title,o[r.a.AUDIO_ITEM_INDEX_PERFORMER]=e.performer,o[r.a.AUDIO_ITEM_INDEX_DURATION]=e.duration,o[r.a.AUDIO_ITEM_INDEX_ALBUM_ID]=e.albumId,o[r.a.AUDIO_ITEM_INDEX_AUTHOR_LINK]=e.authorLink,o[r.a.AUDIO_ITEM_INDEX_LYRICS]=e.lyrics,o[r.a.AUDIO_ITEM_INDEX_FLAGS]=e.flags,o[r.a.AUDIO_ITEM_INDEX_CONTEXT]=e.context,o[r.a.AUDIO_ITEM_INDEX_EXTRA]=e.extra,o[r.a.AUDIO_ITEM_INDEX_HASHES]=t,o[r.a.AUDIO_ITEM_INDEX_COVER_URL]=n,o[r.a.AUDIO_ITEM_INDEX_ADS]=e.ads,o[r.a.AUDIO_ITEM_INDEX_SUBTITLE]=e.subTitle,o[r.a.AUDIO_ITEM_INDEX_MAIN_ARTISTS]=e.mainArtists,o[r.a.AUDIO_ITEM_INDEX_FEAT_ARTISTS]=e.featArtists,o[r.a.AUDIO_ITEM_INDEX_ALBUM]=e.album,o[r.a.AUDIO_ITEM_INDEX_TRACK_CODE]=e.trackCode,o[r.a.AUDIO_ITEM_INDEX_RESTRICTION]=e.restrictionStatus,o[r.a.AUDIO_ITEM_INDEX_ALBUM_PART]=e.albumPart,o[r.a.AUDIO_ITEM_ACCESS_KEY]=e.accessKey,o[r.a.AUDIO_ITEM_CHART_INFO_INDEX]=e.chartInfo,o}},OP3Y:function(e,t,n){var r=n("aagx"),o=n("S/j/"),a=n("YTvA")("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},OftT:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("zxIV"),o=n("4+be"),a=n("v+DW"),i=n("aong"),s=n("EasH"),c=n("3oLO");function u(e,t,n){var u=n.onApplyDone;Object(s.b)("al_settings.php",{act:"a_cancel_donut",owner_id:e,hash:t},{onDone:function(n){n.setButtons(Object(o.d)("settings_donut_confirm"),(function(){Object(a.o)(n.btns.ok[0]),function(e,t,n,o){var i=o.onApplyDone;c.a.post("al_settings.php",{act:"a_cancel_donut_apply",owner_id:e,hash:t},{onDone:function(){var e;null===(e=null==n?void 0:n.hide)||void 0===e||e.call(n),i({box:n})},onFail:function(e){var t,o;if(n){var i=null===(o=null===(t=n.bodyNode)||void 0===t?void 0:t.querySelector)||void 0===o?void 0:o.call(t,".error");i&&(Object(r.Cb)(i,e),Object(r.xb)(i)),Object(a.w)(n.btns.ok[0])}}})}(e,t,n,{onApplyDone:u})}),Object(o.d)("settings_donut_cancel_button_cancel"))},onFail:function(e){Object(i.m)(e)}})}},OhIt:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("i8i4"),i=n("xt6h"),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};t.a=function(e){var t,n=e.x,u=e.y,l=e.text,_=e.position,d=void 0===_?"b":_,p=e.align,f=void 0===p?"center":p,h=e.removed,m=e.maxWidth,b=e.appearance,g=void 0===b?"dark":b,v=e.className,y=e.tooltipRef,O=e.tooltipInRef,w=c(e,["x","y","text","position","align","removed","maxWidth","appearance","className","tooltipRef","tooltipInRef"]),E=Object(r.useRef)(null);w.static||E.current||(E.current=document.createElement("div"),document.body.appendChild(E.current));var j=Object(i.a)("Tooltip","Tooltip--"+d,"Tooltip--"+g,((t={"Tooltip--static":w.static,"Tooltip--removed":!!h})["Tooltip--align-"+f]="t"===d||"b"===d,t),v),D=o.a.createElement("div",s({},w,{className:j,ref:y,style:w.static?{}:{top:u,left:n}}),"string"==typeof l&&o.a.createElement("div",{className:"Tooltip__in",ref:O,style:{maxWidth:m},dangerouslySetInnerHTML:{__html:l}}),"string"!=typeof l&&o.a.createElement("div",{className:"Tooltip__in",ref:O,style:{maxWidth:m}},l));return w.static?D:E.current?Object(a.createPortal)(D,E.current):D}},OnI7:function(e,t,n){var r=n("dyZX"),o=n("g3g5"),a=n("LQAc"),i=n("N8g3"),s=n("hswa").f;e.exports=function(e){var t=o.Symbol||(o.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},OrGp:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));n("pIFo");var r=n("1BRX"),o=n("v+DW"),a=n("EasH"),i=n("FWc3"),s=n("4+be"),c=n("t7n3"),u=n("zxIV"),l=n("9r2g"),_=n("MJEz"),d=n("+i5L");function p(){return showBox("al_login.php",{act:"box"}),!1}function f(){return showBox("join.php",{act:"box",from:window.nav.strLoc}),!1}var h={initNew:function(){Object(u.b)(".index_login .big_text").forEach(e=>{placeholderInit(e)}),setTimeout(()=>elfocus("index_email"),0);var e=ge("index_login_form"),t=ge("index_email"),n=ge("index_pass");e.onsubmit=function(){return!window.submitQuickLoginForm||(trim(t.value)?trim(n.value)?(submitQuickLoginForm(t.value,n.value,{prg:"index_login_button",params:{expire_input:val("index_expire_input")}}),!1):(Object(o.q)(n),!1):(Object(o.q)(t),!1))},t.oninput=function(){h.isLoginInputDirty||(l.registrationItemStat.logEvent(l.RegistrationItemEventTypes.LOGIN_TAP,l.EventScreens.START,void 0,{force:!0}),h.isLoginInputDirty=!0)},n.oninput=function(){h.isPasswordInputDirty||(l.registrationItemStat.logEvent(l.RegistrationItemEventTypes.PASSWORD_TAP,l.EventScreens.START,void 0,{force:!0}),h.isPasswordInputDirty=!0)},window.loginByCredential&&(t.onclick=loginByCredential,n.onclick=loginByCredential),window.onReLoginDone=function(e){location.href=e},window.onReLoginFailed=function(e){-1===e&&(location.href=location.href.replace(/^http:/,"https:"))},Object(_.c)().setInteractiveHandler("IndexComboPromo/register",(function(e){var t=(e.payload.dataAttrs||{}).source;d.a.showMoreBox(null,0,t)}))},showRegTT:function(e,t){var n,r="INPUT"===e.tagName,a=e;(!r&&(n=geByClass1("selector_table",e))||!r&&(n=geByClass1("radiobtn",e)))&&(a=n);var s=function(){Object(i.c)(a,{text:t,dir:"right",width:320,typeClass:"ij_tt",shift:[335,-getSize(a)[1]/2],hasover:1,nohideover:1,onCreate:function(){removeEvent(a,"mouseout"),r&&(a.onblur=function(){a.tt&&a.tt.hide&&a.tt.hide()})}})};r?(e.onfocus=s,Object(o.q)(e)):(s(),each(geByClass("selector_table",e),(function(e,t){Object(o.q)(t)})))},showLoginBox:e=>(showBox("al_login.php",{act:"auth_box",ul:e},{params:{dark:!0,hideButtons:!0,bodyStyle:"padding: 44px 25px;"}}),!1),showQuickLoginBox:p,showJoinBox:f,deleteRecentAccount:function(e,t,n,r){return window.tooltips&&tooltips.hideAll(),ajax.post("/al_login.php?act=a_delete_recent_account",{mid:t,hash:n},{onDone:function(){re(gpeByClass("_row",e))}}),cancelEvent(r)},generateDays:function(e,t){for(var n=[[0,Object(s.d)("index_sel_bday")]],o=Object(r.d)(e,t),a=1;a<=o;++a)n.push([a,a+""]);return n},updateDays:function(e,t,n){n||(n=cur.uiBday),n.val()>Object(r.d)(e,t)&&n.clear(),n.setData(h.generateDays(e,t).slice(Object(c.r)(cur.options.bday)?1:0))},fbCheck:function(e,t,n){var r,o,a,i,s;window.fbAsyncInit=function(){FB.init({appId:e,xfbml:!0,version:"v2.7"});var r="_box"===t;n||(n=ge("index_fbcontinuewithsign"+(t||""))),setStyle(n,{opacity:0,height:0,overflow:"hidden"}),show(n),FB.Event.subscribe("xfbml.render",()=>{animate(n,{height:r?79:55,opacity:1},200)})},window.FB&&window.FB.init?window.fbAsyncInit():(r=document,o="script",a="facebook-jssdk",s=r.getElementsByTagName(o)[0],r.getElementById(a)||((i=r.createElement(o)).id=a,i.src="//connect.facebook.net/"+cur.fbLocale+"/sdk.js",s.parentNode.insertBefore(i,s)))},fbJoin:function(e,t){cur.fbContext=e,cur.fbLoginButton=t,l.registrationItemStat.logFieldInteraction(l.RegistrationFieldItemNames.FACEBOOK_REGISTRATION,"1"),setCookie("remixfbstate",cur.fbState,30);var n=location.protocol+"//"+location.host+"/join?act=fb_sign",r=encodeURIComponent(n),o="https://graph.facebook.com/v3.3/oauth/authorize?client_id="+cur.fbApp+"&redirect_uri="+r+"&scope=email,user_birthday&display=popup&state="+cur.fbState,a=void 0!==window.screenX?window.screenX:window.screenLeft,i=void 0!==window.screenY?window.screenY:window.screenTop,s=void 0!==window.outerWidth?window.outerWidth:document.body.clientWidth,c=void 0!==window.outerHeight?window.outerHeight:document.body.clientHeight-22,u=parseInt(a+(s-640)/2,10),_=parseInt(i+(c-340)/2.5,10);return window.open(o,"fb_sign","width=640,height=340,left="+u+",top="+_),!1},fbFinish:function(e){e.error?setTimeout(Object(a.d)(Object(s.d)("global_error"),e.error).hide,2e3):e.date&&(Object(o.o)(cur.fbLoginButton||ge("index_fb"+(cur.fbContext||""))),nav.go("/join?act=fb_start"))}}},Oyvg:function(e,t,n){var r=n("dyZX"),o=n("Xbzi"),a=n("hswa").f,i=n("kJMx").f,s=n("quPj"),c=n("C/va"),u=r.RegExp,l=u,_=u.prototype,d=/a/g,p=/a/g,f=new u(d)!==d;if(n("nh4g")&&(!f||n("eeVq")((function(){return p[n("K0xU")("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")})))){u=function(e,t){var n=this instanceof u,r=s(e),a=void 0===t;return!n&&r&&e.constructor===u&&a?e:o(f?new l(r&&!a?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&a?c.call(e):t),n?this:_,u)};for(var h=function(e){e in u||a(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=i(l),b=0;m.length>b;)h(m[b++]);_.constructor=u,u.prototype=_,n("KroJ")(r,"RegExp",u)}n("elZq")("RegExp")},P13b:function(e,t,n){"use strict";n.d(t,"Tb",(function(){return i.H})),n.d(t,"Ab",(function(){return i.s})),n.d(t,"lc",(function(){return i.U})),n.d(t,"Ob",(function(){return i.E})),n.d(t,"hc",(function(){return i.O})),n.d(t,"Pb",(function(){return i.F})),n.d(t,"xc",(function(){return i.W})),n.d(t,"Nb",(function(){return i.B})),n.d(t,"Yb",(function(){return i.K})),n.d(t,"Sb",(function(){return i.G})),n.d(t,"lb",(function(){return i.f})),n.d(t,"Kb",(function(){return i.w})),n.d(t,"Jd",(function(){return i.Y})),n.d(t,"Ld",(function(){return i.bb})),n.d(t,"Kd",(function(){return i.ab})),n.d(t,"Xb",(function(){return k.p})),n.d(t,"nd",(function(){return C.a})),n.d(t,"vc",(function(){return x.h})),n.d(t,"wc",(function(){return x.i})),n.d(t,"Mb",(function(){return l.c})),n.d(t,"oc",(function(){return l.j})),n.d(t,"gc",(function(){return l.i})),n.d(t,"Qb",(function(){return l.e})),n.d(t,"J",(function(){return Y})),n.d(t,"w",(function(){return X})),n.d(t,"I",(function(){return Q})),n.d(t,"L",(function(){return Z})),n.d(t,"B",(function(){return ee})),n.d(t,"D",(function(){return te})),n.d(t,"a",(function(){return ne})),n.d(t,"u",(function(){return oe})),n.d(t,"r",(function(){return ae})),n.d(t,"j",(function(){return ie})),n.d(t,"l",(function(){return ce})),n.d(t,"o",(function(){return ue})),n.d(t,"n",(function(){return le})),n.d(t,"p",(function(){return _e})),n.d(t,"s",(function(){return de})),n.d(t,"i",(function(){return pe})),n.d(t,"q",(function(){return fe})),n.d(t,"h",(function(){return he})),n.d(t,"m",(function(){return me})),n.d(t,"k",(function(){return be})),n.d(t,"v",(function(){return ve})),n.d(t,"z",(function(){return ye})),n.d(t,"x",(function(){return Oe})),n.d(t,"y",(function(){return we})),n.d(t,"A",(function(){return Ee})),n.d(t,"t",(function(){return je})),n.d(t,"K",(function(){return De})),n.d(t,"C",(function(){return Pe})),n.d(t,"H",(function(){return ke})),n.d(t,"qb",(function(){return Ce})),n.d(t,"hd",(function(){return Te})),n.d(t,"O",(function(){return xe})),n.d(t,"Z",(function(){return Ie})),n.d(t,"Jb",(function(){return Me})),n.d(t,"Zc",(function(){return Se})),n.d(t,"qc",(function(){return Le})),n.d(t,"kb",(function(){return Be})),n.d(t,"cb",(function(){return Ne})),n.d(t,"gb",(function(){return Ue})),n.d(t,"Bb",(function(){return Fe})),n.d(t,"yc",(function(){return We})),n.d(t,"Pd",(function(){return Ke})),n.d(t,"db",(function(){return He})),n.d(t,"gd",(function(){return qe})),n.d(t,"Nc",(function(){return ze})),n.d(t,"eb",(function(){return Ge})),n.d(t,"dd",(function(){return $e})),n.d(t,"Gc",(function(){return Je})),n.d(t,"N",(function(){return Ye})),n.d(t,"cd",(function(){return Xe})),n.d(t,"uc",(function(){return Qe})),n.d(t,"Vc",(function(){return Ze})),n.d(t,"Wc",(function(){return et})),n.d(t,"G",(function(){return tt})),n.d(t,"E",(function(){return nt})),n.d(t,"F",(function(){return rt})),n.d(t,"wb",(function(){return ot})),n.d(t,"cc",(function(){return at})),n.d(t,"Ub",(function(){return it})),n.d(t,"jc",(function(){return st})),n.d(t,"kc",(function(){return ct})),n.d(t,"bb",(function(){return dt})),n.d(t,"Nd",(function(){return pt})),n.d(t,"Ed",(function(){return ft})),n.d(t,"Pc",(function(){return gt})),n.d(t,"Fc",(function(){return vt})),n.d(t,"Oc",(function(){return yt})),n.d(t,"Ic",(function(){return Ot})),n.d(t,"Rc",(function(){return wt})),n.d(t,"Hc",(function(){return Et})),n.d(t,"Sc",(function(){return jt})),n.d(t,"Jc",(function(){return Dt})),n.d(t,"Lc",(function(){return Pt})),n.d(t,"ab",(function(){return kt})),n.d(t,"pc",(function(){return Ct})),n.d(t,"id",(function(){return Tt})),n.d(t,"Hd",(function(){return xt})),n.d(t,"Bc",(function(){return It})),n.d(t,"Ac",(function(){return At})),n.d(t,"Dc",(function(){return St})),n.d(t,"Cc",(function(){return Lt})),n.d(t,"bd",(function(){return Bt})),n.d(t,"ib",(function(){return Rt})),n.d(t,"sc",(function(){return Nt})),n.d(t,"Kc",(function(){return Ft})),n.d(t,"ed",(function(){return Wt})),n.d(t,"Tc",(function(){return Vt})),n.d(t,"M",(function(){return zt})),n.d(t,"ad",(function(){return Gt})),n.d(t,"ic",(function(){return $t})),n.d(t,"Cd",(function(){return Jt})),n.d(t,"Sd",(function(){return Yt})),n.d(t,"Id",(function(){return Xt})),n.d(t,"X",(function(){return Qt})),n.d(t,"Mc",(function(){return Zt})),n.d(t,"qd",(function(){return en})),n.d(t,"ud",(function(){return tn})),n.d(t,"Ad",(function(){return nn})),n.d(t,"wd",(function(){return rn})),n.d(t,"Y",(function(){return on})),n.d(t,"Ib",(function(){return an})),n.d(t,"Md",(function(){return sn})),n.d(t,"Bd",(function(){return cn})),n.d(t,"V",(function(){return un})),n.d(t,"Wb",(function(){return ln})),n.d(t,"mc",(function(){return _n})),n.d(t,"dc",(function(){return dn})),n.d(t,"fc",(function(){return pn})),n.d(t,"ec",(function(){return fn})),n.d(t,"P",(function(){return hn})),n.d(t,"zd",(function(){return mn})),n.d(t,"ub",(function(){return bn})),n.d(t,"tb",(function(){return gn})),n.d(t,"kd",(function(){return yn})),n.d(t,"jd",(function(){return On})),n.d(t,"mb",(function(){return wn})),n.d(t,"pd",(function(){return En})),n.d(t,"Rb",(function(){return jn})),n.d(t,"Rd",(function(){return Dn})),n.d(t,"Ec",(function(){return Pn})),n.d(t,"ac",(function(){return kn})),n.d(t,"Gb",(function(){return Cn})),n.d(t,"Eb",(function(){return Tn})),n.d(t,"Fb",(function(){return xn})),n.d(t,"Hb",(function(){return In})),n.d(t,"Uc",(function(){return Mn})),n.d(t,"tc",(function(){return Ln})),n.d(t,"Od",(function(){return Bn})),n.d(t,"Qc",(function(){return Rn})),n.d(t,"vd",(function(){return Nn})),n.d(t,"od",(function(){return Un})),n.d(t,"ld",(function(){return Fn})),n.d(t,"sb",(function(){return Wn})),n.d(t,"yb",(function(){return Kn})),n.d(t,"Q",(function(){return Hn})),n.d(t,"xd",(function(){return qn})),n.d(t,"yd",(function(){return Vn})),n.d(t,"nc",(function(){return zn})),n.d(t,"jb",(function(){return Gn})),n.d(t,"Fd",(function(){return $n})),n.d(t,"Zb",(function(){return Jn})),n.d(t,"td",(function(){return Yn})),n.d(t,"Dd",(function(){return Qn})),n.d(t,"T",(function(){return Zn})),n.d(t,"pb",(function(){return er})),n.d(t,"hb",(function(){return tr})),n.d(t,"fb",(function(){return nr})),n.d(t,"xb",(function(){return rr})),n.d(t,"W",(function(){return or})),n.d(t,"Qd",(function(){return ar})),n.d(t,"Db",(function(){return ir})),n.d(t,"vb",(function(){return sr})),n.d(t,"U",(function(){return cr})),n.d(t,"R",(function(){return ur})),n.d(t,"S",(function(){return lr})),n.d(t,"zc",(function(){return _r})),n.d(t,"Vb",(function(){return pr})),n.d(t,"bc",(function(){return fr})),n.d(t,"Xc",(function(){return hr})),n.d(t,"Yc",(function(){return vr})),n.d(t,"ob",(function(){return yr})),n.d(t,"g",(function(){return Or})),n.d(t,"b",(function(){return wr})),n.d(t,"f",(function(){return Er})),n.d(t,"e",(function(){return jr})),n.d(t,"d",(function(){return Dr})),n.d(t,"c",(function(){return Pr})),n.d(t,"Gd",(function(){return kr})),n.d(t,"Cb",(function(){return Cr})),n.d(t,"Lb",(function(){return Tr})),n.d(t,"rc",(function(){return xr})),n.d(t,"rb",(function(){return Ir})),n.d(t,"sd",(function(){return Ar})),n.d(t,"rd",(function(){return Mr})),n.d(t,"zb",(function(){return Sr})),n.d(t,"md",(function(){return Lr})),n.d(t,"fd",(function(){return Br})),n.d(t,"nb",(function(){return Rr}));n("rE2o"),n("ioFf"),n("HEwt"),n("Vd3H"),n("a1Th"),n("91GP"),n("rGqo"),n("pIFo"),n("SRfc"),n("KKXr"),n("VRzm"),n("Btvt");var r=n("eaP7"),o=n("h++7"),a=n("bIHZ"),i=n("rHUl"),s=n("MhhX"),c=n("S2bU"),u=n("jE6c"),l=n("rudk"),_=n("ZxpX"),d=n("yqpO"),p=n("FWc3"),f=n("EasH"),h=n("Egk5"),m=n("1BRX"),b=n("v+DW"),g=n("vT4u"),v=n("ofcU"),y=n("rDjD"),O=n("/PiP");function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){return e.parentNode.getAttribute("data-receiver-chat-peer-id")}function D(e,t,n){var r=Object(v.a)({handlers:(r,o)=>{o(e,"click","_im_join_chat",e=>function(e,t){var n=domData(t,"chat-id"),r=domData(t,"hash"),o=domData(t,"chat-link");return Object(b.o)(t),Object(g.db)(n,r,o,e.get()).then(n=>{var r=w(n,1)[0];Object(b.w)(t);var o=e.get();o.longpoll.push([Object(y.a)(r)]),o.onJoinChat&&o.onJoinChat(r)}).catch(e=>{Object(f.d)(getLang("mail_join_invite_error_title"),e),Object(b.w)(t)})}(t,e.target)),o(e,"click","_im_accept_mr",e=>function(e,t){var n=j(t);return Object(b.o)(t),e.set(g.f.bind(null,n)).then(()=>{Object(b.w)(t),e.get().longpoll.push([Object(y.a)(n,!1,!1,!1,"chat_preview")])}).catch(e=>{ir(),Object(f.d)(getLang("mail_join_invite_error_title"),e),Object(b.w)(t)})}(t,e.target)),o(e,"click","_im_reject_mr",e=>function(e,t,n){var r=j(n);return Object(b.o)(n),e.set(e=>Object(g.Qb)(r,!1,e)).then(()=>{t.updateMenu(),t.updateList(),Object(b.w)(n),ir()}).catch(e=>{ir(),Object(f.d)(getLang("mail_error"),e),Object(b.w)(n)})}(t,n,e.target)),o(e,"click","_im_join_chat_donut",e=>function(e,t){var n=domData(t,"chat-id"),r=domData(t,"hash"),o=domData(t,"chat-link"),a=domData(t,"owner-id");ir(),Object(O.B)(null,null,a,"chat_preview","",{type:"subscribe",params:{act:"subscribe_popup"},onSuccessPayment:()=>{Object(g.db)(n,r,o,e.get()).then(t=>{var n,r=w(t,1)[0],o=e.get();null===(n=o.longpoll)||void 0===n||n.push([Object(y.a)(r)]),o.onJoinChat&&o.onJoinChat(r)}).catch(e=>{Object(f.d)(getLang("mail_join_invite_error_title"),e)})}})}(t,e.target))}});return{unmount(){Object(v.c)(r)}}}var P=n("tEnI"),k=n("ftTi"),C=n("Czjj"),T=n("PEW9"),x=n("6x51"),I=n("aong"),A=n("86+7"),M=n("Wu9C"),S=n("wSs/"),L=n("ERyv"),B=n("sp2a"),R=n("t7n3");var N=n("/eGY"),U=n("ambf"),F=n("Syd7"),W=n("nAFc"),K=n("S6+Z"),H=n("zxIV"),q=n("4+be"),V=n("kxld");var z=n("N4ZS");function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y="_im_mess_sending",X="_im_mess_failed",Q="_im_mess_restore",Z="_im_typing",ee="_im_mess_btn",te="_im_mess_stack",ne="_im_bot_carousel",oe="chat_create",ae="chat_title_update",ie="chat_invite_user",ce="chat_kick_user",ue="chat_photo_update",le="chat_photo_remove",_e="chat_pin_message",de="chat_unpin_message",pe="chat_invite_user_by_link",fe="chat_screenshot",he="chat_group_call_started",me="chat_kick_user_call_block",be="chat_kick_don",ve="_im_deselect_all",ye="_im_top_notice_hide",Oe="_im_aside_notice_hide",we="_im_aside_promo_block_hide",Ee="_im_vkadmin_promo_link",je="_im_clear_recent",De="_im_toggle_mr_tab",Pe="_im_mess_search",ke="_im_pinned";function Ce(){return ls.get("chatPosition")||0}function Te(e){e>=window.clientHeight()-30&&(e=0),ls.set("chatPosition",e)}function xe(e,t){e&&e.innerHTML!==t&&(e.innerHTML=t)}function Ie(e,t,n,r){var o=t&&!n?1:!t&&n?-1:0;o&&!Object(i.B)(e)&&r().compensateHistoryHeightChange(o)}function Ae(e,t,n,r){var o=window.devicePixelRatio>=2?"256":"128",a="animation"===n,i="im_gift";a&&(i+=" sticker_img");var s=`<img height="128" class="${i}" src="${Stickers.getStickerUrl(intval(e),o)}"/>`;if(a){var c="animatedSticker"+r;s=`<div id="${c}" data-loop-count=3 data-animation-path="${"/stickers.php?act=proxy_animation&product_id="+t+"&sticker_id="+e}" onmouseenter="StickersAnimation.loadAndPlaySticker(this);"\n     data-uniq-id="${r}" data-sticker-id="${intval(e)}" class="sticker_animation sticker_animation_128 im_gift">${s}</div>`;var u=!1;browser.msie?(0^r)===r&&(u=!0):u=Number.isInteger(r),u&&window.StickersSettings.getAutoplay()&&window.StickersAnimation&&window.StickersAnimation.loadAndPlayStickerWithTimer(c,10)}return t&&(s=`<a onmouseover="return Emoji.stickerOver(${intval(e)}, this);"\n        onclick="return Emoji.clickSticker(${intval(t)}, this, event);">${s}</a>`),s=`<div class="im_sticker_row">${s}</div>`}function Me(e,t,n){var r=e.get?e.get():e;if(st(r,t)){var o=r.tabs[t].deleted||[];return inArray(n,o)}return!1}function Se(e,t,n){var r=n.randomId,o=geByClass1("_im_mess_rid"+r,t);return o&&(t=Ye(e,n,t=Mt([o],t),!0,!1)),t}function Le(e){var t=Object(i.a)(e);return Object(i.E)(e)||browser.mobile&&browser.safari?Promise.resolve(!1):void 0!==t?Promise.resolve(t):Be().then(e=>e.length>0).catch(e=>!1)}function Be(){return window.AudioContext&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then((function(e){for(var t=[],n=0;n<e.length;n++)"audioinput"==e[n].kind&&t.push(e[n]);return t})):Promise.reject(new Error("NotSupported"))}function Re(e){return Object(R.n)("im_preloader",{preloader:rs(vk.pr_tpl,{id:""}),cls:"im-preloader_attach im-preloader_visible im-preloader_"+e})}function Ne(e){var t=e.split(".");return(t[0]<10?"0":"")+t[0]+(t[1]<10?"0":"")+t[1]+t[2]}function Ue(e){var t=(""+e).replace(/\D/g,"").match(/^(\d+)(\d{3})(\d{3})(\d{2})(\d{2})$/);return t?`+${t[1]} (${t[2]}) ${t[3]}-${t[4]}-${t[5]}`:""}function Fe(e){var t=Object(W.a)(e),n=Object(K.d)().exec(t);return n?0===n.index?Object(d.a)(n[0]):t[0]:t.split(/\s/).reduce((e,t)=>e+t.slice(0,1),"").slice(0,2)}function We(e){var t=Object(u.q)(e);return Object(d.b)(Object(R.c)(t),!0)}function Ke(e,t,n){var r=domData(n,"msgid"),o=geByClass1("_im_mess_"+r,t),a=n.cloneNode(!0);return o&&(o.parentNode.replaceChild(a,o),Ge(t)),t}function He(e,t,n){var r=geByClass1("_im_mess_"+t.messageId,n);if(r){var o=se(Ve(e,t));r.classList.contains("im-mess_is_editing")&&o.classList.add("im-mess_is_editing"),r.parentNode.replaceChild(o,r),Ge(n)}return n}function qe(e,t,n){var r=geByClass1("_im_mess_"+n,e);if(r){var o=r.closest("._im_mess_stack"),a=o&&o.querySelector(".im-mess-stack--bomb");a&&a.classList.add(t?"im-mess-stack--bomb_expiring-soon":"im-mess-stack--bomb_expiring")}return e}function Ve(e,t){var n=[],r=Object(s.u)(e.tabs[t.peerId],t),o=Object(s.h)(t)||Object(s.f)(t),a=Object(i.o)(e),u=Object(s.e)(t)?Object(R.n)("im_message_media",{type:"reply",messageId:t.messageId,attaches:Re("reply"),text:""}):"";o||n.push("_im_mess"),Object(s.r)(t)&&r&&!o&&n.push("im-mess_unread _im_mess_unread"),Object(s.r)(t)&&!o&&n.push("im-mess_out"),Object(s.w)(t)&&n.push("im-mess_was_edited"),Object(S.a)(e,t)&&n.push("im-mess_editable"),Object(s.m)(t)&&n.push("im-mess_fav"),-1!==(e.selectedMessages||[]).indexOf(t.messageId)&&n.push("im-mess_selected"),a&&a.messageId===t.messageId&&n.push("_im_mess_pinned");var _=Date.now()-1e3*t.date>1e3;t.local&&_&&n.push("im-mess_sending"),t.local&&n.push(""+Y),t.local&&Object(s.w)(t)&&!r&&n.push("im-mess_unread im-mess_nobg"),t.failed&&n.push("im-mess_failed "+X),Object(s.k)(t)&&n.push("im-mess_gift"),o&&n.push("_im_mess_callsnippet"),Object(s.i)(t)&&n.push("im-mess_casper");var d=ze(t).concat(function(e){if(e.kludges.keyboard&&e.kludges.keyboard.inline){var t=e.kludges.keyboard.buttons,n=0;return[].concat(Object(R.n)("sImMessageKeyboard",{content:t.map(t=>Object(R.n)("sImMessageKeyboardRow",{content:t.map(t=>Object(R.n)("sImMessageKeyboardButton",{label:Object(N.g)(t),appearance:Object(N.f)(t),type:t.action.type,modifier:t.action.type.replace("_","-"),attributes:Object(N.e)(t.action,n++,e.messageId),tagName:t.action.type===N.b?"a":"button"})).join("")})).join("")}))}return[]}(t)),p=function(e,t){var n="",r=Object(I.s)(e).sourceEnabled&&t.kludges&&t.kludges.from_widget&&t.kludges.ref_source;Object(s.w)(t)&&(n+=Object(R.n)("sImLblWasEdited",{update_time:t.update_time}));if(Object(i.E)(e)&&r){var o=t.kludges.ref_source,a={};try{(a=JSON.parse(Object(R.J)(o))).link&&a.info&&(a.link=Object(c.d)(Object(R.c)(a.link),c.a.bind(null,!1)),a=Object(R.c)(langStr(Object(q.d)("mail_source_info"),"link",a.link,"info",Object(R.c)(a.info))),n+=Object(R.n)("sImLblWasSourceInfo",{source:a}))}catch(e){}}return n}(e,t),f=u+_t(e,t.text,t.kludges,!1,t.peerId);t.subject&&"..."!==t.subject.trim()&&!Object(l.c)(t.peerId)&&(f=Object(R.n)("im_topic",{topic:t.subject})+f);var h=Object(s.k)(t)?`<div class="im-mess--gift-lbl">${f}</div>`:"",m=d.length>0?Object(R.n)("im_message_media",{type:"media",messageId:t.messageId,attaches:d.join(""),text:h}):"",b=t.kludges.has_template?function(e){return'<div class="bot-carousel-placeholder _im_bot_carousel_'+e.messageId+'"></div>'}(t):"";if(Object(s.k)(t)||(m=f+b+m),Object(s.h)(t)){var g=function(e,t,n,r){var o=vk.id,a=e.attaches[0],i=a.initiatorId,s=a.state,c=o===i,u=Boolean(e.kludges.attach1_call_video),l=e.kludges.attach1_call_participants&&JSON.parse(e.kludges.attach1_call_participants)||{},_="group_call"===e.kludges.attach1_kind,d={title:"",description:"",modifier:""},p=u?Object(q.d)("mail_call_snippet_outgoing_video"):Object(q.d)("mail_call_snippet_outgoing"),f=u?Object(q.d)("mail_call_snippet_incoming_video"):Object(q.d)("mail_call_snippet_incoming");switch(s){case"reached":var h=t?"":$e(a.duration);d.title=c?p:f,d.description=`${Object(q.d)("mail_call_snippet_finished")} · ${h}`;break;case"canceled_by_initiator":d=c?{title:p,description:Object(q.d)("mail_call_snippet_canceled")}:{title:f,description:Object(q.d)("mail_call_snippet_missed")};break;case"canceled_by_receiver":if(c){if(t)return Object(q.d)("mail_call_declined");d={title:p,description:Object(q.d)("mail_call_snippet_declined")}}else d={title:f,description:Object(q.d)("mail_call_snippet_canceled")};break;default:d.title=Object(q.d)("mail_added_call")}_&&(d.title=Object(q.d)("mail_call_snippet_group"));var m=Object.keys(l);return d.user_list=Je(r,m),d.button="",d.classes="im-mess--call-snippet CallSnippet--interactive _im-call-snippet",d.attributes=`data-participants="${m.join(",")}"`,d}(t,!1,0,e);m+=Object(R.n)("sImCallSnippet",g)}return m+=p,Object(R.n)("im_msg_row",{msg_id:t.messageId,from_id:t.peerId,aria_hidden:t.local&&!t.failed?"true":"false",ts:t.date,marker_params:t.failed?`aria-label="${Object(q.d)("mail_send_message_error")}" role="link"`:"",unread_params:r?`aria-label="${Object(q.d)("mail_unread_message")}"`:"",cls:n.join(" ")}).replace("%text%",()=>m)}function ze(e){return e.attaches.reduce((t,n)=>!Object(s.e)(e)||"mail"!==n.type&&"reply"!==n.type?("call"===n.type||("sticker"===n.type?e.messageId?t.push(Ae(n.id,n.productId,n.kind,e.messageId)):t.push(Ae(n.id,n.productId)):t.push(Re(n.type))),t):t,[])}function Ge(e){for(var t=e.querySelectorAll("._im_mess_noa:not(._im_mess_callsnippet):not(._im_mess_srv)"),n=t.length;n--;)hasClass(t[n],"im-mess_fwd")||t[n].insertAdjacentHTML("afterbegin",Object(R.n)("sImHistoryRowActions")),removeClass(t[n],"_im_mess_noa")}function $e(e){var t=Math.floor(e/3600),n=Math.floor(e/60)-60*t,r=!1,o=!1;return[t,n,e-3600*t-60*n].reduce((e,t)=>{if(0===t&&!o)return o=!0,e;r&&(t=t<10?"0"+t:t);var n=`${e}${""!==e?":":""}${t}`;return r=!0,o=!0,n},"")}function Je(e,t){if(!t.length)return"";var n=t.slice(0,3).reduce((t,n)=>{var r=Object(A.c)(e,n);return r&&(t+=Object(R.n)("sImCallUser",{url:r.photo,name:r.name})),t},"");return Object(R.n)("sImCallUsers",{users:n})}function Ye(e,t,n){!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=Date.now()-1e3*t.date>1e3,c=e.tabs[t.peerId];if(!n||geByClass1("_im_mess",n)||geByClass1("_im_bar_date",n)||(n.innerHTML=""),c.skipped>0)return n;var u=[];t.local||(u=e.imQueue(t.peerId,r)),u.length>0&&Mt(u.map(e=>geByClass1("_im_mess_rid"+e.rid,n),n).filter(e=>e));var _=Ve(e,t),d=domLC(n);hasClass(d,"_im_mess_stack")||(d=domClosestSibling(d,"._im_mess_stack",-1));for(var p=Object(i.k)(e,t.peerId,t.messageId);t.peerId===e.peer&&p&&!geByClass1("_im_mess_"+p.messageId);)p=Object(i.k)(e,t.peerId,p.messageId);var f=geByClass1("_im_unread_bar_row",n),h=p?ut(p.date,e):0,b=Object(l.c)(t.peerId)&&Object(i.x)(e,t.peerId);if(!p||lt(c,p,t,e,o)){var g="",v=!1;if(f&&Object(s.r)(t)&&Pn(e,n,t.peerId),1===c.unread&&!Object(s.r)(t)&&o&&(g+=Object(R.n)("im_mess_bar",{}),v=!0,Pn(e,n,t.peerId)),!Object(m.i)(new Date(h))&&!b){var y=new Date,O=v?"im-page--history-new-bar_hide _im_invisible_bar":"";g+=Object(R.n)("im_day_bar",{day:getShortDate(t.date,e.timeshift,!0,Object(q.d)("months_of","raw"),!0),date:t.date,day_class:y.getDate()+y.getMonth()+y.getFullYear()+" "+O})}if(Object(s.s)(t))g+=Object(R.n)("im_service_row",{text:Vt(e,t,c.peerId),type:"",date:t.date,from_id:"",message_id:t.messageId});else{var w=gr(e,t);g+=Object(R.n)("im_mess_stack",Object.assign(w,{messages:_}))}Object(I.q)(sech(g)).forEach(e=>n&&n.appendChild(e))}else f&&e.peer===t.peerId&&!c.inplaceSearch&&Object(s.r)(t)&&Pn(e,n,t.peerId),geByClass1("_im_stack_messages",d).appendChild(se(_));return Object(s.r)(t)&&!a&&setTimeout(()=>{var e=geByClass1("_im_mess_"+t.messageId,n);hasClass(e,Y)&&addClass(e,"im-mess_sending")},500),u=u.filter(e=>e.rid!==t.randomId),Ge(n),Xe(u,e,n)}function Xe(e,t,n){var r;return(r="object"==typeof e?e:t.imQueue(e,!1)).length>0&&r.map(e=>(e.mess.failed=!!e.failed,e.mess)).filter(e=>Object(i.m)(t,e.peerId,e.messageId)).forEach(e=>Ye(t,e,n,!1)),n}function Qe(e,t,n){var r=e.tabs[t];return Object(I.q)(geByClass("_im_mess_unread",n)).forEach(e=>{var t,n=intval(domData(e,"msgid"));n>0&&r.out_up_to>=n&&(removeClass(e,"_im_mess_unread"),removeClass(e,"im-mess_unread"),(t=geByClass1("_im_mess_blind_unread_marker",e))&&(t.removeAttribute("aria-label"),t.removeAttribute("role"),t.removeAttribute("tabindex")))}),n}function Ze(e,t,n){var r=t.peerId,o=t.messageId,a=geByClass1("_im_msg_reply"+o,e),i=geByClass1("_im_msg_media"+o,e),s=n.tabs[r].mediacontent[o][0];return a&&(a.innerHTML=s[0]),i&&(i.innerHTML=s[1]),e}function et(e,t,n){var r=t.messageId,o=e.querySelector("._im_bot_carousel_"+r);if(o){var a=function(e,t){var n=Object(i.m)(e,t.peerId,t.messageId).kludges.template,r=!1;if(!n)return"";var o=n.elements.reduce((e,n,o)=>{var a="",i="",s=Object(R.c)(n.title),c=Object(R.c)(n.description);if(n.photo&&(a+=Object(R.n)("sImBotCarouselSlidePhoto",{url:n.photo.sizes.find(e=>"q"===e.type).url,alt:s||c||""}),r=!0),s&&(i+=Object(R.n)("sImBotCarouselSlideTitle",{content:s})),c&&(i+=Object(R.n)("sImBotCarouselSlideDescription",{content:c})),(n.title||n.description)&&(a+=Object(R.n)("sImBotCarouselSlideContent",{content:i})),n.action&&("open_link"===n.action.type&&(a=Object(R.n)("sImBotCarouselSlideLinkWrapper",{content:a,url:Object(z.a)(n.action.link,!0)})),"open_photo"===n.action.type&&(a=Object(R.n)("sImBotCarouselSlidePhotoLinkWrapper",{content:a,photo_id:`${n.photo.owner_id}_${n.photo.id}`,msg_id:t.messageId}))),n.buttons){var u=n.buttons.reduce((e,t,n)=>{var r=Number(o+""+n);return e+=Object(R.n)("sImBotCarouselSlideButton",{label:Object(N.g)(t),appearance:Object(N.f)(t),modifier:t.action.type.replace("_","-"),attributes:Object(N.e)(t.action,r),tag_name:"open_link"===t.action.type?"a":"button"})},"");a+=Object(R.n)("sImBotCarouselSlideButtons",{content:u})}return e+Object(R.n)("sImBotCarouselSlide",{content:a,index:o})},"");return n.elements.length>1?Object(R.n)("sImBotCarousel",{content:Object(R.n)("sImCarousel",{content:o,controls_class:r?"BotCarousel__control--fourth":"BotCarousel__control",scroll_count:"1"}),msg_id:t.messageId}):Object(R.n)("sImBotCarousel",{content:o,msg_id:t.messageId})}(n,t);return domReplaceEl(o,a),e}}var tt=0,nt=1,rt=2;function ot(e,t){if(!Object(i.H)(t,e.peerId))return tt;var n=t.tabs[e.peerId];return n.msgs[e.messageId]?nt:n.msgs["rid"+e.randomId]?rt:tt}function at(e,t){return e===t.peer}function it(e,t){return Object(V.a)(Object(i.s)(e,t),1024)}function st(e,t){return!!e.tabs[t]}function ct(e,t){return!!st(e,t)&&null!==e.tabs[t].lastmsg}function ut(e,t){return 1e3*e+1e3*t.timeshift}function lt(e,t,n,r,o){if(Object(s.d)(t)!==Object(s.d)(n))return!0;var a=ut(t.date,r),c=ut(n.date,r);if(!isSameDate(a,c))return!0;if(Object(i.E)(r)&&intval(t.kludges.from_admin)!==intval(n.kludges.from_admin))return!0;if(n.date-t.date>300)return!0;if(Object(s.s)(t)||Object(s.s)(n))return!0;var u=Object(s.i)(t),l=Object(s.i)(n);if(u!==l)return!0;var _=t.kludges.is_expired,d=n.kludges.is_expired;return!(!u||!l||_===d)||(!(!u||!l||_||d)||!(u&&l&&_&&d)&&(!(!Object(s.h)(n)&&!Object(s.h)(t))||(!(!Object(s.f)(n)&&!Object(s.f)(t))||(!(!Object(s.k)(t)&&!Object(s.k)(n))||(!(!Object(s.l)(t)&&!Object(s.l)(n))||(!!Object(s.e)(n)||!(Object(s.u)(e,t)===Object(s.u)(e,n)||!o||Object(s.r)(n)||$t(n.peerId,r.gid))))))))}function _t(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Math.round(1e9*Math.random()).toString(16),s={},u=0;return t=(t=Object(c.d)(t||"",c.a.bind(null,r))).replace(/(<a.+?<\/a>)/gi,e=>{var t=`!link_${u}_${a}!`;return s[t]=e,u++,t}),t=Object(c.f)(t),e.isMassMentionsMessageAllowed&&(t=Object(c.e)(t)),t=Object(c.b)(t),t=Object(c.c)(t,t=>{var n=Object(i.i)(e);return`<a href="/${n?"gim"+n:"im"}?sel=${o||Object(k.i)(e)}&st=${encodeURIComponent(t)}">${t}</a>`}),Object.keys(s).forEach(e=>{t=t.replace(e,()=>s[e])}),n.emoji&&(t=Emoji.emojiToHTML(t,!0)),t}function dt(e){return Object(l.c)(e)?"c"+(e-2e9):Object(l.f)(e)?"e"+Math.abs(e+2e9):Object(l.e)(e)?"mr"+(e-19e8):e}function pt(e){switch(e.substr(0,1)){case"e":return-2e9-intval(e.substr(1));case"c":return 2e9+intval(e.substr(1));default:return intval(e)}}function ft(e){return e>9999999?Math.floor(e/1e6)+"M":e>9999?Math.floor(e/1e3)+"K":e>0?e.toString():""}function ht(e,t){var n=`<img src="${e}" alt="" class="dialogs_inline_chatter dialogs_inline_chatter_half"/>`;return t&&(n=Object(R.n)("im_dialogs_link",{href:t,photo:n})),`<div class="im_grid">\n    <div class="dialogs_inline_chatter dialogs_inline_chatter_half">\n      ${n}\n    </div>\n  </div>`}function mt(e,t){var n=`<img src="${e}" alt="" class="dialogs_inline_chatter"/>`;return t&&(n=Object(R.n)("im_dialogs_link",{href:t,photo:n})),`<div class="im_grid">\n    <div class="dialogs_inline_chatter">\n      ${n}\n    </div>\n  </div>`}function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if("string"==typeof e)return Object(R.n)("sImDialogImRowPhoto",{photo:`<img src="${e}" alt=""/>`});switch(e.length){case 1:return Object(R.n)("sImDialogImRowPhoto",{photo:`<img src="${e[0]}" alt=""/>`});case 2:return e.map((e,n)=>ht(e,t[n])).join("");case 3:return ht(e[0],t[0])+e.slice(1).map((e,n)=>mt(e,t[n+1])).join("");case 4:return e.map((e,n)=>mt(e,t[n])).join("")}}function gt(e,t,n){return Object(x.f)(e.get().id,t.peerId)?Object(R.n)("sImDialogImRowPhoto",{photo:`<img src="${T.d}" alt="">`}):"string"==typeof t.photo&&t.photo?Object(R.n)("sImDialogImRowPhoto",{photo:`<img src="${t.photo}" alt="">${t.photo_icon||""}`}):Object(l.c)(t.peerId)&&t.membersCount<2?Object(R.n)("sImDialogImRowPhoto",{photo:`<img src="${e.get().default_chat_photo}" alt="">`}):Array.isArray(t.photo)?bt(t.photo):Object(l.e)(t.peerId)?Object(R.n)("sImContactAvatar",{name:Fe(t.tab),size:30,classes:"nim-peer--contact-avatar"}):bt(...Object(x.d)(e,t,n))}function vt(e){var t=e.get().gid?Object(q.d)("mail_search_only_messages_comm"):Object(q.d)("mail_search_only_messages");return`<li class="im-page--mess-search-w">\n    <div class="im-page--mess-search ${Pe}">\n      <button type="button" class="im-i--messages-search"></button>${t}\n    </div>\n  </li>`}function yt(){return`<li class="im-search-results-head">${Object(q.d)("mail_search_messages")}</li>`}function Ot(){return`<li class="im-search-results-head">${Object(q.d)("mail_search_conversations_sep")}</li>`}function wt(){return`<li class="im-search-results-head">${Object(q.d)("mail_search_dialogs_sep")}</li>`}function Et(){return`<li class="im-search-results-head _im_recent_bar">\n    ${Object(q.d)("mail_recent_searches")}\n    <button type="button" class="${je} im-page--clear-recent">${Object(q.d)("mail_clear_recent")}</button>\n  </li>`}function jt(e){var t=e.get().popular_sugg,n=Object(i.B)(e)?7:4;return t.length>n&&(t=t.slice(0,n)),'<li class="im-popular clear_fix">'+t.map(t=>{var n=t.peerId,r=!Object(x.f)(e.get().id,n)&&Object(A.c)(e,n)||t,o=e.get().tabs[n]||t,a=(e.get().mutedPeers||[]).indexOf(n)>=0;return`<div class="${["im-popular--item","fl_l","_im_dialog","_dont_add_recent","_im_sugg_"+n,o.unread>0&&"sugg-is_unread",a&&"sugg-is_muted"].filter(e=>!!e).join(" ")}" data-peer="${n}">\n    <a class="im-popular--avatar-w ${onlinePlatformClass(o.online)}" href="${r.link}"><img class="im-popular--avatar" src="${r.photo}"/></a>\n    <div class="im-popular--name-w"><a class="im-popular--name" href="${r.link}">${r.first_name||r.name}</a></div>\n    <span class="im-popular--unread _sugg_unread_ct">${ft(o.unread)}</span>\n</div>`}).join("")+"</li>"}function Dt(e){if(Object(k.h)(e,"messages_recommendation_list_hidden"))return"<div></div>";var t=Object(V.d)(e),n=t?t.items.map((e,n)=>function(e,t){var n=Object(l.e)(e.peer_id),r=n?"/im?sel="+e.peer_id:"/"+e.screen_name,o=!n&&e.online&&e.online_info?"online"+(e.online_info.is_mobile?" mobile":""):"",a=n&&!e.photo?Object(R.n)("sImContactAvatar",{name:Fe(e.name),size:46,classes:""}):Object(R.n)("sImUserAvatar",{src:e.photo,online_class:o,classes:""});return Object(R.n)("sImConvoRecommendListUser",{name:e.name,id:e.peer_id,link:r,photo:a,position:t})}(t.item_data[e],n)):[],r=[Object(R.n)("sImConvoRecommendListButton",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.75 3.5a7.25 7.25 0 104.45 12.97l4.26 4.27a.9.9 0 101.28-1.28l-4.27-4.26a7.25 7.25 0 00-5.72-11.7zm0 1.8a5.45 5.45 0 100 10.9 5.45 5.45 0 000-10.9z" fill="currentColor"/></svg>',title:Object(q.d)("mail_recommend_block_action_find_friends"),tag_name:"a",attributes:'href="/friends?act=find" target="_blank"'}),Object(R.n)("sImConvoRecommendListButton",{icon:'<svg fill="none" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M11.18 3.9h1.64c1.1 0 1.8 0 2.35.05.52.04.73.11.84.17a2 2 0 01.87.87c.06.11.13.32.17.84.05.54.05 1.26.05 2.35v7.64c0 1.1 0 1.8-.05 2.35-.04.52-.11.73-.17.84a2 2 0 01-.87.87c-.11.06-.32.13-.84.17-.54.05-1.26.05-2.35.05h-1.64c-1.1 0-1.8 0-2.35-.05a2.26 2.26 0 01-.84-.17 2 2 0 01-.87-.87 2.24 2.24 0 01-.17-.84c-.05-.54-.05-1.26-.05-2.35V8.18c0-1.1 0-1.8.05-2.35.04-.52.11-.73.17-.84a2 2 0 01.87-.87c.11-.06.32-.13.84-.17.54-.05 1.26-.05 2.35-.05zM5.1 8.18c0-2.13 0-3.2.41-4a3.8 3.8 0 011.66-1.66C8 2.1 9.05 2.1 11.18 2.1h1.64c2.13 0 3.2 0 4 .41a3.8 3.8 0 011.66 1.66c.42.82.42 1.88.42 4.01v7.64c0 2.13 0 3.2-.41 4a3.8 3.8 0 01-1.66 1.66c-.82.42-1.88.42-4.01.42h-1.64c-2.13 0-3.2 0-4-.41a3.8 3.8 0 01-1.67-1.66c-.41-.82-.41-1.88-.41-4.01zm6.15 8.02a.9.9 0 100 1.8h1.5a.9.9 0 000-1.8z" fill="currentColor" fill-rule="evenodd"/></svg>',title:Object(q.d)("mail_recommend_block_action_invite"),tag_name:"button",attributes:'data-action="invite_by_phone_number"',classes:"_convoRecommendAction"}),Object(R.n)("sImConvoRecommendListButton",{icon:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 12.73a1.53 1.53 0 012.1.48c.45.7.24 1.64-.47 2.08-.94.59-1.96 1-3.02 1.24l2.9 2.89c.6.59.6 1.55 0 2.14-.59.59-1.55.59-2.15 0L12 18.72l-2.85 2.84a1.53 1.53 0 01-2.16 0 1.5 1.5 0 010-2.14l2.9-2.89a9.8 9.8 0 01-3.01-1.24 1.5 1.5 0 01-.48-2.08c.45-.71 1.39-.92 2.1-.48a6.65 6.65 0 007 0zM12 2c2.87 0 5.2 2.32 5.2 5.16a5.19 5.19 0 01-5.2 5.16 5.19 5.19 0 01-5.2-5.16A5.19 5.19 0 0112 2zm0 3.03c-1.18 0-2.15.95-2.15 2.13S10.82 9.3 12 9.3c1.19 0 2.16-.96 2.16-2.14 0-1.18-.97-2.13-2.16-2.13z" fill="#ee8208"/></svg>',title:Object(q.d)("mail_recommend_block_action_import_ok"),tag_name:"button",attributes:'data-action="import_ok"',classes:"_convoRecommendAction"}),Object(R.n)("sImConvoRecommendListButton",{icon:'<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#logo_google_color_24__clip0)"><path d="M21.99 12.19c0-.82-.07-1.42-.22-2.04H12.2v3.7h5.62c-.11.92-.72 2.3-2.08 3.23l-.02.13 3.02 2.29.21.02A9.63 9.63 0 0022 12.19z" fill="#4285F4"/><path d="M12.2 21.93c2.75 0 5.06-.88 6.75-2.41l-3.21-2.44c-.87.59-2.02 1-3.54 1a6.13 6.13 0 01-5.8-4.14h-.12l-3.15 2.39-.04.1a10.22 10.22 0 009.1 5.5z" fill="#34A853"/><path d="M6.4 13.94a6 6 0 01-.34-1.97c0-.7.12-1.36.33-1.98l-.01-.13-3.19-2.42-.1.05A9.79 9.79 0 002 11.96a9.79 9.79 0 001.09 4.48l3.3-2.5z" fill="#FBBC05"/><path d="M12.2 5.85c1.91 0 3.2.81 3.94 1.49l2.88-2.75A9.92 9.92 0 0012.2 2C8.2 2 4.77 4.24 3.09 7.5l3.3 2.5a6.15 6.15 0 015.81-4.15z" fill="#EB4335"/></g><defs><clipPath id="logo_google_color_24__clip0"><path fill="#fff" transform="translate(2 2)" d="M0 0h20v20H0z"/></clipPath></defs></svg>',title:Object(q.d)("mail_recommend_block_action_import_google"),tag_name:"button",attributes:'data-action="import_gmail"',classes:"_convoRecommendAction"})],o=n.length?Object(R.n)("sImCarousel",{content:n.join("")+r.join(""),controls_class:"ConvoRecommendList__control",scroll_count:"4"}):r.join("");return Object(R.n)("sImConvoRecommendList",{list_content:o})}function Pt(e){return Object(I.s)(e).findFriendsStub||""}function kt(e){var t=Boolean(e&&mobPlatforms[e]);return{is_online:Boolean(e&&!t),is_mobile:t}}function Ct(e){var t=Object(I.s)(e);return t.active_tab===T.e&&!Object(i.E)(e)&&t.isRecommendationListEnabled}function Tt(e,t,n){var r=geByClass1("_im_mess_"+t.messageId,n);if(r){attr(r,"aria-hidden","false"),addClass(r,"im-mess_failed "+X);var o=geByClass1("_im_mess_marker",r);attr(o,"aria-label",Object(q.d)("mail_send_message_error")),attr(o,"role","link")}return n}function xt(e,t,n){var r=geByClass1("_im_mess_"+t,n);if(r){removeClass(r,"im-mess_failed"),attr(r,"aria-hidden","true"),removeClass(r,X);var o=geByClass1("_im_mess_marker",r);attr(o,"aria-label",""),attr(o,"role","")}return n}function It(e,t){return Mt(e.map(e=>geByClass1("_im_mess_"+e,t)).filter(e=>e),t)}function At(e,t){var n=t||document,r=[];return e.forEach(e=>{var t=n.querySelector("._im_expired_message_"+e);if(t){var o=+t.dataset.count;if(t.dataset.count=o-1,t.classList.remove("_im_expired_message_"+e),1===o)(!domNS(t)||hasClass(domNS(t),"_im_bar_date"))&&(hasClass(domPS(t),"_im_bar_date")&&re(domPS(t)),hasClass(domPS(t),"_im_unread_bar_row")&&re(domPS(t))),re(t);else r.includes(t)||r.push(t)}}),r.length&&r.forEach(e=>{var t=+e.dataset.count;if(t>0){var n=mr(t),r=se(n);r.classList.add(...e.classList),e.replaceWith(r)}}),t}function Mt(e,t){var n=e.filter(e=>!hasClass(e,"im-mess_srv")).map(e=>e.parentNode);return e.forEach(e=>{var t=e.parentNode;if(t)if(e.classList.contains("im-mess_srv")){var n=t.parentNode;n&&n.removeChild(t)}else t.removeChild(e)}),n.filter(e=>0===domChildren(e).length).map(e=>Object(H.Y)("_im_mess_stack",e)).forEach(e=>{hasClass(domPS(e),"_im_bar_date")&&re(domPS(e)),hasClass(domPS(e),"_im_unread_bar_row")&&re(domPS(e)),re(e)}),t}function St(e){for(var t=e;t;){var n=t;if(null===(t=t.previousElementSibling)){hasClass(n,"mess_srv")&&(t=n.parentNode);var r=Object(H.Y)("_im_mess_stack",n);r&&(t=r.previousElementSibling,1===domChildren(n.parentNode).length&&r.parentNode.removeChild(r))}hasClass(n,"_im_unread_bar_row")||n.parentNode.removeChild(n)}}function Lt(e,t,n,r){return e.map(e=>geByClass1("_im_mess_"+e,r)).filter(e=>e).forEach(e=>{val(e,function(e,t,n){var r=t.innerHTML,o="delete"===n?"mail_deleted_stop":"mail_marked_as_spam";return`<div class="im-mess--text">\n    ${Object(q.d)(o)} <button type="button" data-peer="${e}" class="${Q} im-mess--btn">${Object(q.d)("mail_restore")}</button>\n    <div class="_im_mess_original im-mess--original">${r}</div>\n  </div>`}(t,e,n)),addClass(e,"im-mess_light")}),r}function Bt(e,t,n){var r=geByClass1("_im_mess_"+e,n);if(r){var o=geByClass1("_im_mess_original",r);val(r,o.innerHTML),removeClass(r,"im-mess_light")}return n}function Rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(a)return Ut(e,t,n,r,!0,o);var i=60,s=Ut(e,t,n,r,!1,o);return s.length>i?Ut(e,t,n,r,!0,o):s}function Nt(e){var t={[g.d]:1,[g.c]:2},n=Object.keys(e).sort((e,n)=>t[n]-t[e]),r={},o=n.reduce((t,n)=>{var o=(e[n]||{}).userIds;return(void 0===o?[]:o).forEach(e=>{r[e]||(r[e]=!0,t[n]=!0)}),t},{}),a=n.filter(e=>!!o[e]);return a.length>1?"":a[0]}function Ut(e,t,n,r,o,a){var s=function(e,t,n){var r=[],o={};return Object.keys(t).map(n=>{((t[n]||{}).userIds||[]).forEach(t=>{Object(A.b)(e,t)?parseInt(t,10)!==e.id&&(o[t]=n):r.push(t)})}),r.length&&Object(g.jb)({[n]:r},e),Object.keys(o).sort((e,n)=>t[o[e]].ts-t[o[n]].ts)}(r,e,t);if(0===s.length)return"";var c=Object(l.j)(t)||Object(i.F)(t)?"first_name":o?"short_name":"name",u=Nt(e),_="";u===g.c?_=Object(q.d)("mail_recording_audio_several",s.length):u===g.d&&(_=Object(q.d)("mail_typing_several",s.length));var d=s.slice(0,Math.min(s.length-1,a)),p=d.map(e=>Object(A.c)(r,e)[c]).join(", ");if(s.length>a+1){var f=function(e){var t={};return Object.keys(e).forEach(n=>{var r=e[n].userIds;(void 0===r?[]:r).forEach(e=>{t[e]=1})}),Object.keys(t).length}(e);p+=" "+Object(q.d)("mail_and_peer").replace("{count}",f-a).replace("{typing}",_)}else{if(s.length>1&&(p+=" "+Object(q.d)("mail_and_peer_one")),!Object(l.c)(t)&&n)p+=" "+_;else p+=` ${Object(A.c)(r,s[d.length])[c]} ${_}`}return p.trim()}function Ft(){return`<div class="im-page--chat-search-empty">\n    ${Object(q.d)("mail_im_search_empty")}\n  </div>`}function Wt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return n?`<a class="im_srv_lnk ${r}" target="_blank" rel="noopener" href="${e}">${t}</a>`:`<span class="${r}">${t}</span>`}function Kt(e,t){return"chat_invite_user_by_message_request"===t?e.name:t===ce?e.inv_name:e.kick_name}function Ht(e,t){return"chat_invite_user_by_message_request"===t?e.inv_name:e.name}function qt(e,t,n){return"chat_invite_user_by_message_request"===e?n:t}function Vt(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t.kludges,a=o.source_act,i=intval(o.source_mid),s=intval(Object(l.c)(n)?o.from:t.userId),c=s===i,u=Object(A.c)(e,s),_="raw",d="";switch(a){case oe:d="mail_im_chat_created";break;case ae:d=o.source_is_channel?"mail_im_title_updated_channel":"mail_im_title_updated_dot";break;case ie:d=c?"mail_im_returned_to_chat":"mail_im_invited";break;case ce:d=c?"mail_im_left":"mail_im_kicked_from_chat";break;case ue:d="mail_im_photo_set";break;case le:d=o.source_is_channel?"mail_im_photo_removed_channel":"mail_im_photo_removed";break;case _e:d=o.source_message?"mail_im_pin_message":"mail_im_pin_message_empty2";break;case de:d=o.source_message?"mail_im_unpin_message":"mail_im_unpin_message_empty2";break;case pe:d="mail_im_invite_by_link";break;case"chat_invite_user_by_message_request":d="mail_im_invite_by_message_request";break;case fe:d=Object(I.s)(e).id===i?"mail_im_chat_own_screenshot":"mail_im_chat_screenshot";break;case he:d="mail_im_start_group_call";break;case"chat_invite_user_by_call":d="mail_im_invited_to_call";break;case"chat_invite_user_by_call_join_link":d="mail_im_invite_by_call_link";break;case"sent_message_requests_count":d="mail_creation_count_mr_service_msg",_=intval(o.count_mr);break;case"accepted_message_request":d=u.contact_name?"mail_im_accepted_message_request":"mail_im_accepted_message_request_no_name";break;case me:d="mail_im_kick_user_call_block";break;case be:d="mail_im_chat_kick_don";break;default:return Object(q.d)("mail_no_support")}var p=Object(A.c)(e,i),f=p?qt(a,u.sex,p.sex):u.sex;if(d=(d=(d=langSex(f,Object(q.d)(d,_))).replace("{from}",Wt(u.link,Ht(u,a),r))).replace("{contact}",u.contact_name),i&&!c){var h=o.source_email,m=h?Wt("/im?email="+encodeURIComponent(h),"email",r):Wt(p.link,Kt(p,a),r);d=d.replace("{user}",m)}if(o.source_text&&o.source_text.length>0){var b=o.source_old_text?`«<b class="im_srv_lnk">${o.source_old_text}</b>» &rarr; `:"";d=d.replace("{title}",b+`«<b class="im_srv_lnk">${o.source_text}</b>»`)}if(o.source_act===_e||o.source_act===de)if(o.source_message){var g=Gt(Emoji.emojiToHTML(stripHTML(o.source_message.replace(/<br\s?\/?>/gi," ")),!0)),v=Wt("",g,!1,"im_srv_mess_link");d=d.replace("{msg}",v)}else d=d.replace(/{link}(.+){\/link}/i,(e,t)=>Wt("",t,!1,"im_srv_mess_link"));return d}function zt(e,t,n,r){if(t===ue){var o=geByClass1("_im_mess_"+e.messageId,r);if(o){var a=n.tabs[e.peerId];o.parentNode.innerHTML=Object(R.n)("im_msg_row",{msg_id:e.messageId,from_id:e.peerId,text:Vt(n,e,a.peerId)+n.chat_photo_msg,ts:e.date,cls:"im-mess_srv _im_mess_srv"})}}return r}function Gt(e){return e.replace(/&lt;&lt;/g,"&laquo;").replace(/&gt;&gt;/g,"&raquo;").replace(/ \-\-/g," &mdash;").replace(/\-\- /g,"&mdash; ").replace(o.t,"$1$4")}function $t(e,t){return!t&&e===vk.id}function Jt(e,t){return Object(p.c)(e,{url:Object(i.F)(t)?"al_groups.php":"al_profile.php",params:{act:"verified_tt",mid:t,gid:t},slide:15,ajxdt:200,showdt:200,hidedt:200,dir:"auto",shift:[94,7,7],className:"verified_tt"})}function Yt(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=se(Object(R.n)("im_preloader",{preloader:rs(vk.pr_tpl,{id:""}),cls:["bottom"===n?"im-preloader_bottom":"im-preloader_top",r].join(" ")})),a=!1;function i(){a=!0,removeClass(o,"im-preloader_visible"),o.parentNode&&o.parentNode.removeChild(o),e&&e.classList.remove("_is-loading-list")}e.classList.add("_is-loading-list"),setTimeout(()=>{a||("bottom"===n?e.appendChild(o):e.insertBefore(o,domFC(e)),addClass(o,"im-preloader_visible"))},0),t.then(i).catch(e=>{Object(L.a)("wrapLoading",e),i()})}}function Xt(e,t){return{0:{msgs:e.reduce((e,t)=>(e[t]=[t,r.p,0,0,"",{},{},0,0,0],e),{}),hash:t,history:1}}}function Qt(e,t){if(!t&&!e)return!1;var n=e.target||e.srcElement,r=8,o=!1,a=/_im_mess|im_log_act|im_log_ract|_im_log_body|im_log_rspacer|_im_graffiti_w|_wall_post_cont/;do{if(!n||n.onclick||n.onmousedown||"A"==n.tagName||hasClass(n,"_im_no_select")||hasClass(n,"im_msg_media_link")||"IMG"==n.tagName&&!hasClass(n,"_im_graffiti")&&!hasClass(n,"emoji")&&!hasClass(n,"emoji_css")&&!hasClass(n,"im_gift")||"TEXTAREA"==n.tagName||hasClass(n,"play_new")||hasClass(n,"videoplayer")||(o=a.test(n.className)))break}while(r--&&(n=n.parentNode));return!o||!!trim((window.getSelection&&window.getSelection()||document.getSelection&&document.getSelection()||"").toString())}function Zt(e,t){return`<div class="im-mess--text">\n      <span>${Object(q.d)("mail_restored")}</span>\n      <a class="_im_go_to" href="/im?sel=${dt(e)}&msgid=${t}">${Object(q.d)("mail_im_goto_conversation")}</a>\n    </div>`}function en(e,t,n){var r=Object(q.d)("mail_deleteall1"),o=Object(q.d)("mail_sure_to_delete_all"),a=Object(q.d)("mail_delete");return Object(l.c)(t)&&(Object(V.a)(e,1024)?(r=Object(q.d)("mail_leave_channel"),o=Object(q.d)("mail_unfollow_channel_confirmation"),a=Object(q.d)("mail_unfollow_channel")):o=Object(q.d)("mail_chat_sure_to_delete_all")),Object(i.F)(t)&&(o=Object(q.d)("mail_group_sure_to_delete_all")),Object(f.d)(r,o,a,n,Object(q.d)("global_cancel"))}function tn(e,t,n){var r=Object(i.s)(e,t),o=Object(l.c)(t),a=o&&Object(i.z)(r),s=o&&Object(i.Z)(r),c=Object(q.d)("mail_deleteall1"),u=Object(q.d)("mail_sure_to_delete_all"),_=Object(q.d)("mail_delete");if(o){if(!Object(i.A)(r))return en(r,t,n.bind(null,!0));a?(c=Object(q.d)("mail_leave_channel"),u=Object(q.d)("mail_vkcomgroup_leave_confirm"),_=Object(q.d)("mail_leave_channel")):s?(c=Object(q.d)("mail_reject_mr_confirmation_title"),u=Object(q.d)("mail_reject_mr_confirmation_text"),_=Object(q.d)("mail_message_request_reject")):(c=Object(q.d)("mail_leave_chat"),u=Object(q.d)("mail_chat_leave_confirm"),_=Object(q.d)("mail_leave_chat"))}Object(i.F)(t)&&(u=Object(q.d)("mail_group_sure_to_delete_all"));var d=new MessageBox({title:c,width:a?450:500}).content(u).setButtons(_,()=>n(!!isChecked(geByClass1("_check_is_delete"))||!o),Object(q.d)("global_cancel")).show();return!o||a||s||d.setControlsText(`<div class="checkbox im-delete-forall-checkbox _check_is_delete" onclick="checkbox(this);" role="checkbox" aria-checked="false">${Object(q.d)("mail_deleteall1")}</div>`),d}function nn(e){return Object(f.d)(Object(q.d)("mail_unpin_title"),Object(q.d)("mail_unpin_text"),Object(q.d)("mail_unpin"),e,Object(q.d)("global_cancel"))}function rn(e,t,n,r){var o=Object(q.d)("mail_dialog_msg_delete_N",t),a=Object(f.d)(Object(q.d)("mail_dialog_msg_delete_title"),o,Object(q.d)("mail_delete"),()=>r(isChecked(geByClass1("_check_forall"))),Object(q.d)("global_cancel")),i="",s=!1;return n&&(i=`<div class="checkbox im-delete-forall-checkbox _check_forall" onclick="checkbox(this);" role="checkbox" aria-checked="false">${Object(q.d)("mail_delete_for_all")}</div>`,s=cur.imDb.selectByKey("del_forall_checked")),a.setControlsText(i),s&&checkbox(geByClass1("_check_forall")),a}function on(e,t,n,r,o){t.showProgress(),e.set(r.bind(null,o)).then(()=>{t.hideProgress(),t.hide(),n().removePeer(e,o),n().updateDialogFilters(e)})}function an(e,t,n,r){var o=e.get().tabs[t].memberIds;e.set(r.bind(null,"add_member",o)).then(n().showCreation)}function sn(e,t,n){var r=e.get();if(r.active_tab===o.g&&0===r.dialog_tab_cts.mr)return!1;var a=r.active_tab===o.k?o.g:o.k;return e.set(e=>n(a,e)).then(t)}function cn(e,t,n){if(e.get().active_tab===o.g&&0===Object(k.n)(e))return Promise.resolve(!1);var r=e.get().active_tab===o.n?o.g:o.n;return e.set(n.bind(null,r)).then(e=>{t().restoreDialogs(e,!0)}).then(()=>!0)}function un(e,t,n,r){if(t.get().active_tab===e&&e!==o.m)return Promise.resolve(t);var a=Object(i.O)(t);return t.set(r.bind(null,e)).then(e=>(n().restoreDialogs(e,!0,a!==Object(i.O)(e)),e))}function ln(e,t){void 0===t&&(t=e.get().peer);var n=e.get().tabs[t];return o.j[o.h]&n.folders}function _n(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===t&&(t=e.get().peer),!Object(i.G)(e))return!1;var r=n||e.get().tabs[t];return!!(o.j[o.o]&r.folders)}function dn(e,t){return!1===((t.get().block_states||{})[e]||{}).free}function pn(e){return null!=e.get().pendingForward}function fn(e,t){return(t.get().block_states[e]||{}).who===vk.id}function hn(e,t){var n=e.get().block_states;Object.keys(n).forEach(o=>{n[o].time?!1===n[o].free&&Date.now()-n[o].time>=5e4&&t.push([r.qb([,1,"gim"+e.get().gid,o,0,""])]):n[o].time=Date.now()})}function mn(e,t,n){var r;return!showTabbedBox("al_im.php",{act:"a_spam",offset:"0",gid:e.get().gid},{onDone:(n,o)=>{o&&(r=t(n,e,o))},params:{width:638,onHide:()=>{AudioMessagePlayer.loaded&&AudioMessagePlayer.detachPlayer(!0),r.unmount()}}},n)}function bn(e,t){return gn(e.get(),t,Object(i.s)(e,t).last_seen)}function gn(e,t,n,r){if(Object(x.f)(e.id,t))return"";if(n.platform)return Object(q.d)("mail_header_online_status")+(n.mobile?vn(t,!1,!1,!0):"");if(!n.can_see){var o=Object(A.c)(e,t),a=o||e.tabs[t];return function(e,t){var n;switch(e){case"recently":n=getLang("global_online_was_recently","raw");break;case"last_week":n=getLang("global_online_was_week","raw");break;case"last_month":n=getLang("global_online_this_month","raw");break;case"long_ago":n=getLang("global_online_long_ago","raw");break;default:return""}return langSex(t,n)}(n.status,a.sex)}if(!n.time||Date.now()-1e3*n.time>7776e6)return"";var i=getDateText(n.time,e.timeshift),s=langSex(Object(A.c)(e,t).sex,Object(q.d)("mail_last_activity_tip","raw")).replace("{user}","").replace("{time}",i);return n.mobile&&(s+=vn(t,!1,!1,r)),s}function vn(e,t,n,r){var o={mid:e};n||(o.was=1),t?o.forcetoup=!0:o.forcetodown=!0,o=Object.assign(o,r);var a=JSON.stringify(o).slice(1,-1).replace(/"/g,"&quot;");return Object(R.n)("im_wrap_mobile",{class:"im_status_mob_onl",params:a})}function yn(e,t){var n=t.get().tabs[e];return Object(f.b)("al_settings.php",{act:"blacklist_box",q:n.href},{stat:[jsc("web/settings.js"),"settings.css"],dark:1})}function On(e,t){return Object(f.b)("groupsedit.php",{act:"bl_edit",name:"/id"+e,gid:t.get().gid},{stat:["page.css","ui_controls.js","ui_controls.css"],dark:1})}function wn(e){return e.get().gid?"/gim"+e.get().gid:"/im"}function En(e,t,n,r){var o;Hn(showTabbedBox("al_im.php",{act:"a_important",offset:"0"},{onDone:(r,a)=>{a&&(o=n(r,e,t,a))},params:{width:638,onHide:()=>{AudioMessagePlayer.loaded&&AudioMessagePlayer.detachPlayer(!0)},onDestroy:()=>{o&&o.unmount()}}},r),e)}function jn(){var e=document.activeElement;return null!==e&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.getAttribute("contenteditable"))}function Dn(e,t,n){var r=geByClass1("_im_mess_"+e,n);return r&&toggleClass(r,"im-mess_fav",t),n}function Pn(e,t,n){var r=geByClass1("_im_unread_bar_row",t);if(!r)return t;var o,a=domClosestSibling(r,"._im_mess_stack",-1),s=domClosestSibling(r,"._im_mess_stack"),c=a?geByClass("_im_mess",a).pop():null,u=s?geByClass1("_im_mess",s):null;if(re(r),(o=geByClass1("_im_invisible_bar",t))&&(removeClass(o,"_im_invisible_bar"),removeClass(o,"im-page--history-new-bar_hide")),!u||!c)return t;var l=domData(u,"msgid"),_=Object(i.p)(e,n,l),d=Object(i.m)(e,n,l);if(!_||lt(e.tabs[n],_,d,e))return t;var p=geByClass1("_im_stack_messages",a),f=geByClass1("_im_stack_messages",s).children;return Object(I.q)(f).forEach(e=>{re(e),p.appendChild(e)}),re(s),t}function kn(e,t,n){var r=Object(i.h)(e,e.get().peer);if(!r)return[!1,0];var o=geByClass1("_im_mess_"+r,t);if(!o){var a=Object(i.k)(e,e.get().peer,r);if(!a)return[!0,0];o=geByClass1("_im_mess_"+a.messageId,t)}var s=hasClass(o,"_im_mess_srv")?o:Object(H.Y)("_im_mess_stack",o);if(!s)return[!0,0];var c=o?o.offsetTop:0,u=s.offsetTop+c,l=n.contHeight();return u<=n.scrollTop()+n.getScrollHeight()?[!0,0]:[!1,Math.max(0,l-u)]}function Cn(e,t,n){cancelEvent(t);var r=Object(H.Y)("_im_top_notice",n);fadeOut(r,200,re.pbind(r));var o=Object(H.Y)("_im_page_dialogs",r);o&&hasClass(o,"im-page--dialogs-notice")&&removeClass(o,"im-page--dialogs-notice"),ajax.post("al_im.php",{act:"a_hide_top_notice",type:r.getAttribute("data-type"),hash:r.getAttribute("data-hash")})}function Tn(e,t,n){cancelEvent(t);var r=Object(H.Y)("_im_aside_notice",n);slideUp(r,200,re.pbind(r)),ajax.post("al_im.php",{act:"a_hide_top_notice",type:r.getAttribute("data-type"),hash:r.getAttribute("data-hash")})}function xn(e,t){cancelEvent(e);var n=Object(H.Y)("_im_aside_promo_block",t);slideUp(n,200,re.pbind(n)),ajax.post("al_im.php",{act:"a_hide_promo_block",type:n.getAttribute("data-type"),hash:n.getAttribute("data-hash")})}function In(e,t){Object(H.Y)("_im_aside_promo_block",t).classList.add("--action-called"),ajax.post("al_im.php",{act:"a_vkadmin_app_install",hash:domData(t,"hash"),platform:domData(t,"platform")})}function An(e){var t=e.filter(e=>"reply"!==e.type);return t.length>1?function(e){return[...e].sort((e,t)=>"mail"!==e.type?"mail"===t.type?-1:1:0)}(t):t}function Mn(e,t,n,r,o){var a=function(e,t){var n=e.replace(/\<br\s*\/?\>(\n)?/gi," ").replace(/[\n\r]/gi," ");return n=Object(c.f)(n,(e,t,n,r,o)=>o),t&&(n=Emoji.emojiToHTML(n,!0)),n}(n,r);if(t&&"..."!==t.trim()&&!Object(l.c)(e)&&(a=Object(R.n)("im_topic",{topic:t,cls:"im-topic_dialog"})+a),a)return a;var i=An(o),s=$(i,1)[0];return s?Object(R.n)("im_dialog_media",{name:Sn(s,i)}):""}function Sn(e,t){var n={photo:Object(q.d)("mail_added_photos","raw"),video:Object(q.d)("mail_added_videos","raw"),audio:Object(q.d)("mail_added_audios","raw")};switch(e.type){case"mail":var r=e.object?e.object.fwd_count:e.id.split(";").length;return langNumeric(r,Object(q.d)("mail_fwd_msgs","raw"),!0);case"photo":case"video":case"audio":var o=t.filter(t=>t.type===e.type).length;return langNumeric(o,n[e.type],!0);case"audio_playlist":return"audio_album"===e.kind?Object(q.d)("mail_added_audio_album"):Object(q.d)("mail_added_audio_playlist");case"artist":return Object(q.d)("mail_added_artist");case"doc":switch(e.kind){case"graffiti":return Object(q.d)("mail_added_graffiti");case"audiomsg":return Object(q.d)("mail_added_audiomsg");default:return Object(q.d)("mail_added_docs")}case"geo":case"map":return Object(q.d)("mail_added_geo");case"wall":return Object(q.d)("mail_added_wall");case"wall_reply":return Object(q.d)("mail_added_wall_reply");case"gift":return Object(q.d)("mail_added_gift");case"link":case"share":return Object(q.d)("mail_added_link");case"sticker":return Object(q.d)("mail_added_sticker");case"market":return Object(q.d)("mail_added_market_item");case"money_transfer":return Object(q.d)("mail_added_money_transfer");case"money_request":return Object(q.d)("mail_added_money_request");case"story":return Object(q.d)("mail_added_story");case"mask":return Object(q.d)("mail_added_mask");case"article":return Object(q.d)("mail_added_article");case"call":case"group_call_in_progress":return Object(q.d)("mail_added_call");case"poll":return Object(q.d)("mail_added_poll");case"podcast":return Object(q.d)("mail_added_podcast");default:return Object(q.d)("mail_added_"+e.type)}}function Ln(e){addClass(e,"im-send-btn_loading")}function Bn(e){removeClass(e,"im-send-btn_loading")}function Rn(e){var t=e.get(),n=Object(i.o)(e);if(!n||!Object(M.a)(e,Object(k.i)(e)))return"";var r=Object(A.c)(e,n.userId);if(!r)return"";var o=function(e,t){var n="";if(t&&Object(s.q)(t)&&void 0!==t.kludges.attach1_tr_amount){var r="%s "+t.kludges.attach1_currency;if("RUB"===t.kludges.attach1_currency&&(r=Object(q.d)("mail_money_amount_rub","raw")),t.kludges.attach1_total_amount){var o=langNumeric(t.kludges.attach1_tr_amount/1e3,"%s",!0),a=langNumeric(t.kludges.attach1_total_amount/1e3,r,!0);n=Object(q.d)("mail_money_request_collected_amount_from").replace("{amount}",o).replace("{total_amount}",a)}else{var i=langNumeric(t.kludges.attach1_tr_amount/1e3,r,!0);n=Object(q.d)("mail_money_request_collected_amount").replace("{amount}",i)}if(intval(t.kludges.attach1_held_amount)){var c=langNumeric(t.kludges.attach1_held_amount/1e3,r,!0);n+=" "+Object(q.d)("mail_money_request_held_amount").replace("{amount}",c)}t.text&&(n+='<span class="divider"></span>'+_t(e,t.text,t.kludges)),t.kludges.attach1_total_amount&&(n+=Object(R.n)("im_pinned_message_media_bar",{percent:Math.min(100,Math.floor(t.kludges.attach1_tr_amount/t.kludges.attach1_total_amount*100))}))}return n}(e,n);if(!o)if(!(o=n.text)&&n.attaches.length){var a=An(n.attaches);o=Object(R.n)("im_pinned_message_media",{text:Sn(a[0],a)})}else o=_t(e,o,n&&n.kludges||{})||"";return o=o.replace(/<br\s?\/?>/gi," "),Object(R.n)("im_pinned_message",{date:getSmDate(n.date,t.timeshift),content:o,link:r.link,name:r.name})}function Nn(e,t,n){var r=n.getAttribute("data-info");r&&Object(p.c)(n,{text:r,className:"_im_history_tooltip",appendParentCls:"_im_mess_stack",black:1,hidedt:1e3,shift:[0,4]})}function Un(e,t,n){var r=+n.getAttribute("data-time");r&&Object(p.c)(n,{text:Object(q.d)("mail_message_edited")+" "+getSmDate(r,e.get().timeshift),className:"_im_history_tooltip",appendParentCls:"_im_mess_stack",black:1,shift:[0,4]})}function Fn(e,t,n){var r=n.target,o=r.closest("."+te),a=o.querySelector("._im_mess");if(a){var i,s=Number(a.getAttribute("data-msgid")),c=U.g.getExpireTime(s),u="_im_bomb_tooltip_"+Math.round(1e4*Math.random()).toString(16);if(window.tooltips){var l=t.querySelectorAll(".im-mess-stack--bomb");Array.from(l).forEach(e=>{e!==r&&tooltips.hide(e,{fasthide:!0})})}var _=Wn(e);Object(p.c)(r,{text:f(formatTime(c)),className:"_im_history_tooltip "+u,appendParentCls:te,black:1,shift:[12,4],onShowStart:d,onShowEnd(){i=setTimeout(d,500)},onHide(){clearTimeout(i)},force:!0,toup:r.getBoundingClientRect().top>_+37,hasover:!0}),setTimeout(d,500)}function d(){var e=o.querySelector(`.${u} .tt_text`);e&&(e.innerHTML=f(formatTime(U.g.getExpireTime(s)))),i=setTimeout(d,500)}function f(e){return`<div class="wrapped">${e}</div>`}}function Wn(e){var t=Object(k.i)(e),n=Object(i.s)(e,t),r=Object(M.a)(e,Object(k.i)(e))||n&&n.top_banner,o=Object(F.a)(),a=n&&Object(i.Y)(n)&&!Object(i.bb)(n);return 105+(r?a?72:Kn(e):0)+o}function Kn(e){var t=Object(i.o)(e);return t&&Object(s.q)(t)?62:52}function Hn(e,t){e.bodyNode.addEventListener("mouseover",e=>{hasClass(e.target,"_im_edit_time")?Un(t,0,e.target):hasClass(e.target,"_im_page_info")&&Nn(0,0,e.target)})}function qn(e,t,n,r,o){var a,i=e.get();Hn(showTabbedBox("al_im.php",{act:"a_get_pinned_message_box",chat:n,gid:e.get().gid,hash:i.tabs[n].hash},{onDone:(n,o)=>{o&&(a=r(n,e,t,o))},params:{width:638,onHide:()=>{AudioMessagePlayer.loaded&&AudioMessagePlayer.detachPlayer(!0)},onDestroy:()=>{a&&a.unmount()}}},o),e)}function Vn(e,t,n){var r=e.get();Hn(showTabbedBox("al_im.php",{act:"a_get_replied_message_box",chat:r.peer,msgid:t,gid:r.gid,hash:r.tabs[r.peer].hash},{onDone:(e,t)=>{},params:{width:638,onHide:()=>{AudioMessagePlayer.loaded&&AudioMessagePlayer.detachPlayer(!0)},onDestroy:()=>{}}},n),e)}function zn(e,t){return!(!Object(l.c)(e.peerId)||!e.memberIds)&&e.memberIds.indexOf(t)>=0}function Gn(e){return!Object(l.c)(e.peerId)||e.data.kicked?0:e.membersCount}function $n(e,t){var n=[],r=t.find(e=>"mail"===e[0]),o=r?r[1].split(";"):[];for(o.length>100&&(r[1]=o.slice(0,100).join(";"));e.length>4096;){var a=e.substr(0,4096).lastIndexOf(" ");-1==a&&(a=4096),n.push({msgText:trim(e.substr(0,a))}),e=trim(e.substr(a))}for(e.length&&n.push({msgText:e,attaches:t}),n.length||n.push({attaches:t}),o=o.slice(100);o.length;o=o.slice(100))n.push({attaches:[["mail",o.slice(0,100).join(";")]]});return n}function Jn(e){return e.length>4096}function Yn(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=Object.assign(Xn(t,r),{act:"a_chat_preview"}),i=!1;Object(f.b)("al_im.php",a,{stat:["boxes.css"],params:{dark:1,hideButtons:!0,onHide(){e.set(n),i&&i.unmount()}},onFail:e=>(setTimeout(()=>Object(f.d)(Object(q.d)("global_error"),e),0),!0),onDone(t){i=D(t.bodyNode,e,o)}},{})}function Xn(e,t){return t?{chat_id:e.invite_chat_id,hash:e.invite_hash,link:e.invite_link}:e}function Qn(){Object(f.d)(Object(q.d)("global_error"),Object(q.d)("mail_message_wait_until_uploaded"))}function Zn(e,t){var n=Object(i.s)(e,t.peerId)||{},r=e.get(),o=Object(l.c)(t.peerId)&&Object(B.F)(n,r.id),a=Object(l.c)(t.peerId)&&Object(B.F)(n,t.userId);if(!t)return!1;if(!Object(s.r)(t)&&(!o||a))return!1;if(333==t.peerId)return!1;if(Date.now()/1e3-t.date>86400)return!1;if(Me(e,t.peerId,t.messageId))return!1;if(Object(l.c)(t.peerId)){if(!Object(i.A)(n))return!1}else if(n.block_error>0)return!1;return!0}function er(e,t){return t.map(t=>Object(A.c)(e,t))}function tr(e,t){if("number"!=typeof e||0===e)return"";var n,r=[[31536e3,t?Object(q.d)("global_years_accusative","raw"):Object(q.d)("global_age_years","raw")],[2592e3,t?Object(q.d)("global_months_accusative","raw"):Object(q.d)("global_age_months","raw")],[604800,t?Object(q.d)("global_weeks_accusative","raw"):Object(q.d)("global_age_weeks","raw")],[86400,t?Object(q.d)("global_days_accusative","raw"):Object(q.d)("global_age_days","raw")],[3600,t?Object(q.d)("global_hours_accusative","raw"):Object(q.d)("global_hours","raw")],[60,t?Object(q.d)("global_minutes_accusative","raw"):Object(q.d)("global_minutes","raw")],[1,t?Object(q.d)("global_seconds_accusative","raw"):Object(q.d)("global_age_seconds","raw")]],o=e,a=[];if(r.forEach(e=>{var t=$(e,2),n=t[0],r=t[1],i=Math.floor(o/n);o%=n,i>=1&&a.push(langNumeric(i,r))}),1===(n=a.length))return a.pop();var i=a.slice(0,n-1).join(", "),s=a.pop();return Object(q.d)("global_and").replace(/{before}/gi,i).replace(/{after}/gi,s)}function nr(e,t,n,r){r&&!Me(e,n,r)&&(Object(i.m)(e,n,r)?(e.setState({msgid:r}),Object(a.b)({msgid:r}),t()):e.get().longpoll.push([Object(y.a)(n,r)]))}function rr(e){var t=geByClass1("im-mess_is_editing");if(!t)return null;var n=e.get().tabs[e.get().peer],r=Object(i.W)(n.msgs[domData(t,"msgid")]);return r&&r.peerId==e.get().peer?r:null}function or(e,t){if(Object(i.B)(e)){var n=document.getElementById("ui_rmenu_mr");n&&(Object(i.d)(e)?n.classList.remove("unshown"):n.classList.add("unshown"))}else t(e)}function ar(e){var t=Object(I.s)(e),n=Number(t.dialog_tab_cts[o.k]),r=n>0?n:"",a=document.querySelector('._im_right_menu_counter[data-tab="mr"]');a&&(a.innerHTML=r)}function ir(){for(var e=curBox();e;)e.hide(),e=curBox()}function sr(e,t){return Object(q.d)("mail_invitation_sended_ago").replace("{when}",getDateText(e,t))}function cr(e,t){var n=Object(k.i)(e),r=Object(i.m)(e,n,t);return Object(B.A)(e,n)&&!Object(s.i)(r)}function ur(e,t){var n=Object(k.i)(e);return!t.find(t=>{var r=Object(i.m)(e,n,t);return Object(s.i)(r)})}function lr(e,t){var n=Object(k.i)(e);return!t.find(t=>{var r=Object(i.m)(e,n,t);return Object(s.i)(r)})}function _r(e,t){var n=U.g.isProcessed(e.messageId),r=U.g.has(e.messageId),o=U.g.getExpireTime(e.messageId)>U.f;(!r&&!n||r&&o)&&t(e),r&&o&&U.g.remove(e.messageId)}function dr(e){return e===vk.id}function pr(e,t){return Object(l.j)(t)&&!dr(t)&&!Object(i.E)(e)&&!Object(l.e)(t)}function fr(e,t){var n=e.get(),r=Object(i.E)(e);return Object(l.j)(t)&&!dr(t)&&!r&&!inArray(t,n.moneyTransferExcept)&&!Object(l.e)(t)||Object(i.F)(t)&&n.moneyTransferCommAvail&&Object(V.b)(e).moneyTransferAvail&&!r||r&&n.moneyRequestAvail&&!Object(l.c)(t)||Object(l.c)(t)&&Object(V.b)(e).moneyRequestAvail&&!Object(i.x)(e,t)}function hr(e,t,n){var r=geByClass1("_im_mess_"+n.messageId,t),o=r&&r.closest("._im_mess_stack");if(!r||!o)return t;var a,i,s,c=Array.from(o.querySelectorAll("._im_mess")),u=$((i=(a=o).previousElementSibling,s=a.nextElementSibling,[i&&1===i.nodeType?i:null,s&&1===s.nodeType?s:null]),2),l=u[0],_=u[1],d=l&&l.classList.contains("im-expired-message"),p=_&&_.classList.contains("im-expired-message"),f=d&&0===c.findIndex(e=>+e.getAttribute("data-msgid")===n.messageId),h=p&&c.findIndex(e=>+e.getAttribute("data-msgid")===n.messageId)===c.length-1,m=mr((f?+l.getAttribute("data-count"):0)+(h?+_.getAttribute("data-count"):0)+1,"_im_expired_message_"+n.messageId),b=se(m);if(f&&(b.classList.add(...l.classList),l.remove()),h&&(b.classList.add(..._.classList),_.remove()),1===c.length)o.replaceWith(b);else{var g=$(c.reduce((e,t)=>{var r=+t.getAttribute("data-msgid");return r<n.messageId&&e[0].push(t),r>n.messageId&&e[1].push(t),e},[[],[]]),2),v=g[0],y=g[1];o.replaceWith(se(br(e,v))||"",b,se(br(e,y))||"")}return t}function mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(R.n)("sImExpiredMessagePlaceholder",{text:langNumeric(e,Object(q.d)("mail_messages_expired","raw")).replace("{count}",e),count:e,id_classes:Object(_.a)(t)})}function br(e,t){if(0===t.length)return"";var n=+t[0].getAttribute("data-peer"),r=+t[0].getAttribute("data-msgid"),o=Object(i.m)(e,n,r);return Object(R.n)("im_mess_stack",Object.assign(gr(e,o),{messages:t.reduce((e,t)=>e+t.outerHTML,"")}))}function gr(e,t){var n=Object(I.s)(e),r=t.peerId,o=t.messageId,a=Object(i.s)(e,r),c=Object(s.d)(t),u=Object(s.a)(e,t),d=Object(A.c)(n,u?-n.gid:c)||a,p=Object(l.c)(r)?d.name:d.first_name,f=d.link||a.href,h=Object(l.c)(r)&&d.image_status?d.image_status:"",m=Object(R.n)("im_mess_stack_name",{name:p+h,link:f,class:Object(s.p)(t)?" im-mess-stack--lnk-money-transfer":""});if(Object(s.k)(t)&&(m+=Object(R.n)("sImGiftLabel",{content:langSex(d.sex||0,Object(q.d)("mail_gift_message_sent","raw"))})),Object(s.p)(t)){var b=Object(s.q)(t)?Object(q.d)("mail_money_request_message_sent","raw"):Object(q.d)("mail_money_tranfer_message_sent","raw");m+=Object(R.n)("sImMoneyTransferLabel",{content:langSex(d.sex||0,b)})}var g=function(e,t){var n=Object(I.s)(e),r=t.peerId,o=t.messageId,a=Object(l.c)(r)&&Object(i.x)(n,r),c=Object(s.a)(e,t),u=Object(i.E)(e)?"/gim"+n.gid:"/im",d=a?"":Object(R.n)("im_stack_date",{date:(p=t.date,f=n.timeshift,langDate(1e3*p,"{hour}:{minute} {am_pm}",1e3*f,[],!0)),link:`${u}?sel=${r}&msgid=${o}`});var p,f;if(c&&n.admins[c]){var h=n.admins[c],m=c===vk.id?Object(q.d)("mail_by_you"):h[0];d+=" "+Object(R.n)("im_admin_link",{name:m,href:h[1]})}return d+function(e,t){if(!Object(s.i)(t))return"";var n=$(U.g.getTimings(t.messageId),3),r=n[0],o=n[1],a=n[2],c=Math.max(r+o-a,0);return Object(R.n)("sImBomb",{classnames:Object(_.a)({"im-mess-stack--bomb_hidden":Object(i.x)(e,t.peerId),"im-mess-stack--bomb_expiring":c<=U.e,"im-mess-stack--bomb_expiring-soon":c<=U.d})})}(n,t)}(e,t);return{photo:d.photo,href:f,cls:"",date_attr:"",link:`/im?sel=${r}&msgid=${o}`,name:stripHTML(m),stack_name:m,peerId:c,messageMeta:g,admin:u}}function vr(e,t){var n=`._im_replied_message[data-msgid="${t.messageId}"] .im-replied--text`;Array.from(e.querySelectorAll(n)).forEach(e=>{e.innerHTML=Object(R.n)("im_dialog_media",{name:Object(q.d)("mail_expired_message")})})}function yr(e){return Object(l.c)(e.peerId)&&e.membersCount?langNumeric(e.membersCount,Object(q.d)("mail_im_n_chat_members","raw")):""}var Or=P.f.CONVO_SNIPPET,wr=P.f.CONVO_HEADER,Er=P.f.CONVO_LIST,jr=P.f.CONVO_JOIN_SNIPPET,Dr=P.f.CONVO_JOIN_HEADER,Pr=P.f.CONVO_JOIN_BANNER;function kr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(window.Calls&&window.Calls.call){if(a)return void window.Calls.showStartCallModal(t);if(s)return void window.Calls.showCallByNamePopup(t,o);if(!t)return void window.Calls.startCall(n,o);var c=Object(l.c)(t);if(c){var u=Object(i.s)(e,t),_=G({},u,{canAddMembers:Object(B.x)(e,t,void 0)});window.Calls.startGroupCall(t,[_],r,n,o)}else{var d=Object(A.c)(e,t),p=G({},d,{canAddMembers:!0});window.Calls.call(t,n,[p,[d]],o)}}}function Cr(e){var t=decodeURIComponent(e.target.getAttribute("href"));if(t&&window.Calls&&window.Calls.showJoinPopup)return cancelEvent(e),window.Calls.showJoinPopup(t,P.f.LINK_JOIN_SNIPPET)}function Tr(e,t){var n=Object(i.s)(e,t);return!Object(i.E)(e)&&!!n.can_start_call}function xr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;if(window.Calls&&window.Calls.call){var a=Object(i.s)(e,t);if(!Object(i.A)(a))return;var s=window.Calls.store.getState();s.config.nativeApp?window.Calls.showStartCallModal(null,n):window.Calls.joinCallByLink(n,[a],r,o)}}function Ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t?"&msgid="+t:"";return`/im?sel=${dt(e)}${n}`}function Ar(e,t){Object(f.b)("al_im.php",{act:"group_calls_onboarding_box"},{params:{hideButtons:!0,hideOnBGClick:!1,width:655,onHide:()=>{"group_calls"===nav.objLoc.promo&&(delete nav.objLoc.promo,nav.setLoc(nav.objLoc)),ls.remove("group_calls_tooltip_shown"),ajax.post("al_index.php",{act:"hide_feature_tt",hash:t,type:"group_calls"})}},containerClass:"GroupCallsOnboarding",onDone:t=>{var n=geByClass1("GroupCallsOnboarding__call-button",t.bodyNode),r=geByClass1("GroupCallsOnboarding__skipButton",t.bodyNode),o=geByClass1("GroupCallsOnboarding__closeButton",t.bodyNode),a=ge("box_layer",t.bodyNode),s=function(){t.hide();var n=new ElementTooltip(geByClass1("_im_create_call"),{content:Object(q.d)("mail_group_calls_im_search_tt"),forceSide:"bottom",cls:"feature_intro_tt feature_intro_blue_tt",autoShow:!1,appendTo:geByClass1("_im_dialogs_search"),width:250,offset:Object(i.B)(e)?[10,25]:[13,12],rightShift:30,onHide:function(){Object(h.i)(n._ttel,"click")}});n.show(),Object(h.b)(n._ttel,"click",()=>n.hide()),cur.destroy.push(()=>{Object(h.i)(n._ttel,"click"),n.destroy()})};Object(h.b)(n,"click",()=>{t.hide(),kr(e,null,!1,null,Er)}),Object(h.b)(r,"click",s),Object(h.b)(o,"click",s);var c=e=>{e.target===a&&(Object(h.i)(a,"click",c),s())};Object(h.b)(a,"click",c),cur.destroy.push(()=>{Object(h.i)(r,"click"),Object(h.i)(o,"click"),Object(h.i)(n,"click"),Object(h.i)(a,"click",c),t.hide(),t.destroy()})}})}function Mr(e,t){cur.groupCallsTooltip||"im"!==cur.module||!isVisible("im_dialogs_search")||cur.introTooltipShow||setTimeout((function(){var n=()=>{cur.groupCallsTooltip&&cur.groupCallsTooltip.destroy(),ajax.post("al_index.php",{act:"hide_feature_tt",hash:t,type:"group_calls_new_year"})};cur.groupCallsTooltip=new ElementTooltip(geByClass1("_im_create_call"),{content:Object(q.d)("mail_group_calls_im_search_new_year_tt"),forceSide:"bottom",cls:"feature_intro_tt feature_intro_blue_tt",autoShow:!1,appendTo:geByClass1("_im_dialogs_search"),width:200,offset:Object(i.B)(e)?[10,25]:[13,12],rightShift:30,onHide:function(){cur.groupCallsTooltip&&(Object(h.i)(cur.groupCallsTooltip._ttel,"click",n),cur.groupCallsTooltip.destroy()),ajax.post("al_index.php",{act:"hide_feature_tt",hash:t,type:"group_calls_new_year"})}}),cur.groupCallsTooltip.show(),Object(h.b)(cur.groupCallsTooltip._ttel,"click",n),cur.destroy.push((function(){cur.groupCallsTooltip&&(Object(h.i)(cur.groupCallsTooltip._ttel,"click",n),cur.groupCallsTooltip.destroy())}))}),1e3)}function Sr(e,t){var n=20,r=document.querySelector("._im_aside_notice");return r&&(n+=r.offsetHeight),Object(i.E)(e)?n+=268:(n+=120,e.get().hasContacts&&(n+=32),Object(i.d)(e)&&(n+=32)),Math.floor((t-n)/32)}function Lr(e,t,n,r){var o=r?()=>r.removeDialog(e,t):null,a=()=>Object(i.B)(e)&&n().updateMenu(e);return(Object(i.s)(e,t)?Promise.resolve():e.set(e=>Object(g.ub)(t,0,0,0,e))).then(()=>{var n=Object(i.s)(e,t);return Object(i.Z)(n)?Yn(e,{receiver_peer_id:t},g.fb,!1,{updateList:o,updateMenu:a}):e.get().longpoll.push([Object(y.a)(t,!1,!1,!1,"")])})}function Br(e,t){var n=e.closest("."+ne)?"BotCarousel__slideButton--isLoading":"MessageKeyboard__button--isLoading";e.disabled=t,e.classList.toggle(n,t)}function Rr(e,t,n){var r=e.querySelector("._im_mess_"+t);return r?r.querySelector(`.${ee}[data-index="${n}"]`):null}},PEW9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"b",(function(){return u}));var r,o,a=n("W9Tc"),i="al_im.php",s="/images/icons/im_favorites_100.png";!function(e){e.ALL="all",e.IMPORTANT="important",e.MR="mr",e.UNREAD="unread",e.UNRESPOND="unrespond",e.AD_TAG="ad_tag"}(o||(o={}));o.AD_TAG;var c,u,l=o.ALL,_=o.IMPORTANT,d="marked_unread",p=o.MR,f="mr_rejected",h=o.UNREAD,m=o.UNRESPOND,b="custom_tag",g="mr_not_important",v=((r={})[o.UNRESPOND]=2,r[o.IMPORTANT]=1,r[o.MR]=256,r[f]=512,r[o.AD_TAG]=32768,r[d]=1<<20,r);Object(a.b)("test_folder_masks")&&(v[g]=1<<22),function(e){e.USER="user",e.COMMUNITY="community",e.CHAT="chat",e.CHANNEL="channel",e.MR="mr",e.CHAT_MR="chat_mr",e.EMAIL="email",e.CONTACT="contact"}(c||(c={})),function(e){e.SETTINGS="settings",e.BLOCK="block",e.CHAT_INVITE="chat_invite",e.USER_INVITE="user_invite",e.CREATE_CHAT="create_chat",e.MEDIA="media",e.SEARCH="search",e.PIN_HIDE="pin_hide",e.PIN_UNHIDE="pin_unhide",e.UNPIN="unpin",e.MUTE="mute",e.UNMUTE="unmute",e.CLEAR="clear",e.LEAVE="leave",e.RETURN="return",e.BLOCK_COMMUNITY="block_community",e.ALLOW_COMMUNITY="allow_community",e.BLOCK_NOTIFY="block_notify",e.CALL_AUDIO="call_audio",e.CALL_VIDEO="call_video",e.CALL_APP="call_app",e.UNREAD="unread",e.PIN_CONVO="pin_convo",e.UNPIN_CONVO="unpin_convo",e.CALL_BY_NAME="call_by_name"}(u||(u={}))},Q9Lc:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("zxIV"),o=n("kcIO"),a=n("v+DW"),i=n("EasH"),s=n("aong"),c=n("HwS1");class u{static instantSkipAppOrder(e,t){var n=gpeByClass("payments_instant_progress_wrap",e),r={act:"a_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,votes:cur.paymentsPreferVotes,test_mode:cur.paymentsOrderTestMode,_skip_instant:t||1,hash:cur.paymentsOrderHash};void 0!==cur.checkedMaxVotes&&(r.checked_max_votes=cur.checkedMaxVotes),ajax.post("al_apps.php",r,{forceDone:1,onDone:()=>{cur.paymentsCheckOrderCnt=1,Object(o.b)().hide(),cur.paymentsCheckOrderCnt=0,cur.fromInstantPay=!0},showProgress:addClass.pbind(n,"loading"),hideProgress:removeClass.pbind(n,"loading")})}static processOrder(e,t){t||(t=Object(o.b)());var n=Object(r.fb)("payments_box")?2:0,l=!1;e||(e=n),n&&(l=t.btns.ok[0],Object(a.o)(l));var _={act:"a_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,votes:cur.paymentsPreferVotes,from:nav.objLoc[0],test_mode:cur.paymentsOrderTestMode,_votes_ok:e,hash:cur.paymentsOrderHash};1==e&&cur.paymentsOrderBillPeriod&&(_.payment_type=cur.votesType),!cur.paymentsOrderBillPeriod&&ge("payments_order_auto_confirm")&&(_.auto_confirm=Object(a.l)("payments_order_auto_confirm")),cur.salesRef&&(_.sales_ref=cur.salesRef),ajax.post("al_apps.php",_,{forceDone:3==+e?1:0,onDone:(r,_,d,p)=>{if(p&&-1e3!==p&&(cur.votesBoxOptions=p),3==e&&-1e3==d)return c.a.processBoxOptions(Object(o.b)(),p),cur.paymentsCheckOrderCnt=1,t.hide(),void(cur.paymentsCheckOrderCnt=0);if(0===d||d>0)return cur.paymentsPreferVotes=1,n?cur.paymentsShowBoxError(_):(t.hide(),Object(i.d)(getLang("global_error"),_)),void(cur.paymentsOrderBillPeriod&&cur.onSubscriptionFail?cur.onSubscriptionFail(d):cur.onAppOrderFail&&cur.onAppOrderFail(d));if(r.result){var f=Object(o.b)();return cur.isPaymentsAppOrder=!1,f&&f.hide(),Object(o.f)(_),r.balance&&Object(s.t)(r.balance),void(cur.onSubscriptionDone&&r.subscriptionStatus&&(cur.onSubscriptionDone(r.subscriptionStatus),cur.onSubscriptionDone=!1))}var h=r.orderId;if(h){_&&(t=Object(i.d)("",_)).setOptions({title:!1,width:520,bodyStyle:"padding: 0;",hideButtons:!0}),l&&Object(a.w)(l),cur.isPaymentsAppOrder=!1,cur.paymentsOrderId=h,r.subscriptionId&&(cur.paymentsSubscriptionId=r.subscriptionId),cur.paymentsOrderCheckHash=r.checkHash;var m=getLang("payments_waiting_app_order_complete");ge("payments_box_progress_msg_wrap")?(val("payments_box_progress_msg_wrap",`<span id="payments_box_progress_msg">${m}</span>`),cur.paymentsShowProgress()):val("apps_paymentbox_progress_msg_wrap",m),cur.paymentsCheckOrderCnt=0,cur.paymentsCheckOrderInt=setInterval(u.checkOrder,2e3)}else cur.paymentGetOrderItemTO=setTimeout(u.processOrder.pbind(!1,t),1e3)},onFail:function(e){return!e||(Object(r.fb)("payments_box")?cur.paymentsShowBoxError(e):(t.hide(),Object(i.d)(getLang("global_error"),e)),!0)}})}static checkOrder(){if(15==cur.paymentsCheckOrderCnt)ge("payments_box_progress_msg").innerHTML=getLang("payments_waiting_payment_complete_still");else if(cur.paymentsCheckOrderCnt>30)return clearInterval(cur.paymentsCheckOrderInt),Object(o.b)().hide(),void Object(i.d)(getLang("payments_app_order_box_title"),getLang("payments_app_add_votes_delay"),getLang("global_close"),()=>{cur.paymentsOrderBillPeriod&&cur.onSubscriptionCancel?cur.onSubscriptionCancel():cur.onAppOrderCancel&&cur.onAppOrderCancel(),Object(o.b)().hide()});cur.paymentsCheckOrderCnt++,ajax.post("al_apps.php",{act:"a_check_order",aid:cur.paymentsOrderAppId,order_id:cur.paymentsOrderId,test_mode:cur.paymentsOrderTestMode,from:nav.objLoc[0],hash:cur.paymentsOrderCheckHash},{onDone:(e,t,n,r,a)=>{e&&(Object(o.b)()&&Object(o.b)().hide(),clearInterval(cur.paymentsCheckOrderInt),cur.paymentsCheckOrderCnt=0,window.toggleFlash(!1),Object(o.f)(t,{out:1e3,callback:()=>{window.toggleFlash(!0)}}),n&&Object(s.t)(n),1==e?(cur.paymentsOrderBillPeriod&&cur.onSubscriptionSuccess?(cur.onSubscriptionSuccess(cur.paymentsSubscriptionId),TopNotifier&&TopNotifier.invalidate()):cur.onAppOrderSuccess&&cur.onAppOrderSuccess(cur.paymentsOrderId),cur.onSubscriptionDone&&a&&(cur.onSubscriptionDone(a),cur.onSubscriptionDone=!1)):cur.paymentsOrderBillPeriod&&cur.onSubscriptionFail?cur.onSubscriptionFail(r):cur.onAppOrderFail&&cur.onAppOrderFail(r))},onFail:function(e){return clearInterval(cur.paymentsCheckOrderInt),cur.paymentsShowBoxError(e),!0}})}static initialize(e,t,n,r,o,a,i,s){extend(cur,{isPaymentsAppOrder:!0,paymentsAuthPayment:!1,paymentsOrderNotice:!1,paymentsOrderId:e,paymentsOrderAppId:t,paymentsOrderTestMode:n,paymentsOrderHash:r,paymentsPreferVotes:o,paymentsOrderDiscount:a,paymentsOrderBillPeriod:i,salesRef:s})}}},QChX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var r,o=n("YQfe"),a=window&&window.navigator&&"mediaSession"in window.navigator&&"MediaMetadata"in window;function i(){a&&((r=r||document.createElement("audio")).src=o.b,r.play().then(()=>{}).catch(()=>{}))}function s(e){if(a){(location.hostname+e.album).length>30&&(e.album=e.album.substring(0,30-location.hostname.length)+"…");var t=navigator.mediaSession.metadata;t?(t.title=e.title,t.artist=e.artist,t.album=e.album,t.artwork=e.artwork):navigator.mediaSession.metadata=new MediaMetadata(e)}}},QCnb:function(e,t,n){"use strict";e.exports=n("+wdc")},QGEU:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n("v+DW"),o=n("t7n3"),a=n("zxIV"),i=n("4+be"),s=n("gdug"),c=n("DM2o");function u(){return!(!window.vk||!vk.a11y)}function l(){clearTimeout(cur.updateOnlineTO),cur.updateOnlineTO=setTimeout((function(){Object(o.f)(Object(a.K)("_online"),(function(){var e=Object(a.L)("_online_reader",this)||this,t=Object(a.ab)(this,"online"),n=Object(a.ab)(this,"mobile"),r=Object(a.N)("img",e),s=function(e){var t=Object(a.q)("_post",e),n=t&&Object(a.m)(t,"author");return n?n.innerText||n.textContent:""};if(t){var c="";Object(o.f)(r,(function(){var e=Object(a.e)(this,"alt")||Object(a.e)(this,"data-alt")||s(this);e&&(c=Object(o.I)(c+" "+e),this.setAttribute("data-alt",e),this.removeAttribute("alt"))})),c=Object(o.I)(c+" "+(n?Object(i.d)("global_user_is_online_mobile"):Object(i.d)("global_user_is_online"))),e.setAttribute("aria-label",c)}else Object(o.f)(r,(function(){var e=Object(a.e)(this,"data-alt")||s(this);e&&(this.setAttribute("alt",e),this.removeAttribute("data-alt"))})),e.removeAttribute("aria-label")}))}),100)}function _(){clearTimeout(cur.updateChkBoxTO),cur.updateChkBoxTO=setTimeout((function(){var e=[];Object(o.f)(["checkbox","checkbox_pic"],(function(){e=e.concat(Object(a.K)(this))})),Object(o.f)(e,(function(){"DIV"!==this.tagName||this.getAttribute("role")||(this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",Object(r.l)(this)?"true":"false"),this.setAttribute("tabindex",0))}))}),100)}function d(){clearTimeout(cur.updateRadioBtnsTO),cur.updateRadioBtnsTO=setTimeout((function(){var e=[],t=Object(a.K)("radiobtn");Object(o.f)(t,(function(){if("DIV"===this.tagName&&!this.getAttribute("role")){var t=Object(r.l)(this);this.setAttribute("role","radio"),this.setAttribute("aria-checked",t?"true":"false"),this.setAttribute("tabindex",t?0:-1);var n=function(e){var t=0,n=e;for(;t<5&&n!==document;){if(n=Object(a.C)(n),Object(a.K)("radiobtn",n).length>1)break;t++}return n}(this);~e.indexOf(n)||e.push(n)}})),Object(o.f)(e,(function(){if(!Object(a.K)("on",this).length){var e=Object(a.K)("radiobtn",this);e.length&&e[0].setAttribute("tabindex",0)}}))}),100)}function p(){l(),_(),d()}function f(){var e=document.getElementById("a11y_mvk_proposal");e&&e.getAttribute("aria-label")&&!e.getAttribute("role")&&(e.setAttribute("role","link"),e.style.display="block",e.classList.add("visually-hidden"),e.addEventListener("click",e=>{var t;Object(c.a)("accessibility","is_mvk_proposal_clicked",null===(t=cur)||void 0===t?void 0:t.module),setTimeout(()=>{Object(s.e)()},100)},{passive:!0}))}},QaDb:function(e,t,n){"use strict";var r=n("Kuth"),o=n("RjD/"),a=n("fyDq"),i={};n("Mukb")(i,n("K0xU")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(i,{next:o(1,n)}),a(e,t+" Iterator")}},R5GP:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n("BJj/"),o=n("ERyv"),a=n("Xrg9"),i=n("t7n3");function s(e,t){if(!t)return a.a.get(e);a.a.set(e,t)}function c(e){return function(e){return!!e.get}(e)?e.get():e}t.a=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=Object(r.a)(s,300),c=Object(i.i)({},e),u=[],l=[];return t.store&&(c=a.a.get(t.key)||c),{get:function(){return c},set:function(e){var r=this,a=Object(o.c)()?function(e){try{var t={};return Error.captureStackTrace(t,e),t.stack}catch(e){return""}}(this.set):null;return e(c).then((function(e){return c=e,t.store&&n(t.key,e),r.emit(),r})).catch((function(e){return Object(o.a)("store_set_catch",e,{stack:a})}))},setState:function(e){var t=this;return this.set((function(n){return n=Object(i.i)(n,e),t.emit(),Promise.resolve(n)}))},stash:function(){u.push(c),c=Object(i.i)({},e),this.emit()},reset:function(){c=Object(i.i)({},e),this.emit()},unmount:function(){c={},e=!1,l=[]},pop:function(){u.length>0&&(c=u.pop(),this.emit())},emit:function(){var e=this;l.length>0&&l.forEach((function(t){return t(e)}))},subscribe:function(e){l.includes(e)||l.push(e)},unsubscribe:function(e){l=l.filter((function(t){return t!==e}))},mutate:function(e){e(c),t.store&&n(t.key,c),this.emit()}}}},RIqP:function(e,t,n){var r=n("Ijbi"),o=n("EbDI"),a=n("ZhPi"),i=n("Bnag");e.exports=function(e){return r(e)||o(e)||a(e)||i()}},RYi7:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},RbYe:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return i.a}));n("HEwt"),n("a1Th"),n("rGqo"),n("rE2o"),n("ioFf"),n("VRzm"),n("Btvt");function r(e){var t=window.getSelection();return t.removeAllRanges(),t.addRange(e),e}function o(e,t,n,o){var a=document.createRange();return a.setStart(e,t),a.setEnd(n,o),r(a)}function a(e,t){if(t=t?t+"":"",!browser.msie&&document.execCommand)document.execCommand("insertHTML",!1,t);else if(e){e.deleteContents();var n=cf(t),o=n.lastChild;e.insertNode(n),o&&((e=e.cloneRange()).setStartAfter(o),e.collapse(!0),r(e))}return e}var i=n("c8JK");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=function(e){return e&&e.clipboardData?e.clipboardData:e&&e.originalEvent&&e.originalEvent.clipboardData?e.originalEvent.clipboardData:window.clipboardData}(e);if(!t)return[];var n=t.items;if(!n)return[];for(var r=[],o=0;o<n.length;o++)0==n[o].type.indexOf("image")&&r.push(n[o].getAsFile());return r}var l=!1,_=null;function d(e){return new Promise((t,n)=>{if(l)return cancelEvent(e),n();var r=s(function(){var e=null,t=window.getSelection();t.getRangeAt&&t.rangeCount&&(e=t.getRangeAt(0));var n=null,r=null,o=0,a=0,i=document.activeElement;return e&&("selectionStart"in i?(n=i,r=i,o=i.selectionStart,a=i.selectionEnd):t.rangeCount&&(n=e.startContainer,r=e.endContainer,o=e.startOffset,a=e.endOffset)),[e,n,o,r,a]}(),5),i=r[0],c=r[1],u=r[2],d=r[3],p=r[4];if(i){if("paste"===e.type){var f=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;if(f&&f.types&&f.getData){cancelEvent(e),l=!0;var h=f.getData("text/html")||clean(f.getData("text/plain"))||"";return t([h,e=>{a(i,e),l=!1}])}for(var m=cf(),b=e.target||window.event.srcElement;b.firstChild;)m.appendChild(b.firstChild);return new Promise(e=>setTimeout(()=>{var t=b.innerHTML||"";b.innerHTML="",b.appendChild(m),e([t,e=>{a(i=o(c,u,d,p),e),l=!1}])},0))}if("beforepaste"===e.type)return l=!0,function(){if(!_){var e=ge("utils");_=ce("div",{},{width:"10px",height:"10px",overflow:"hidden"}),attr(_,"contenteditable","true"),e.appendChild(_)}}(),_.focus(),void(_.onpaste=()=>{setTimeout(()=>{var e=_.innerHTML||"";_.innerHTML="",delete _.onpaste,t([e,e=>{a(i=o(c,u,d,p),e),l=!1}])},0)})}return n()})}},RdBX:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("Vd3H"),n("OG14"),n("a1Th"),n("Btvt"),n("KKXr"),n("Oyvg");function r(e,t,n){this.list=e,this.iterCur=0,this.iterEnd=e?e.length:0,this.index={},this.callback=n||function(){},this.prepareFunc=t||function(e){return e},setTimeout(this.indexIteration.bind(this),10)}r.prototype.delimiter=r.delimiter=new RegExp("[\\s\\-\\.,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\#\\+\\?\\\\]+","g"),r.prototype.trimmer=new RegExp("^[\\s\\-\\.,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\+\\?\\\\]+|[\\s\\-,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\\\]+$","g"),r.prototype.toTranslit={1072:"a",1073:"b",1074:"v",1075:"g",1076:"d",1077:"e",1078:"zh",1079:"z",1080:"i",1081:"y",1082:"k",1083:"l",1084:"m",1085:"n",1086:"o",1087:"p",1088:"r",1089:"s",1090:"t",1091:"u",1092:"f",1093:"h",1094:"ts",1095:"ch",1096:"sh",1097:"sh",1099:"y",1101:"e",1102:"yu",1103:"ya",1105:"e",1098:"",1100:""},r.prototype.toLocalCase={f:"a",",":"b","<":"b",d:"v",u:"g",l:"d",t:"e",";":"zh",":":"zh",p:"z",b:"i",q:"y",r:"k",k:"l",v:"m",y:"n",j:"o",g:"p",h:"r",c:"s",n:"t",e:"u",a:"f","[":"h","{":"kh",w:"ts",x:"ch",i:"sh",o:"sh",s:"y","'":"e",'"':"e",".":"yu",">":"yu",z:"ya","`":"e","~":"e",m:"","]":"","}":""},r.prototype.toLocalTranslit={1072:"f",1074:"d",1075:"u",1076:"l",1077:"t",1079:"p",1080:"b",1081:"q",1082:"r",1083:"k",1084:"v",1085:"y",1086:"j",1087:"g",1088:"h",1089:"c",1090:"n",1091:"e",1092:"a",1094:"w",1095:"x",1096:"i",1097:"o",1099:"s",1103:"z",1098:"m"},r.prototype.indexIteration=function(){for(var e=Math.min(this.iterEnd,this.iterCur+200),t=this.iterCur;t<e;t++){var n=this.list[t];try{n._order=t}catch(e){}this.add(n)}this.iterCur=t,t>=this.iterEnd?this.callback(this):setTimeout(this.indexIteration.bind(this),10)},r.prototype.strToPrefixes=function(e){for(var t={},n=winToUtf(e).toLowerCase().split(this.delimiter),r=n.length;r--;){var o=n[r],a="";if(o){for(var i=0;i<6;i++){var s=o.charCodeAt(i);if(s){var c=this.toTranslit[s],u=o.substr(i,1);a+=null!=c?c:u}}t[a]=1}}return t},r.prototype.strToSearchPrefixes=function(e){for(var t=[],n=e.toLowerCase().split(this.delimiter),r=n.length;r--;){var o={},a=n[r],i="",s="",c="",u=a.length>1;if(a){for(var l=0;l<6;l++){var _=a.charCodeAt(l);if(_){var d=this.toTranslit[_],p=a.substr(l,1);if(i+=null!=d?d:p,u){var f=this.toLocalCase[p],h=this.toLocalTranslit[_];s+=null!=f?f:p,c+=null!=h?h:p}}}o[i]=1,u&&(o[s]=2,o[c]=3),t.push(o)}}return t},r.prototype.toIndexTree=function(e,t){for(var n=this.index,r=0;r<6;r++){var o=e.substr(r,1)||-1;n=n[o]?n[o]:n[o]=5==r?[]:{}}n.push(t)},r.prototype.remove=function(e){var t=this.prepareFunc(e),n=this.strToPrefixes(t);for(var r in n)if(n.hasOwnProperty(r)){for(var o=this.index,a=0;a<6;a++){var i=r.substr(a,1)||-1;if(!o[i])break;o=o[i]}if(o.length)for(var s in o)if(this.equals(o[s],e)){o.splice(s,1);break}}},r.prototype.equals=function(e,t){for(var n in e)if(e.hasOwnProperty(n))switch(typeof e[n]){case"object":if(!this.equals(e[n],t[n]))return!1;break;case"function":if(void 0===e[n]||e[n].toString()!=t[n].toString())return!1;break;default:if(e[n]!=t[n])return!1}for(var r in t)if(void 0===t[r])return!1;return!0},r.prototype.intersect=function(e,t){var n=[];if(isNumeric(e[0])||isNumeric(t[0]))return e.filter((function(e){return-1!==t.indexOf(e)}));for(;e.length>0&&t.length>0;)e[0]._order<t[0]._order?e.shift():(e[0]._order>t[0]._order||this.equals(e[0],t[0])&&n.push(e.shift()),t.shift());return n},r.prototype.add=function(e){var t=this.prepareFunc(e),n=this.strToPrefixes(t);for(var r in n)n.hasOwnProperty(r)&&this.toIndexTree(r,e)},r.prototype.search=function(e){var t=this.index,n=this.strToSearchPrefixes(e),r=[],o=!1;for(var a in n)if(n.hasOwnProperty(a)){if(o&&!r)break;var i=this.localSearch(n[a],0,t);i.sort((function(e,t){return e._order-t._order})),r=o?this.intersect(r,i):i,o=!0}for(var s=r[0],c=r.length+1,u=[],l=1;l<c;l++){var _=r[l];_!=s&&(u.push(s),s=_)}return u},r.prototype.localSearch=function(e,t,n){if(!n)return[];var r={};for(var o in e)if(e.hasOwnProperty(o)){var a=o.substr(t,1)||-1;r[a]||(r[a]={}),r[a][o]=1}if(6==t++||!n)return n;var i=[];for(var s in r)if(-1==s)for(var c in n)n.hasOwnProperty(c)&&i.push.apply(i,this.localSearch(r[s],t,n[c]));else{var u=this.localSearch(r[s],t,n[s]);i.push.apply(i,u)}return i}},"RjD/":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"S/j/":function(e,t,n){var r=n("vhPU");e.exports=function(e){return Object(r(e))}},S0WU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},o=function(){function e(){this.subscriptions={}}return e.prototype.subscribe=function(e,t){var n=this;return Array.isArray(e)&&e.forEach((function(e){return n.subscribe(e,t)})),this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(t),{unsubscribe:function(){return n.unsubscribe(e,t)}}},e.prototype.unsubscribe=function(e,t){if(this.subscriptions[e]){var n=this.subscriptions[e].indexOf(t);n>=0&&this.subscriptions[e].splice(n,1)}},e.prototype.emit=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.precheck&&!this.precheck.apply(this,r([e],n))||(this.onAnyCallBack&&setTimeout((function(){return t.onAnyCallBack.apply(t,r([e],n))})),this.subscriptions[e]&&this.subscriptions[e].forEach((function(e){return setTimeout((function(){return e.apply(void 0,n)}))})))},e}()},S2bU:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f}));var r,o=n("h++7"),a=n("t7n3"),i=n("hC3G");function s(e,t){for(var n,r=0,a=e;null!==(n=o.u.exec(e));){var i=(n=_(n))[0].length,s=n.index+i,c=e[n.index-1],u=e[s-1],l=void 0!==c&&/([\w\$А-Яа-яёЁєЄҐґЇїІіЈј\—\-\_@;.])/i.test(c),p=void 0!==u&&/([:;$])/i.test(u);if(!l&&!p){var f=d(n),h=f.domain.toLowerCase();if(h.length<=o.r&&o.A.includes(h)){var m=t(f);a=a.slice(0,n.index+r)+m+a.slice(s+r),r+=m.length-i}}}return a}function c(e,t){return e.replace(o.c,t||function(e){return'<a href="mailto:'+e+'">'+e+"</a>"})}function u(e,t){return e.replace(o.s,t||function(e,t,n,r,o){return'<a href="/'+(t+n)+'" class="mem_link" mention="'+Object(a.c)(r||"")+'" mention_id="'+Object(a.c)(t+n)+'" onclick="return mentionClick(this, event)" onmouseover="mentionOver(this)">'+o+"</a>"})}function l(e,t){return e.replace(i.b,(function(e){return t?t(e,"","",e,e):'<span class="mem_pseudolink" data-mention="'+e.slice(1).toLowerCase()+'">'+e+"</span>"}))}function _(e){if(!e[0]||!e[6])return e;var t=e[0].length-1,n=e[6].length-1;return"."===e[0][t]&&"."===e[6][n]&&(e[0]=e[0].slice(0,t),e[6]=e[6].slice(0,n)),e}function d(e){return{full:e[0],protocol:e[1]||"http://",url:e[2],domain:e[4],query:e[6]||""}}function p(e,t){return e.replace((r||(r=new RegExp(o.z,"ig")),r),(function(e,n,r,o,a){return(n||"")+t(r+(a||""))}))}function f(e,t){var n=t.url,r=t.full,i=t.protocol,s=t.query;try{r=decodeURIComponent(r)}catch(e){}if(r.length>55&&(r=r.substr(0,53)+".."),r=Object(a.c)(r).replace(/&amp;/g,"&"),!e&&n.match(o.v)){var c=n=Object(a.F)(n).replace(o.f,encodeURIComponent),u=n.indexOf("#/"),l="";u>=0?c=n.substr(u+1):(u=n.indexOf("#!"))>=0&&(c="/"+n.substr(u+2).replace(/^\//,""));var _=c.match(o.D);return _&&_[1].length<32&&(l=' mention_id="'+_[1]+'" onclick="return mentionClick(this, event)" onmouseover="mentionOver(this)"'),'<a href="'+function(e){return e.replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(i+n+s)+'" target="_blank" rel="noopener"'+l+">"+r+"</a>"}var d=Object(a.F)(n+s).toString();return'<a href="'+("away.php?utf=1&to="+encodeURIComponent(i+d))+'" target="_blank" rel="noopener" onclick="'+("return goAway('"+Object(a.c)((i+n+s).replace(/'/g,"\\'"))+"', {}, event);")+'">'+r+"</a>"}},"S6+Z":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var r=()=>/(?:\uD83C\uDFF4)(?:(?:\uDB40\uDC67)(?:\uDB40\uDC62)(?:(?:\uDB40\uDC65)(?:\uDB40\uDC6E)(?:\uDB40\uDC67)|(?:\uDB40\uDC77)(?:\uDB40\uDC6C)(?:\uDB40\uDC73)|(?:\uDB40\uDC73)(?:\uDB40\uDC63)(?:\uDB40\uDC74))(?:\uDB40\uDC7F)|\u200D\u2620\uFE0F?)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC68)(?:\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D)?(?:\uD83D\uDC68)|(?:\uD83D[\uDC68\uDC69])\u200D(?:(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\u2764\uFE0F?\u200D(?:(?:\uD83D\uDC8B)\u200D(?:\uD83D[\uDC68\uDC69])|(?:\uD83D[\uDC68\uDC69]))|(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)\u200D(?:\uD83D\uDC66)|(?:(?:\uD83D\uDC41)\uFE0F?\u200D(?:\uD83D\uDDE8)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:\uD83D\uDC68)(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F?|(?:\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]))\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|(?:\uD83D\uDC69)\u200D[\u2695\u2696\u2708])\uFE0F?|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC69)\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC68)(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF]))|(?:\uD83C\uDFF3)\uFE0F?\u200D(?:\uD83C\uDF08)|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC67)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83D\uDC69)\u200D(?:\uD83D\uDC66)|(?:\uD83C\uDDF6)(?:\uD83C\uDDE6)|(?:\uD83C\uDDFD)(?:\uD83C\uDDF0)|(?:\uD83C\uDDF4)(?:\uD83C\uDDF2)|(?:\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C\uDDED)(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|(?:\uD83C\uDDEC)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|(?:\uD83C\uDDEA)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|(?:\uD83C\uDDE8)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\uD83C\uDDF2)(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C\uDDF3)(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|(?:\uD83C\uDDFC)(?:\uD83C[\uDDEB\uDDF8])|(?:\uD83C\uDDFA)(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|(?:\uD83C\uDDF0)(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|(?:\uD83C\uDDEF)(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C\uDDF8)(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|(?:\uD83C\uDDEE)(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|(?:\uD83C\uDDFF)(?:\uD83C[\uDDE6\uDDF2\uDDFC])|(?:\uD83C\uDDEB)(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|(?:\uD83C\uDDF5)(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|(?:\uD83C\uDDE9)(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|(?:\uD83C\uDDF9)(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|(?:\uD83C\uDDE7)(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F?\u20E3|(?:\uD83C\uDDF1)(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|(?:\uD83C\uDDE6)(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:\uD83C\uDDF7)(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|(?:\uD83C\uDDFB)(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|(?:\uD83C\uDDFE)(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g,o=/\uFE0F?\uD83C[\uDFFB-\uDFFF]/,a={e29da4:/(\s|^)([0OО]:\))([\s\.,]|$)/g,f09f9887:/(\s|^)(;-\)+)([\s\.,]|$)/g,f09f9889:/(\s|^)([XХxх]-?D)([\s\.,]|$)/g,f09f9886:/(\s|^)(B-\))([\s\.,]|$)/g,f09f988e:/(\s|^)(3-\))([\s\.,]|$)/g,f09f988c:/(\s|^)(&gt;\()([\s\.,]|$)/g,f09f98a0:/(\s|^)(;[oоOО])([\s\.,]|$)/g,f09f98b0:/(\s|^)(8\|)([\s\.,]|$)/g,f09f98b3:/(\s|^)(8-?[oоOО])([\s\.,]|$)/g,f09f98b2:/(\s|^)(8-\))([\s\.,]|$)/g,f09f988d:/(\s|^)(:[XХ])([\s\.,]|$)/g,f09f98b7:/(\s|^)(:[oоOО])([\s\.,]|$)/g,f09f98a8:/(\s|^)(&lt;3)([\s\.,]|$)/g},i={f09f988a:/(:-\))([\s\.,]|$)/g,f09f9883:/(:-D)([\s\.,]|$)/g,f09f989c:/(;-[PР])([\s\.,]|$)/g,f09f988b:/(:-[pр])([\s\.,]|$)/g,f09f9892:/(:-\()([\s\.,]|$)/g,e298ba:/(:-?\])([\s\.,]|$)/g,f09f988f:/(;-\])([\s\.,]|$)/g,f09f9894:/(3-?\()([\s\.,]|$)/g,f09f98a2:/(:&#039;\()([\s\.,]|$)/g,f09f98ad:/(:_\()([\s\.,]|$)/g,f09f98a9:/(:\(\()([\s\.,]|$)/g,f09f9890:/(:\|)([\s\.,]|$)/g,f09f98a1:/(&gt;\(\()([\s\.,]|$)/g,f09f989a:/(:-\*)([\s\.,]|$)/g,f09f9888:/(\}:\))([\s\.,]|$)/g,f09f918d:/(:like:)([\s\.,]|$)/g,f09f918e:/(:dislike:)([\s\.,]|$)/g,e2989d:/(:up:)([\s\.,]|$)/g,e29c8c:/(:v:)([\s\.,]|$)/g,f09f918c:/(:ok:|:ок:)([\s\.,]|$)/g},s={e29da4:[0,"<3"],f09f988a:[1,":-)"],f09f9883:[2,":-D"],f09f9889:[3,";-)"],f09f9886:[4,"xD"],f09f989c:[5,";-P"],f09f988b:[6,":-p"],f09f988d:[7,"8-)"],f09f988e:[8,"B-)"],f09f9892:[9,":-("],f09f988f:[10,";-]"],f09f9894:[11,"3("],f09f98a2:[12,":'("],f09f98ad:[13,":_("],f09f98a9:[14,":(("],f09f98a8:[15,":o"],f09f9890:[16,":|"],f09f988c:[17,"3-)"],f09f98a0:[18,">("],f09f98a1:[19,">(("],f09f9887:[20,"O:)"],f09f98b0:[21,";o"],f09f98b3:[22,"8|"],f09f98b2:[23,"8o"],f09f98b7:[24,":X"],f09f989a:[25,":-*"],f09f9888:[26,"}:)"],f09f918d:[27,":like:"],f09f918e:[28,":dislike:"],e2989d:[29,":up:"],e29c8c:[30,":v:"],f09f918c:[31,":ok:"]}},SRfc:function(e,t,n){"use strict";var r=n("y3w9"),o=n("ne8i"),a=n("A5AN"),i=n("Xxuz");n("IU+Z")("match",1,(function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),u=String(this);if(!c.global)return i(c,u);var l=c.unicode;c.lastIndex=0;for(var _,d=[],p=0;null!==(_=i(c,u));){var f=String(_[0]);d[p]=f,""===f&&(c.lastIndex=a(u,o(c.lastIndex),l)),p++}return 0===p?null:d}]}))},SlkY:function(e,t,n){var r=n("m0Pp"),o=n("H6hf"),a=n("M6Qj"),i=n("y3w9"),s=n("ne8i"),c=n("J+6e"),u={},l={};(t=e.exports=function(e,t,n,_,d){var p,f,h,m,b=d?function(){return e}:c(e),g=r(n,_,t?2:1),v=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(a(b)){for(p=s(e.length);p>v;v++)if((m=t?g(i(f=e[v])[0],f[1]):g(e[v]))===u||m===l)return m}else for(h=b.call(e);!(f=h.next()).done;)if((m=o(h,g,f.value,t))===u||m===l)return m}).BREAK=u,t.RETURN=l},Syd7:function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return V}));var r=n("q1tI"),o=n("i8i4"),a=n("rHUl"),i=n("P13b"),s=(n("91GP"),n("17x9"),n("ZxpX")),c=n("ErRf"),u=n("nAFc"),l=n("ERyv"),_=n("4+be"),d=n("6krn"),p=n("x9XA"),f=n("1Ot2"),h=n("s0Wt"),m=n("vT4u"),b=n("EasH"),g=d.a.getLang;class v extends r.Component{constructor(){super(...arguments),this.onAdTagAlertClick=()=>{Object(b.d)(g("mail_ad_tag_no_access_box_title"),g("mail_ad_tag_no_access_box_text"))}}render(){var e=this.props.data;if(e.adId){var t=`ads?act=office&union_id=${e.adId}&utm_medium=community_messages_ad_tag&utm_source=dialog`,n="";n=e.isEasyPromotedMarket?g("mail_ad_tag_easy_promoted_market"):e.hasAdAccess?`${g("mail_ad_tag_text_prefix")} ${e.adId}`:g("mail_ad_tag_no_access_text");var o=r.createElement("span",{className:"PeerProfileTagsListItem__adTagText"},n);return r.createElement("div",{className:"PeerProfileTagsListItem PeerProfileTagsListItem--adTag"},e.hasAdAccess&&r.createElement("a",{className:"PeerProfileTagsListItem__adTagLink",href:t,target:"_blank"},o),!e.hasAdAccess&&r.createElement("button",{className:"PeerProfileTagsListItem__adTagAlert",onClick:this.onAdTagAlertClick},o))}return r.createElement("div",{className:"PeerProfileTagsListItem",style:{backgroundColor:e.color}},r.createElement("span",null,Object(u.a)(e.name)))}}var y=d.a.getLang;class O extends r.Component{constructor(e){super(e),this.onExtraClick=()=>{this.setState({isTagsCollapsed:!1})},this.state={isTagsCollapsed:!0}}render(){var e=this.props,t=e.peerTags,n=e.tags,o=e.isPeerProfileCollapsed,a=e.adId,i=e.hasAdAccess,s=e.isEasyPromotedMarket,c=e.toggleProfile,u=n.filter(e=>t.includes(e.id));a&&u.unshift({adId:a,hasAdAccess:i,isEasyPromotedMarket:s});var l=0;o&&this.state.isTagsCollapsed&&u.length>5&&(l=u.splice(5).length);return u=u.map((e,t)=>r.createElement(v,{key:t,data:e})),r.createElement("div",{className:"PeerProfileTagsList"},u.length>0&&u,l>0&&r.createElement("div",{className:"PeerProfileTagsListItem PeerProfileTagsListItem--extra",onClick:this.onExtraClick},"+ "+y("mail_im_peer_profile_extra_tags",l)),!u.length&&r.createElement("div",{className:"PeerProfileTagsListItem--empty"},y("mail_im_peer_profile_tags_empty")," ",r.createElement("span",{className:"PeerProfileTagsList__linkDivider"},"·")," ",r.createElement(p.a,{className:"PeerProfileTagsList__toggleProfileLink",onClick:c},y(o?"mail_im_peer_profile_toggle_tags_on":"mail_im_peer_profile_toggle_tags_off"))))}}var w=n("wQFj");function E(e){var t=e.data,n=e.onCheckboxChange,o=Object(u.a)(t.name);return r.createElement("div",{className:"PeerProfileTagsGridItem",onClick:e=>{e&&e.preventDefault(),n(t.id,!t.isChecked)}},r.createElement(w.default,{className:"PeerProfileTagsGridItem__checkbox",checked:t.isChecked,onChange:(e,r)=>n(t.id,r)},r.createElement("span",{className:"PeerProfileTagsGridItem__color",style:{backgroundColor:t.color}}),r.createElement("span",{className:"PeerProfileTagsGridItem__name",title:o},o)))}class j extends r.Component{constructor(){super(...arguments),this.onCheckboxChange=(e,t)=>{this.props.onPeerTagsChange(e,t)}}render(){var e=this.props.tags;return r.createElement("div",{className:"PeerProfileTagsGrid"},e.map((e,t)=>r.createElement(E,{key:t,data:e,onCheckboxChange:this.onCheckboxChange})))}}var D=n("e87a"),P=n("BiHW"),k=n("WfnU"),C=n("GSQL"),T=d.a.getLang;class x extends r.Component{constructor(e){super(e),this.onKeyDown=e=>"Enter"!==e.key||(e.preventDefault(),!1),this.inputRef=r.createRef()}componentDidMount(){this.props.data.id||this.inputRef.current.focus()}render(){var e=this.props,t=e.index,n=e.data,o=e.onNameChange,a=e.onRemove;return r.createElement("div",{className:"PeerProfileTagsModalField"},r.createElement("input",{type:"hidden",value:n.id?n.id:""}),r.createElement("input",{type:"text",className:"PeerProfileTagsModalField__input",value:Object(u.a)(n.name),ref:this.inputRef,onChange:e=>o(e,t),onKeyDown:this.onKeyDown,maxLength:20,placeholder:T("mail_im_peer_profile_manage_tags_placeholder")}),r.createElement("span",{className:"PeerProfileTagsModalField__color",style:{backgroundColor:n.color}}),r.createElement(h.default,{position:"t",text:T("mail_im_peer_profile_manage_tags_remove")},r.createElement("span",{className:"PeerProfileTagsModalField__remove",onClick:()=>a(t)})))}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=d.a.getLang,M=["#4bb34b","#5c9ce6","#e64646","#792ec0","#63b9ba","#ffa000","#ffc107","#76787a","#9e8d6b","#45678f","#539b9c","#454647","#7a6c4f","#6bc76b","#5181b8","#ff5c5c","#a162de","#7ececf","#aaaeb3","#bbaa84"],S=M[0];class L extends r.Component{constructor(e){var t;super(e),t=this,this.generateEmptyTag=()=>({name:"",color:this.state&&this.state.tags.length?this.getAvailableColor():S,state:"new"}),this.getAvailableColor=()=>{var e=[...this.state.tags].reduce((e,t)=>("deleted"!==t.state&&(e[t.color]=!0),e),{});return M.find(t=>!e[t])},this.onAddLinkClick=e=>{e&&e.preventDefault(),this.state.tags.filter(e=>"deleted"!==e.state).length>=20||this.setState(e=>({tags:[...e.tags,this.generateEmptyTag()]}),()=>{this.inputsRef.current.scrollIntoView({block:"end"})})},this.onNameChange=(e,t)=>{var n=e.target.value;this.setState({tags:this.state.tags.map((e,r)=>r===t?I({},e,{name:n,state:e.state||"changed"}):e)})},this.onRemove=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.state.tags,o=r[e];!n&&o.id&&o.uses>0?t.setState({isConfirmationModalOpen:!0,indexToRemove:e}):t.setState({tags:t.state.tags.filter((t,n)=>n!==e),deletedTags:[...t.state.deletedTags,I({},o,{state:"deleted"})]})},this.onSubmit=e=>{e&&e.preventDefault();var t=[...this.state.tags,...this.state.deletedTags].reduce((e,t)=>(t.name.trim()&&t.state&&e.push({id:t.id,name:t.name,color:t.color,state:t.state}),e),[]);this.setState({isLoading:!0}),this.props.onSave(t)},this.toggleConfirmationModal=(e,t)=>{e&&e.preventDefault(),this.setState({isConfirmationModalOpen:t})},this.state={tags:e.tags.length?e.tags.map(e=>I({},e)):[this.generateEmptyTag()],deletedTags:[],isLoading:!1,isConfirmationModalOpen:!1,indexToRemove:null},this.inputsRef=r.createRef()}render(){var e=this.state,t=e.tags,n=e.isConfirmationModalOpen,o=t[e.indexToRemove],a=Object(s.a)("PeerProfileTagsModal",{"PeerProfileTagsModal--hidden":n});return r.createElement(r.Fragment,null,r.createElement(D.default,{onClose:this.props.onClose,className:a,disableBackdropClick:!0,disableEscapeClose:!0},r.createElement("form",{onSubmit:this.onSubmit},r.createElement(C.default.Header,{title:A("mail_im_peer_profile_manage_tags_box_title"),onClose:this.props.onClose,appearance:"blue"}),r.createElement(C.default.Body,null,r.createElement(f.a,{className:"PeerProfileTagsModal__scroll",neverHide:!0},r.createElement("div",{className:"PeerProfileTagsModal__tagsInputs",ref:this.inputsRef},this.state.tags.map((e,t)=>r.createElement(x,{index:t,key:t,data:e,onNameChange:this.onNameChange,onRemove:this.onRemove})),this.state.tags.length<20?r.createElement(p.a,{className:"PeerProfileTagsModal__addLink",onClick:this.onAddLinkClick},A("mail_im_peer_profile_manage_tags_add_link")):""))),r.createElement(C.default.Footer,{actionButtons:[r.createElement(P.a,{key:"cancel",appearance:"tertiary",onClick:this.props.onClose},A("global_cancel")),r.createElement(k.default,{key:"save",onClick:this.onSubmit,loading:this.state.isLoading},A("global_save"))]}))),n&&r.createElement(C.default,{title:A("global_warning"),appearance:"blue",actionButtons:[r.createElement(P.a,{key:"cancel",appearance:"tertiary",onClick:e=>this.toggleConfirmationModal(e,!1)},A("global_cancel")),r.createElement(P.a,{key:"delete",onClick:e=>{this.toggleConfirmationModal(e,!1),this.onRemove(this.state.indexToRemove,!0)}},A("global_delete"))],onClose:e=>this.toggleConfirmationModal(e,!1),className:"PeerProfileConfirmationModal"},Object(_.l)(1===o.uses?A("mail_im_peer_profile_tag_delete_confirmation_text_single"):A("mail_im_peer_profile_tag_delete_confirmation_text",o.uses,!0),"tag_name",Object(u.a)(o.name))))}}var B=n("s1Gz"),R=d.a.getLang;class N extends r.Component{constructor(e){var t;super(e),t=this,this.onChange=e=>{var t=e.target.value;this.setState({note:t})},this.onSubmit=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&e.preventDefault();var r=t.state.note&&t.state.note.trim();n||r?(t.setState({isLoading:!0}),t.props.onNoteSave(r)):t.setState({note:""})},this.toggleConfirmationModal=(e,t)=>{e&&e.preventDefault(),this.setState({isConfirmationModalOpen:t})},this.state={note:e.note||"",isLoading:!1,isConfirmationBoxOpen:!1,isConfirmationModalOpen:!1},this.inputRef=r.createRef()}componentDidMount(){this.inputRef.current.element.focus()}render(){var e=Object(s.a)("PeerProfileNoteModal",{"PeerProfileNoteModal--hidden":this.state.isConfirmationModalOpen}),t=[...this.props.note?[r.createElement(P.a,{key:"delete",appearance:"link",onClick:e=>this.toggleConfirmationModal(e,!0),className:"PeerProfileNoteModal__deleteButton"},R("mail_im_peer_profile_note_delete_link"))]:[],r.createElement(P.a,{key:"cancel",appearance:"tertiary",onClick:this.props.onClose},R("global_cancel")),r.createElement(k.default,{key:"save",onClick:this.onSubmit,loading:this.state.isLoading},R("global_save"))];return r.createElement(r.Fragment,null,r.createElement(D.default,{onClose:this.props.onClose,className:e,disableBackdropClick:!0,disableEscapeClose:!0},r.createElement("form",{onSubmit:this.onSubmit},r.createElement(C.default.Header,{title:R("mail_im_peer_profile_note_box_title"),onClose:this.props.onClose,appearance:"blue"}),r.createElement(C.default.Body,null,r.createElement(B.default,{className:"PeerProfileNoteModal__input",value:Object(u.a)(this.state.note),placeholder:R("mail_im_peer_profile_note_box_placeholder"),onChange:this.onChange,style:{height:21},maxLength:96,ref:this.inputRef})),r.createElement(C.default.Footer,{actionButtons:t}))),this.state.isConfirmationModalOpen&&r.createElement(C.default,{title:R("global_warning"),appearance:"blue",actionButtons:[r.createElement(P.a,{key:"cancel",appearance:"tertiary",onClick:e=>this.toggleConfirmationModal(e,!1)},R("global_cancel")),r.createElement(P.a,{key:"delete",onClick:e=>{this.toggleConfirmationModal(e,!1),this.setState({note:""},()=>this.onSubmit(null,!0))}},R("global_delete"))],onClose:e=>this.toggleConfirmationModal(e,!1),className:"PeerProfileConfirmationModal"},R("mail_im_peer_profile_note_delete_confirmation_text")))}}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var F=d.a.getLang;class W extends r.PureComponent{constructor(e){super(e),this.toggleProfile=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onPeerTagsChange=(e,t)=>{var n=this.props.store,r=n.get().peer;this.setState(n=>({peerTags:t?[].concat(n.peerTags,e):n.peerTags.filter(t=>t!==e)}),()=>{n.set(m.Gb.bind(null,e,t,t?"bind":"unbind",r)).catch(e=>Object(l.a)("PeerProfile.toggleTag",e))})},this.onSave=e=>{this.setState({tags:e},()=>{this.props.store.set(m.Eb.bind(null,[...this.state.tags])).then(e=>{var t=e.get().peer_profile_tags;this.setState({isCollapsed:0===t.length,tags:t,isTagsModalOpened:!1}),showDoneBox(F("mail_im_peer_profile_manage_tags_success"),{out:1e3})}).catch(e=>Object(l.a)("PeerProfile.manageTags",e))})},this.onNoteSave=e=>{var t=this.props.store,n=t.get().peer;t.set(m.Fb.bind(null,n,e)).then(()=>{this.setState({note:e,isNoteModalOpened:!1}),showDoneBox(F(e?"mail_im_peer_profile_save_note_success":"mail_im_peer_profile_delete_note_success"),{out:1e3})}).catch(e=>Object(l.a)("PeerProfile.saveNote",e))},this.toggleModal=(e,t,n)=>{switch(e&&e.preventDefault(),n){case"tags":this.setState({isTagsModalOpened:t});break;case"note":this.setState({isNoteModalOpened:t})}t&&Object(c.c)("peer_profile_modal",()=>{Object(c.a)("peer_profile_modal"),this.toggleModal(null,!1,n)})};var t=e.store.get(),n=t.peer,r=Object(a.s)(t,n),o=r.peer_profile_info||{};this.state={isCollapsed:!0,tags:t.peer_profile_tags||[],peerTags:r.peer_tags?r.peer_tags.ids:[],note:o.note,isTagsModalOpened:!1,isNoteModalOpened:!1}}render(){var e=this.props.store.get(),t=Object(a.s)(e,e.peer),n=this.state,o=n.isCollapsed,i=n.tags,c=n.peerTags,l=n.note,d=n.isTagsModalOpened,m=n.isNoteModalOpened,b=i.length>0,g=b?i.reduce((e,t)=>(e[t.id]=!0,e),{}):[],v=c.filter(e=>g[e]),y=t.peer_profile_info,w=y&&(y.city||y.age),E=Object(s.a)("PeerProfile__wrapper",{"PeerProfile__wrapper--collapsed":o});return r.createElement("div",{className:E},r.createElement(f.a,{className:"PeerProfile__scroll",neverHide:!0},r.createElement("dl",{className:"PeerProfile__container"},r.createElement("dt",{className:"PeerProfile__label"},F("mail_im_peer_profile_tags_label_text")),r.createElement("dd",{className:"PeerProfile__content PeerProfile__tags"},o&&!b&&!t.ad_id&&r.createElement(p.a,{className:"PeerProfile__manageTagsLink",onClick:e=>this.toggleModal(e,!0,"tags")},F("mail_im_peer_profile_manage_tags")),(b||t.ad_id)&&r.createElement(O,{tags:i,peerTags:v,isPeerProfileCollapsed:o,adId:t.ad_id,hasAdAccess:t.has_ad_access,isEasyPromotedMarket:t.is_easy_promoted_market,toggleProfile:this.toggleProfile}),!o&&r.createElement(j,{tags:[...i].map(e=>U({},e,{isChecked:c.includes(e.id)})),onPeerTagsChange:this.onPeerTagsChange}),!o&&r.createElement(p.a,{className:"PeerProfile__manageTagsLink",onClick:e=>this.toggleModal(e,!0,"tags")},F("mail_im_peer_profile_manage_tags")),d&&r.createElement(L,{tags:i,onSave:this.onSave,onClose:e=>this.toggleModal(e,!1,"tags")})),r.createElement("dt",{className:"PeerProfile__label"},F("mail_im_peer_profile_info_label_text")),r.createElement("dd",{className:"PeerProfile__content PeerProfile__info"},w&&r.createElement(r.Fragment,null,y.city&&r.createElement("span",{className:"PeerProfile__infoItem"},Object(u.a)(y.city)),y.age&&r.createElement("span",{className:"PeerProfile__infoItem"},Object(u.a)(y.age)),y.likes_cnt&&r.createElement(h.default,{className:"PeerProfile__infoTooltip",position:"t",text:F("mail_peer_profile_likes_replies_tooltip"),appearance:"light"},r.createElement("span",{className:"PeerProfile__infoItem"},y.likes_cnt&&r.createElement("span",{className:"PeerProfile__infoItem"},Object(u.a)(y.likes_cnt)),y.replies_cnt&&r.createElement("span",{className:"PeerProfile__infoItem"},Object(u.a)(y.replies_cnt))))),!w&&r.createElement("span",null,F("mail_im_peer_profile_info_empty"))),e.is_peer_profile_note_enabled&&r.createElement(r.Fragment,null,r.createElement("dt",{className:"PeerProfile__label"},F("mail_im_peer_profile_note_label_text")),r.createElement("dd",{className:"PeerProfile__content PeerProfile__note"},!l&&r.createElement(p.a,{onClick:e=>this.toggleModal(e,!0,"note")},F("mail_im_peer_profile_note_add_link")),!!l&&r.createElement(r.Fragment,null,r.createElement("span",{className:"PeerProfile__noteText"},Object(u.a)(l)),r.createElement("span",{className:"PeerProfile__noteDivider"}," · "),r.createElement(p.a,{onClick:e=>this.toggleModal(e,!0,"note")},F("mail_im_peer_profile_note_edit_link"))),m&&r.createElement(N,{note:l,onNoteSave:this.onNoteSave,onClose:e=>this.toggleModal(e,!1,"note")}))),r.createElement("dt",{className:"PeerProfile__label"},F("mail_im_peer_profile_join_date_label_text")),r.createElement("dd",{className:"PeerProfile__content"},y&&y.join_date?Object(u.a)(y.join_date):Object(_.k)(t.sex,F("mail_im_peer_profile_join_date_empty_text","raw"))))),(b||t.ad_id)&&r.createElement("button",{className:"PeerProfile__toggler",onClick:this.toggleProfile}))}}function K(){return document.querySelector("#PeerProfile")}function H(){var e=K();return e?e.offsetHeight:0}function q(e,t){if(t){var n=parseInt(getStyle(e,"padding-top"));e.style.paddingTop=n+H()+"px"}else e.style.removeProperty("padding-top")}function V(e){return{render(t){var n=t.get(),s=K(),c=n.peer,u=Object(a.s)(n,c);n.is_peer_profile_enabled&&s&&Object(i.Tb)(n,c)&&!Object(a.z)(u)&&!Object(a.D)(t,c)&&(s.innerHTML&&o.unmountComponentAtNode(s),o.render(r.createElement(W,{store:t}),s,()=>{q(e,!0)}))},destroy(){var t=K();t&&(o.unmountComponentAtNode(t),q(e,!1))}}}},Syzc:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return d}));n("HEwt"),n("a1Th"),n("rE2o"),n("ioFf"),n("rGqo"),n("VRzm"),n("Btvt"),n("KKXr");for(var r=n("cGUQ"),o=(n("nCnK"),new Uint32Array(256)),a=256;a--;){for(var i=a,s=8;s--;)i=1&i?3988292384^i>>>1:i>>>1;o[a]=i}var c=n("t7n3"),u=n("W9Tc");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}class d{_setCancelCb(e){this._cancel=e}cancel(){this._cancel&&this._cancel()}}function p(e,t,n,o,a,i,s){var c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],_=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;if(t.act&&Object(u.b)("force_act_in_get_params")){var d={},p=e,h="";if(e.includes("?")){var m=e.split("?"),b=l(m,2);p=b[0],h=b[1],d=Object(r.fromQueryString)(h)}d.act=t.act,e=`${p}?${Object(r.toQueryString)(d,!0)}`}var g=f(e,t,{xhrOptions:i,sortQueryStringParams:s&&!s.noSort,headers:s&&s.headers,noExtraHeaders:c,urlOnly:a,cancellationToken:s&&s.cancellationToken,logger:_}),v=g._getXhr();return g.then(e=>n&&n(e.data,v.status)).catch(e=>o&&o(e,v.status)),v}function f(e,t,n){var a,i=n.xhrOptions,s=n.headers,u=void 0===s?null:s,l=n.urlOnly,_=void 0!==l&&l,d=n.sortQueryStringParams,p=void 0===d||d,f=n.noExtraHeaders,h=void 0!==f&&f,m=n.cancellationToken,b=void 0===m?null:m,g=n.logger,v=void 0===g?null:g;v&&(a=function(e){for(var t=-1,n=0,r=e.length;n<r;n++)t=t>>>8^o[255&t^e[n]];return(-1^t)>>>0}(e+JSON.stringify(t)),v(`Initialized request #${a} with URL ${e} and query ${JSON.stringify(t)}`));var y=new XMLHttpRequest;b&&b._setCancelCb(()=>{v&&v("Aborting request #"+a),y.abort()});var O=new Promise((function(n,o){var s="string"!=typeof t?Object(r.toQueryString)(t,!p):t;y.onreadystatechange=function(){if(y.readyState===XMLHttpRequest.DONE)if(v&&v(`Request readyState -> DONE with status ${y.status} #${a}`),y.status>=200&&y.status<300)try{n({data:y.responseText,code:y.status}),v&&v("Success handler finished for request #"+a)}catch(e){v&&v("Success handler failed for request #"+a),o({data:y.responseText,code:-1}),v&&v(`Failure handler finished for request #${a} [1]`)}else o({data:y.responseText,url:e,act:t.act,code:y.status}),v&&v(`Failure handler finished for request #${a} [2]`)};try{v&&v("Starting request #"+a),y.open("POST",e,!0)}catch(e){v&&v(`Request #${a} failed`),o({data:e,code:-1}),v&&v(`Failure handler finished for request #${a} [3]`)}u&&Object.keys(u).forEach(e=>{y.setRequestHeader(e,u[e])}),i&&Object(c.f)(i,(function(e,t){y[e]=t})),_||(y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h||y.setRequestHeader("X-Requested-With","XMLHttpRequest")),v&&v("Sending data for request #"+a),y.send(s)}));return O._getXhr=()=>y,O}},T3FL:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n("FbVm");n.d(t,"a",(function(){return r.d}));var o=new r.f,a=new r.e(o)},TFVZ:function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=36e5,i={web2:{PERF_MARK:"__navmark",PERF_MEASURE:"__navmeasure"},mvk:{PERF_MARK:"__navmark_mvk",PERF_MEASURE:"__navmeasure_mvk"}},s="mvk"===(null===(o=null===(r=window.vk)||void 0===r?void 0:r.statsMeta)||void 0===o?void 0:o.platform)?{video:6*a,group:6*a,groups_list:6*a,feed:6*a,audio:6*a,notifications:6*a,profile:6*a,wall:6*a,mail:6*a,menu:4*a,join:4*a,photos:4*a,login:4*a,friends:4*a}:{im:6*a,profile:6*a,feed:6*a,audio:6*a,video:6*a,apps:6*a,friends:4*a,groups_list:4*a,groups:4*a,public:4*a}},TGUg:function(e,t,n){"use strict";function r(e,t){var n="";return e.forEach((function(r,o){var a="/audio?performer=1&q="+encodeURIComponent(r.name),i=window.getWebHost?window.getWebHost():"";r.id&&(a="/artist/"+r.id),n+=t?`<a class="artist_link" href="${i}${a}">${r.name}</a>`:r.name,o<e.length-1&&(n+=", ")})),n}n.d(t,"a",(function(){return r}))},TxR4:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));n("KKXr"),n("pIFo");var r=n("S6+Z");function o(e){return encodeURIComponent(e.replace(/\uFE0F/gi,"")).replace(/%/gi,"").toLowerCase()}function a(e){var t,n=e.length%2==1,r=n?e.slice(0,1):"",o=n?e.slice(1):e,a="";try{a=decodeURIComponent("%"+(t=o,t.split("").reduce((e,t,n)=>e+t+((n+1)%2==0?" ":""),"").trim().split(/\s+/)).join("%"))}catch(e){}return r+a}function i(e){return e.replace(Object(r.d)(),s)}function s(e){return e.replace(r.e,"")}},UExd:function(e,t,n){var r=n("nh4g"),o=n("DVgA"),a=n("aCFj"),i=n("UqcF").f;e.exports=function(e){return function(t){for(var n,s=a(t),c=o(s),u=c.length,l=0,_=[];u>l;)n=c[l++],r&&!i.call(s,n)||_.push(e?[n,s[n]]:s[n]);return _}}},UIlX:function(e,t,n){"use strict";n.d(t,"h",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"m",(function(){return O})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return P})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return C})),n.d(t,"a",(function(){return T})),n.d(t,"n",(function(){return x}));n("HEwt"),n("rGqo"),n("rE2o"),n("ioFf"),n("a1Th"),n("Btvt"),n("KKXr"),n("Vd3H");var r=n("vT4u"),o=n("rHUl"),a=n("h++7"),i=n("zxIV"),s=n("4+be"),c=n("FWc3"),u=n("nAFc"),l=n("rDjD");function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=0,r=[],o=[],a=!1;return e.forEach(e=>{e.width=e.width?e.width:function(e){return 12+9*Object(u.a)(e.name).length}(e),e.width+(a?0:69)>=t-n?(o.push(e),a||(n+=69,a=!0)):(r.push(e),n+=e.width)}),[r,o]}function f(e,t){var n=e.target,r=Object(i.Y)("_im_dialog",n),a=parseInt(Object(i.v)(r,"peer")),s=t.get(),u=Object(o.s)(s,a),l=u.peerTagsMaxWidth;if(l){var d=_(p(h(s,u),l),2)[1].reduce((e,t)=>e+=getTemplate("sImPeerTagsExtraTooltipItem",{name:t.name,color:t.color}),"");Object(c.c)(n,{text:d,center:!0,dir:"bottom",className:"PeerTagsExtraTooltip",hasover:!0})}}function h(e,t){var n=t.peer_tags&&t.peer_tags.ids.length?e.peer_profile_tags.filter(e=>t.peer_tags.ids.includes(e.id)):[];return t.ad_id&&n.unshift(function(e){var t,n;return e.is_easy_promoted_market?(t=Object(s.d)("mail_ad_tag_easy_promoted_market"),n=145):(t=e.has_ad_access?`${Object(s.d)("mail_ad_tag_text_prefix")} ${e.ad_id}`:Object(s.d)("mail_ad_tag_no_access_text"),n=e.has_ad_access?104:97),{isAdTag:!0,adTagText:t,width:n,name:t,color:"#e5ebf1"}}(t)),n}function m(e,t,n,r){if(t<69)e.innerHTML="";else{e.style.maxWidth=t+"px";var a=n.get(),i=Object(o.s)(a,r),c=h(a,i);if(c.length){var u=_(p(c,t),2),l=u[0],d=u[1],f=l.reduce((e,t)=>(t.isAdTag?e+=getTemplate("sImPeerTagsAdTag",{ad_tag_text:t.adTagText,url:`ads?act=office&union_id=${i.ad_id}&utm_medium=community_messages_ad_tag&utm_source=dialog`,extra_class:i.has_ad_access?"PeerTagsItem--hasAdAccess":""}):e+=getTemplate("sImPeerTagsItem",{tag_id:t.id,name:t.name,color:t.color}),e),""),m=d.length,b="+"+Object(s.d)("mail_im_peer_profile_extra_tags",m);m&&(f+=getTemplate("sImPeerTagsExtra",{text:b})),e.innerHTML=f}else e.innerHTML=""}}function b(e){var t=Object(i.L)("_im_peer_tags_filter_tags"),n=e.peer_profile_tags||[];n.length>0&&t&&(t.innerHTML=n.reduce((t,n)=>t+=getTemplate("sImPeerTagsFilterItem",{tag_id:n.id,name:n.name,color:n.color,checked:e.peer_tags_filter.ids.includes(n.id)?"checked":"",count:n.uses}),""))}function g(e){var t=e.get(),n=Object(i.L)("_im_peer_tags_filter_control");if(n)if(!t.peer&&t.peer_profile_tags&&t.peer_profile_tags.length>0){Object(i.mb)(n,"PeerTagsFilter__control--hidden");var o=D(t.peer_profile_tags,t.peer_tags_filter.mask);e.set(e=>Object(r.xd)(o,e)).then(()=>w(e,o,!0))}else Object(i.c)(n,"PeerTagsFilter__control--hidden")}function v(e,t){var n=t.get(),o=e.target,a=parseInt(o.id.slice(9)),i=o.checked?[].concat(n.peer_tags_filter.ids,a):n.peer_tags_filter.ids.filter(e=>e!==a);t.set(e=>Object(r.xd)(i,e)).then(()=>w(t,i))}function y(e,t){var n=t.get(),o=Object(i.ab)(e.target,"_im_peer_tags_filter_pane_item")?e.target:Object(i.Y)("_im_peer_tags_filter_pane_item",e.target),a=parseInt(Object(i.v)(o,"id")),s=n.peer_tags_filter.ids.filter(e=>e!==a);t.set(e=>Object(r.xd)(s,e)).then(()=>w(t,s))}function O(e){var t,n,r=e.peer_tags_filter.ids,o=r.length>0,a=Object(i.L)("_im_peer_tags_filter_pane"),s=(t=Object(i.L)("_im_page_dialogs"),n=Object(i.L)("_im_peer_tags_filter_pane"),parseFloat(getComputedStyle(t)["padding-top"])-(n&&n.offsetHeight>0?n.offsetHeight+1:0));if(o&&a){var c=(e.peer_profile_tags||[]).filter(e=>r.includes(e.id)).sort((e,t)=>r.indexOf(e.id)-r.indexOf(t.id));a.innerHTML=c.reduce((e,t)=>e+=getTemplate("sImPeerTagsFilterPaneItem",{tag_id:t.id,name:t.name,color:t.color}),"")}Object(i.zb)(a,"PeerTagsFilterPane--active",o),function(e,t){var n=Object(i.L)("_im_page_dialogs"),r=Object(i.L)("_im_peer_tags_filter_pane");if(e&&r){var o=t+(r.offsetHeight+1);n.style.paddingTop=o+"px"}else n.style.paddingTop=t+"px"}(o,s),x()}function w(e,t,n){var r=e.get();b(r),O(r),function(e){var t=Object(i.L)("_im_right_menu"),n=Object(i.L)("ui_rmenu_item_sel",t),r=Object(i.L)("_ui_item_all",t);(e.length>0||!n)&&uiRightMenu.switchMenu(r)}(t),n||r.longpoll.push([Object(l.b)(t.length>0?a.m:a.g)])}function E(e,t){var n=e.target,o=[parseInt(Object(i.v)(n,"id"))];t.set(e=>Object(r.xd)(o,e)).then(()=>w(t,o))}function j(e){return e.get().active_tab===a.m}function D(e,t){if(!e||!e.length||!t)return[];var n=t.toString(2).split("").reverse().reduce((e,t,n)=>("1"===t&&e.push(1<<n),e),[]);return e.filter(e=>n.includes(e.mask)).map(e=>e.id)}function P(e,t){return Number.isInteger(t)?t:e&&e.length&&t&&t.length?e.filter(e=>t.includes(e.id)).reduce((e,t)=>e+=t.mask,0):null}function k(e,t,n){var o=n.peerId,a=n.peerTagsMask,i=e.get(),s=D(i.peer_profile_tags,a);e.set(e=>Object(r.wd)(o,s,a,e)).then(()=>{b(e.get()),i.peer||(t.renderPeerTags(e,o),j(e)&&e.set(r.yd).then(()=>t.restoreDialogs(e)))})}function C(e,t){e.set(r.vd).then(()=>{b(e.get()),e.get().peer||(t.restoreDialogs(e),t.renderPeerTags(e))})}function T(e,t){var n=e.peer_tags_filter.mask;return!(!n||!t.peer_tags)&&!!(n&t.peer_tags.mask)}function x(){var e=Object(i.L)("im-page--dialogs-empty");if(e){var t=Object(i.L)("_im_peer_tags_filter_pane"),n=t&&t.offsetHeight>0?t.offsetHeight/2:5;e.style.marginTop=n+"px"}}},Ugos:function(e,t,n){"use strict";var r,o,a=n("C/va"),i=RegExp.prototype.exec,s=String.prototype.replace,c=i,u=(r=/a/,o=/b*/g,i.call(r,"a"),i.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(e){var t,n,r,o,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",a.call(c))),u&&(t=c.lastIndex),r=i.call(c,e),u&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),l&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},UqcF:function(e,t){t.f={}.propertyIsEnumerable},VBqm:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("VRzm"),n("Btvt");function r(e){try{return e.play()||Promise.resolve()}catch(e){return Promise.reject(e)}}},VRzm:function(e,t,n){"use strict";var r,o,a,i,s=n("LQAc"),c=n("dyZX"),u=n("m0Pp"),l=n("I8a+"),_=n("XKFU"),d=n("0/R4"),p=n("2OiF"),f=n("9gX7"),h=n("SlkY"),m=n("69bn"),b=n("GZEu").set,g=n("gHnn")(),v=n("pbhE"),y=n("nICZ"),O=n("ol8x"),w=n("vKrd"),E=c.TypeError,j=c.process,D=j&&j.versions,P=D&&D.v8||"",k=c.Promise,C="process"==l(j),T=function(){},x=o=v.f,I=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[n("K0xU")("species")]=function(e){e(T,T)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==P.indexOf("6.6")&&-1===O.indexOf("Chrome/66")}catch(e){}}(),A=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;g((function(){for(var r=e._v,o=1==e._s,a=0,i=function(t){var n,a,i,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(o||(2==e._h&&B(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),i=!0)),n===t.promise?u(E("Promise-chain cycle")):(a=A(n))?a.call(n,c,u):c(n)):u(r)}catch(e){l&&!i&&l.exit(),u(e)}};n.length>a;)i(n[a++]);e._c=[],e._n=!1,t&&!e._h&&S(e)}))}},S=function(e){b.call(c,(function(){var t,n,r,o=e._v,a=L(e);if(a&&(t=y((function(){C?j.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=C||L(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){b.call(c,(function(){var t;C?j.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},R=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=A(e))?g((function(){var r={_w:n,_d:!1};try{t.call(e,u(N,r,1),u(R,r,1))}catch(e){R.call(r,e)}})):(n._v=e,n._s=1,M(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};I||(k=function(e){f(this,k,"Promise","_h"),p(e),r.call(this);try{e(u(N,this,1),u(R,this,1))}catch(e){R.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("3Lyj")(k.prototype,{then:function(e,t){var n=x(m(this,k));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?j.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=u(N,e,1),this.reject=u(R,e,1)},v.f=x=function(e){return e===k||e===i?new a(e):o(e)}),_(_.G+_.W+_.F*!I,{Promise:k}),n("fyDq")(k,"Promise"),n("elZq")("Promise"),i=n("g3g5").Promise,_(_.S+_.F*!I,"Promise",{reject:function(e){var t=x(this);return(0,t.reject)(e),t.promise}}),_(_.S+_.F*(s||!I),"Promise",{resolve:function(e){return w(s&&this===i?k:this,e)}}),_(_.S+_.F*!(I&&n("XMVh")((function(e){k.all(e).catch(T)}))),"Promise",{all:function(e){var t=this,n=x(t),r=n.resolve,o=n.reject,a=y((function(){var n=[],a=0,i=1;h(e,!1,(function(e){var s=a++,c=!1;n.push(void 0),i++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--i||r(n))}),o)})),--i||r(n)}));return a.e&&o(a.v),n.promise},race:function(e){var t=this,n=x(t),r=n.reject,o=y((function(){h(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},VTer:function(e,t,n){var r=n("g3g5"),o=n("dyZX"),a=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("LQAc")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},Vd3H:function(e,t,n){"use strict";var r=n("XKFU"),o=n("2OiF"),a=n("S/j/"),i=n("eeVq"),s=[].sort,c=[1,2,3];r(r.P+r.F*(i((function(){c.sort(void 0)}))||!i((function(){c.sort(null)}))||!n("LyE8")(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),o(e))}})},W0P9:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n("W9Tc");function o(){return window.console&&Object(r.b)("js_console_logs")}function a(){o()&&window.console.log&&window.console.log(...arguments)}function i(){o()&&(window.console.error?window.console.error(...arguments):a(...arguments))}},W0fz:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("uk5P");function o(e){if(!e)return!1;var t=isObject(e)?e.extra:e[r.a.AUDIO_ITEM_INDEX_EXTRA];return isObject(t)||(t=JSON.parse(t||"{}")),!!t.podcast}},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},W9Tc:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n("J8bf");function o(e){return Math.random()<e}function a(e){var t=(window.vk||{}).pe;return!!(void 0===t?{}:t)[e]}function i(){var e=window.vk.ts;if(e&&!window.browser.opera_mobile){var t=new Date,n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())/1e3-e;n-=10800,n=(n/=60).toFixed(0),(n*=60)<-55800?n+=86400:n>37800&&(n-=86400);var o=0,a=Math.abs(n);[-12,-11,-10,-9.5,-9,-8,-7,-6,-5,-4.5,-4,-3.5,-3,-2,-1,0,1,2,3,3.5,4,4.5,5,5.5,5.75,6,6.5,7,8,8.75,9,9.5,10,10.5,11,12,12.75,13,14].forEach(e=>{var t=Math.round(3600*(e-3)),r=Math.abs(n-t);r<a&&(a=r,o=t)});var i=Object(r.a)("remixdt");return void 0!==i&&intval(i)===o||Object(r.c)("remixdt",o,365),o}return 0}},WbBG:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},Wfj7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("aong");function o(e,t){var n=Object(r.s)(e);n.oCache||(n.oCache={}),t.id&&(n.oCache[t.id]=t)}},WfnU:function(e,t,n){"use strict";n.r(t);var r,o=n("q1tI"),a=n("xt6h"),i=n("IrTF"),s=n("BiHW"),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.loading,r=e.children,c=l(e,["className","loading","children"]),_=["primary","positive"].some((function(e){return e===c.appearance}));return o.createElement(s.a,u({},c,{className:Object(a.a)("ButtonWithProgress",{"ButtonWithProgress--loading":n},t)}),o.createElement("span",{className:"ButtonWithProgress__content"},r),n&&o.createElement(i.a,{inverted:_,className:"ButtonWithProgress__progress"}))},t.defaultProps={appearance:"primary",size:"m",wide:!1,disabled:!1,loading:!1},t}(o.Component);t.default=_},WkPL:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},Wu9C:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return w}));var r=n("ofcU"),o=n("vT4u"),a=n("P13b");function i(e){return{unmount(){Object(r.c)(e)}}}function s(e,t,n,o){var s=Object(r.b)(i).bindMutations,c=t=>{n().messageKeyboardButtonClick(t),e.hide()};return s(Object(r.a)({handlers:(t,n)=>{n(e.bodyNode,"click",a.B,c)}}))}var c=n("rHUl"),u=n("aong"),l=n("uytb"),_=n("FWc3"),d=n("rudk"),p=n("kxld");function f(e,t){if(Object(u.s)(e).searchShown)return!1;var n=Object(c.s)(e,t);return!!(n&&Object(d.c)(t)&&n.pinned)&&!Object(p.p)(n)}function h(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Object(c.s)(e,t),a=o&&Object(c.W)(o.pinned);o&&a&&(o.pinHideId=a.chat_local_id,cur.imDb.update(l.a,[o.peerId,o.pinHideId]),v(n,t,e),re(geByClass1("_im_pinned_tt")),r&&window.Notifier&&Notifier.lcSend("pin_hide",{hide:1,peer:t}),statlogsValueEvent("im_pinned_messages","hide"))}function m(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Object(c.s)(e,t);o&&o.pinHideId&&(delete o.pinHideId,cur.imDb.update(l.a,[o.peerId,void 0]),v(n,t,e),r&&window.Notifier&&Notifier.lcSend("pin_hide",{hide:0,peer:t}),statlogsValueEvent("im_pinned_messages","show"))}function b(e,t,n){var r=v.bind(null,n,t),i=Object(a.Ad)(()=>{i.hideProgress(),i.hide(),e.set(o.fd.bind(null,t)).then(r).then(e=>e.set(o.ed.bind(null,t))).then(r)})}function g(e,t,n){var r=e.get().peer,o=Object(c.W)(Object(c.s)(e,r).pinned);if(n.target.classList.contains("_im_pin_hide"))o&&h(e,r,t);else if("A"!==n.target.tagName){var i=o&&o.messageId;i&&!Object(a.Jb)(e,r,i)?Object(a.fb)(e,t().focusOnMessage,r,i):Object(a.xd)(e,t,r,s,n),statlogsValueEvent("im_pinned_messages","open")}}function v(e,t,n){return e().updateChatTopic(t,n),Object(o.Cc)(n.get()),e().updateActions(n),n}function y(e){Object(_.c)(e.target,{text:getLang("mail_hide_unpin_hover"),black:1,needLeft:1,shift:[8,4],forcetoup:!0,className:"_im_pinned_tt",appendEl:bodyNode})}function O(e){return{unmount(){Object(r.c)(e)}}}function w(e,t,n){var o=Object(r.b)(O).bindMutations,a=g.bind(null,t,n),i=y.bind(null);return o(Object(r.a)({handlers:(t,n)=>{n(e,"click","_im_pinned_message",a),n(e,"mouseover","_im_pin_hide",i)}}))}},XAlg:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("FbVm"),o=n("r0fY"),a=n("llQL"),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=new(function(){function e(){this.productionStatCollector=new r.f,this.actionStatCollector=new r.a(this.productionStatCollector),this.navStatCollector=new r.e(this.productionStatCollector)}return e.prototype.logEventAction=function(t){return this.actionStatCollector.logEvent(e.createDonutActionStatEvent(t))},e.prototype.logEventActionView=function(e){return this.logEventAction(i(i({},e),{event_type:a.b.PAYMENT_FORM}))},e.prototype.logEventDescriptionClick=function(t){this.navStatCollector.logEvent(i(i({},e.createNavStatEventBase()),e.createDescriptionClickStatEvent(t)))},e.createDonutActionStatEvent=function(e){var t;return(t={type:o.a.TYPE_DONUT_PAYMENT_ITEM})[o.a.TYPE_DONUT_PAYMENT_ITEM]=e,t},e.createNavStatEventBase=function(){return{screen:"wall",subtype:o.l.GO}},e.createDescriptionClickStatEvent=function(t){var n;return(n={item:e.processClickParamsToEventItem(t),type:o.l.TYPE_DONUT_DESCRIPTION_NAV_ITEM})[o.l.TYPE_DONUT_DESCRIPTION_NAV_ITEM]={},n},e.processClickParamsToEventItem=function(e){return{type:o.c.BROWSER,owner_id:e.ownerId,track_code:e.trackCode}},e}())},XBHu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("a1Th"),n("Btvt");var r=n("lkNA"),o=n("rEJs"),a=n("W0fz");class i{constructor(e,t,n){this._isPlaying=!1,this._adsCurrentProgress=0,this._adman=null,this._admanLoaded=!1,this._adEvents=[],this.player=e||{},this.playerVersion=t||null,this._startAdsTO=null,this._adsConfig=null,this._duration=0,this.isMvk=Boolean(n),this.adsStatUrl=this.isMvk?"audio":"al_audio.php"}isPlaying(){return this._isPlaying}setAdsConfig(e){this._adsConfig=e}getCurrentProgress(){return this._adsCurrentProgress}getDuration(){return this._duration}loadAdman(e){var t=t=>e&&e(t);if(this._admanLoaded)t();else{var n=0;Object(r.a)(i.ADMAN_SRC,{onLoad:()=>{this._admanLoaded=!0,t()},onError:()=>{window.abp?(this._admanLoaded=!0,t()):(3===(n+=1)&&(this._admanLoaded=!0),t("script_load_fail"))}})}}_fetchAd(e,t,n,r,a){this.loadAdman(c=>{if(!window.AdmanHTML)return this._sendEvent("no_adman",t,i.AD_TYPE,c),r&&r();this._adman=new AdmanHTML;var u=this._adsConfig||vk.audioAdsConfig||window.audioAdsConfig,l={_SITEID:276,ver:251116,vk_id:vk.id,duration:e.duration,content_id:s(e.ownerId,e.id),vk_catid:i.CAT_IDS[t]||i.CAT_IDS.other,sign:u.sign||""};extend(l,e.ads||{}),nav.objLoc&&nav.objLoc.preview&&(l.preview=intval(nav.objLoc.preview)),cur.adsPreview&&(l.preview=1,l.vk_id=398724832),this._adman.setDebug(!!l.preview),this._adman.onError(()=>r&&r()),this._adman.onReady(()=>{if(this._adman){var e=this._adman.getBannersForSection(i.AD_TYPE);e&&e.length?"statistics"===e[0].type?(this._play(!0,t),r&&r()):(this._sendEvent("received",t),n?(this._sendEvent("rejected",t,i.AD_TYPE,a),this.deinit(),r&&r()):(this._sendEvent("ready",t),this.player.notify(o.a.AD_READY),this._play(!1,t,r))):(n||this._sendEvent("not_received",t),r&&r())}}),this._adman.init({slot:3514,wrapper:this.isMvk?ce("div"):se("<div></div>"),params:l,browser:{adBlock:!!window.abp,mobile:!1}}),this._sendEvent("requested",t)})}_sendEvent(e,t,n,r){var o=n?"/"+n:"",a=r?"/"+r:"";this._adEvents.push(e+"/"+t+o+a),clearTimeout(this._adEventDelay),this._adEventDelay=setTimeout(()=>{ajax.post(this.adsStatUrl,{act:"ad_event",events:this._adEvents.join(","),v:this.playerVersion,abp:intval(window.abp)},{onFail:()=>!0}),this._adEvents=[]},500)}_play(e,t,n){this._adman.onCompleted(()=>{this.deinit(!0),e?this._sendEvent("statistics",t):(this.player.notify(o.a.PROGRESS,0),this.player.notify(o.a.AD_COMPLETED),this._isPlaying=!1,this._adsCurrentProgress=0,this._sendEvent("completed",t),window.setDocumentTitle&&window.setDocumentTitle(this._adsPrevTitle),n&&n())}),this._adman.onStarted(()=>{e||(this.player.setIsPlaying(!0),this.player.notify(o.a.PLAY),this.player.notify(o.a.PROGRESS,0),this.player.notify(o.a.AD_STARTED),this.updateVolume(),this._sendEvent("started",t),window.statlogsValueEvent&&statlogsValueEvent("audio_web_ad_link","show"))}),this._adman.onPaused(()=>{this.player.setIsPlaying(!1),this.player.notify(o.a.PAUSE)}),this._adman.onPlayed(()=>{this.player.setIsPlaying(!0),this.player.notify(o.a.PLAY)});var r=[.25,.5,.75];if(this._adman.onTimeRemained(e=>{this._duration=isNaN(e.duration)?0:e.duration,this._adsCurrentProgress=(isNaN(e.percent)?0:e.percent)/100,this.player.notify(o.a.PROGRESS,this._adsCurrentProgress,this._duration),each(r,(e,n)=>{if(this._adsCurrentProgress>=n)return r.shift(),this._sendEvent("progress_"+intval(100*n),t),!1})}),this._adman.start(i.AD_TYPE),e)return n&&n();this._isPlaying=!0,this._adsPrevTitle=document.title,this.isMvk||setDocumentTitle(getLang("global_audio_ad"))}updateVolume(){this._adman&&this._adman.setVolume(.7*this.player.getVolume())}deinit(e){this._adman=null,!e&&this.player.notify(o.a.AD_DEINITED)}pause(){this._adman&&(this.player.setIsPlaying(!1),this._adman.pause())}stop(){this._adman&&(this.player.setIsPlaying(!1),this._adman.stop())}resume(){this._adman&&(this.player.setIsPlaying(!0),this._adman.resume(),this.player.notify(o.a.PLAY))}checkPlay(e,t){var n=this.player._getPlayingContextSection(),r=this._isAllowed(e),o=r.type,a=r.reason,s=()=>t&&t();switch(o){case i.ALLOW_ALLOWED:this._fetchAd(e,n,!1,s);break;case i.ALLOW_DISABLED:s();break;case i.ALLOW_REJECT:this._fetchAd(e,n,!0,!1,a),s()}}_isAllowed(e){if(vk.widget)return{type:i.ALLOW_DISABLED};if(Object(a.a)(e))return{type:i.ALLOW_DISABLED};if(window.browser&&window.browser.safari)return{type:i.ALLOW_DISABLED};var t=this._adsConfig||vk.audioAdsConfig||window.audioAdsConfig;if(t){if(!t.enabled)return{type:i.ALLOW_DISABLED};if(cur.adsPreview)return{type:i.ALLOW_ALLOWED};if(t.day_limit_reached)return{type:i.ALLOW_REJECT,reason:i.REJECT_REASON_LIMIT};var n=this.player._getPlayingContextSection();return t.sections.indexOf(n)>-1?{type:i.ALLOW_ALLOWED}:{type:i.ALLOW_REJECT,reason:i.REJECT_REASON_SECTION}}return{type:i.ALLOW_REJECT,reason:i.REJECT_REASON_UNKNOWN}}startPlay(e,t){this.checkPlay(e,t)}}function s(e,t){for(var n=e.toString(16),r=t.toString(16);r.length<8;)r="0"+r;return n+r}i.ADMAN_SRC="//ad.mail.ru/static/admanhtml/rbadman-html5.min.js",i.CAT_IDS={my:101,my_playlists:101,audio_feed:109,recent:113,user_wall:104,group_wall:104,user_list:102,group_list:103,user_playlists:102,group_playlists:103,feed:105,search:110,global_search:110,replies:104,im:106,group_status:104,user_status:104,recs:107,recs_audio:107,recs_album:107,other:114},i.AD_TYPE="preroll",i.ALLOW_DISABLED=1,i.ALLOW_ALLOWED=2,i.ALLOW_REJECT=3,i.REJECT_REASON_UNKNOWN="unknown",i.REJECT_REASON_LIMIT="track_limit_exceeded",i.REJECT_REASON_SECTION="section_not_allowed"},XHRy:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PaymentsBox}));var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a1Th"),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Btvt"),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("SRfc"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("pIFo"),_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("zxIV"),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("kcIO"),_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("v+DW"),_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("t7n3"),_web_lib_message_box__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("EasH"),_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("FWc3"),_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("4+be"),_web_lib_browser__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("gdug"),_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("DM2o"),_web_lib_feature_entries__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("/PiP"),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("98sY"),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("ryw6"),_web_lib_accessibility__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("QGEU"),_web_lib_utils__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("aong"),_web_payments_app_order_box__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("Q9Lc"),_shared_evbus__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("MJEz");class PaymentsBox{static initHandlers(){Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/ps_promo_banner_click",e=>{Object(_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.a)("payments_ps_promo_banner_event","","votes_buypage","relocate"),PaymentsBox.getVotesAmounts(!1,"spasibo",e.payload.target)}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/save_phone_prefix_click",e=>{Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.H)(geByTag1("input",e.payload.target.parentNode),0,0)}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/save_phone_input",e=>{13===e.payload.event.keyCode&&PaymentsBox.saveSmsPhone()}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/get_votes_amounts",e=>{PaymentsBox.getVotesAmounts(!1,e.payload.dataAttrs.name,e.payload.target)}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/phone_code_input",e=>{13===e.payload.event.keyCode&&PaymentsBox.smsSendCode()}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/show_confirm_on_enter",e=>{13===e.payload.event.keyCode&&PaymentsBox.showConfirm()}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/show_confirm",()=>{PaymentsBox.showConfirm()}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/show_types",()=>{PaymentsBox.showTypes()}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/show_terminal_tt",e=>{PaymentsBox.paymentsShowTerminalTT(e.payload.target,e.payload.dataAttrs.name)}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/show_phone_form",()=>{PaymentsBox.showPhoneForm(2)}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/show_phone_form_1",()=>{PaymentsBox.showPhoneForm(1)}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/show_all_prices",e=>{PaymentsBox.showAllPrices(e.payload.target)}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/change_option",e=>{var t=e.payload.dataAttrs,n=t.index,r=t.name;PaymentsBox.onChangeOption(e.payload.target,n,r)}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/focus_votes",()=>{PaymentsBox.onChangeOption(geByClass1("last","payments_getvotes_amounts"),4,"payments_getvotes_amounts")}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/update_pay_amount",e=>{PaymentsBox.updatePayAmount(e.payload.target)}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/make_checkbox",e=>{Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.c)(e.payload.target)}),Object(_shared_evbus__WEBPACK_IMPORTED_MODULE_19__.c)().setInteractiveHandler("PaymentsBox/toggle_email",e=>{PaymentsBox.toggleEmail(e.payload.target)})}static initialize(e){PaymentsBox.initHandlers(),window.curNotifier&&curNotifier.idle_manager&&curNotifier.idle_manager.started&&(isArray(cur.onUnidle)||(cur.onUnidle=[]),isArray(cur.onIdle)||(cur.onIdle=[]),cur.onUnidle.push(()=>{cur.getVotesDoneHide=!0}),cur.onIdle.push(()=>{cur.getVotesDoneHide=!1}));var t={bodyStyle:"padding: 0;",hideButtons:!0};if(cur.paymentsWideBox){var n={width:cur.checkoutEnabled?800:780,height:390};cur.checkoutEnabled||(n.title=!1),t=extend(t,n)}else t=extend(t,{width:480});e.setOptions(extend(t,{onClean:()=>{var t="sms"===cur.votesType&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_box_progress");for(var n in cur.smsChkStatInt&&clearInterval(cur.smsChkStatInt),cur.paymentsWaitingCache)cur.paymentsWaitingCache[n][2]&&clearInterval(cur.paymentsWaitingCache[n][2]);cur.smsAmountsInt&&clearTimeout(cur.smsAmountsInt),cur.isPaymentsAppOrder&&(cur.isPaymentComplete||cur.isPaymentAttemted)?e.onDone?e.onDone():(e.hide(),_web_payments_app_order_box__WEBPACK_IMPORTED_MODULE_18__.a.processOrder(1,e)):cur.isPaymentsAppOrder&&!cur.paymentsCheckOrderCnt&&cur.paymentsOrderBillPeriod&&cur.onSubscriptionCancel?cur.onSubscriptionCancel():cur.isPaymentsAppOrder&&!cur.paymentsCheckOrderCnt&&cur.onAppOrderCancel?cur.onAppOrderCancel():cur.paymentsTryCompleteOrder&&(cur.isPaymentComplete||cur.isPaymentAttemted)&&e.onDone&&e.onDone(),PaymentsBox.removeCheckOffersEvent(),window.removeEventListener("message",PaymentsBox.frameMessage,!1),window.removeEventListener("message",PaymentsBox.handlePaymentCompleteMessage,!1),t&&Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.f)(getLang("payments_get_votes_box_close_notice"),{out:6e3})}})),(cur.fromInstantPay||cur.paymentsAuthPayment)&&(e.onDone=!1),cur.votesBox=e,cur.destroy.push(()=>{for(;boxQueue.count();)boxQueue.hideLast(!1)}),cur.checkoutEnabled?cur.paymentsWideBox?(PaymentsBox.showProgress(""),PaymentsBox.submitDmrCheckout(cur.paymentsPreferVotes,!0)):(show("payments_getvotes_cont"),window.radioBtns.payments_getvotes_amounts={els:Array.prototype.slice.apply(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.K)("radiobtn",ge("payments_getvotes_amounts")))},PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm)):cur.votesTypeInit&&(PaymentsBox.getVotesAmounts(!1,cur.votesTypeInit),cur.votesTypeInit=!1)}static initPhoneCountry(e,t){cur.countries=e,cur.defCountry=t,cur.uiPhoneCountry=new Dropdown(ge("phone_country"),cur.countries,{selectedItems:t,big:!0,autocomplete:!0,multiselect:!1,onChange:e=>{var t=ge("phone"),n=ge("payments_phone_prefix"),r=cur.uiPhoneCountry.val_full()[3];if(0===e||"0"===e||""===e||!1===e||void 0===e){var o=val(n);if(r==o)return;for(var a=0,i=cur.countries.length;a<i;++a)if(cur.countries[a][3]==o)return cur.uiPhoneCountry.val(cur.countries[a]);return cur.uiPhoneCountry.val(cur.defCountry,!0)}val(n,r),setTimeout(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.H.pbind(t),0)}}),cur.destroy.push(cur.uiPhoneCountry.destroy.bind(cur.uiPhoneCountry))}static initPhoneNumber(e){e&&["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach((function(t){e.addEventListener(t,e=>{var t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.r)("input",e.target);t&&(t.value=t.value.replace(/\D/g,""))})}))}static validateEmail(e){return e.length<64&&e.match(/^.{1,40}@.{1,40}$/)&&e.match(/^([a-z0-9_\-]{0,40}\.){0,10}[a-z0-9_\-*]{1,40}@(([a-z0-9][a-z0-9_\-]{0,40})?[a-z0-9]\.){1,6}[a-z]{2,7}$/i)}static getEmail(){var e=!1;if(cur.paymentsEmailCheckbox)if(Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.l)(cur.paymentsEmailCheckbox)){if(!(e=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.I)(val(cur.paymentsEmailInput))))return Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.q)(cur.paymentsEmailInput),""}else e="false";return e}static toggleEmail(e){"INPUT"===e.tagName&&(e=geByClass1("checkbox",Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.C)(e)),Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.l)(e))||(Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.c)(e),Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.l)(e)&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.H)(cur.paymentsEmailInput))}static unbind(e,t,n,r){if(!Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.k)("payments_getvotes_submit")){var o=cur.paymentsPreferVotes;if(n){var a={act:"a_del_instant_method",type:e,prefer_votes:r?-1:o,hash:t};cur.isPaymentsAppOrder&&cur.paymentsOrderAppId&&(a.aid=cur.paymentsOrderAppId),ajax.post("al_payments.php",a,{onDone:PaymentsBox.getVotesAmountsOnDone,onFail:function(e){return PaymentsBox.showBoxError(e),!0},showProgress:()=>{cur.confirmBox?cur.confirmBox.showProgress():Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o)("payments_getvotes_submit")},hideProgress:()=>{cur.confirmBox?cur.confirmBox.hide():Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit")}})}else{var i="card"==e?getLang("payments_unbind_card_confirm"):getLang("payments_revoke_token_confirm");cur.confirmBox=Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_8__.d)({title:getLang("global_action_confirmation"),dark:1,forceNoBtn:1,bodyStyle:"padding: 20px; line-height: 160%;"},i,getLang("payments_unbind_card_btn"),()=>{PaymentsBox.unbind(e,t,!0)},getLang("global_cancel"))}}}static instantPay(){if(!Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.k)("payments_getvotes_submit")){var e=Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.b)();if(cur.isPaymentAttemted=!0,cur.paymentsAuthPayment)e.hide();else{var t,n,r;if(ge("payments_getvotes_amounts")&&(cur.votesAmountsVal=Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.s)("payments_getvotes_amounts")),void 0===cur.votesAmountsData[cur.votesAmountsVal]){var o=ge("votes_num")?parseInt(ge("votes_num").value,10):0;if(!(o>0))return;cur._otherVotes=o,t=cur._otherAmount,n=cur._otherAmount,r=cur.votesAmountCustomTimeHash}else t=cur.votesAmountsData[cur.votesAmountsVal][2],n=cur.votesAmountsData[cur.votesAmountsVal][3],r=cur.votesAmountsData[cur.votesAmountsVal][4];var a={act:"a_getvotes_charge",type:cur.votesType,instant_pay:1,amount:t,order_amount:n,hash:r};cur.statSessionId&&(a.stat_session_id=cur.statSessionId),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(a.order_id=cur.paymentsOrderId,a.order_app_id=cur.paymentsOrderAppId,a.order_bill_period=cur.paymentsOrderBillPeriod,a.order_hash=cur.paymentsOrderHash),PaymentsBox.disablePaymentTypesRows(),ajax.post("al_payments.php",a,{onDone:(e,t)=>{cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(()=>{PaymentsBox.checkStatus(cur.votesType,e)},2e3),PaymentsBox.showProgress&&PaymentsBox.showProgress()},onFail:e=>(PaymentsBox.showBoxError(e),!0),showProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o.pbind("payments_getvotes_submit"),hideProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w.pbind("payments_getvotes_submit")})}}}static showAllPrices(e){return each(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.K)("radiobtn",ge("payments_getvotes_amounts")),(e,t)=>{show(t)}),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.kb)(e),!1}static paymentsShowTerminalTT(e,t){var n="";cur.paymentsTooltips[t]&&(n+=cur.paymentsTooltips[t]),n&&Object(_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_9__.c)(e,{text:n,dir:"auto",slide:15,className:"payments_terminal_tt",shift:[-3,3],hasover:1})}static updatePayAmount(o){var v=o.value.replace(/[^0-9]/g,""),i=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.r)(parseInt(v,10));v=i<1e4?i:parseInt(i.toString().substr(0,4),10),o.value!=v&&(o.value=v);var amount=0;if(cur.votesAmountsData.calcPayAmount){-1==cur.votesAmountsData.calcPayAmount.indexOf("return")&&(cur.votesAmountsData.calcPayAmount="return "+cur.votesAmountsData.calcPayAmount);var calcFunc="(function(votes){"+cur.votesAmountsData.calcPayAmount+";})("+v+")";try{amount=eval(calcFunc)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.d)(e,calcFunc)}amount=amount?Math.ceil(100*amount)/100:0,amount=parseInt(amount,10)==amount?amount.toFixed(0):amount.toFixed(2),cur._otherAmount=amount,cur._otherVotes=v}var bonusElement=ge("payments_other_votes_bonus");if(bonusElement&&(cur.votesAmountsData.bonusesTable||cur.votesAmountsData.calcBonusVotes)){var bonus=0;if(cur.votesAmountsData.calcBonusVotes){var _calcFunc="(function(votes){"+cur.votesAmountsData.calcBonusVotes+";})("+v+")";try{bonus=eval(_calcFunc)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.d)(e,_calcFunc)}}else for(var j in cur.votesAmountsData.bonusesTable)if(v>=j){var _bonus=Math.floor(v*cur.votesAmountsData.bonusesTable[j]/j);_bonus>bonus&&(bonus=_bonus)}bonus?(bonusElement.innerHTML=getLang("payments_bonus_votes",bonus),show(bonusElement)):hide(bonusElement)}cur.votesAmountsData.currency_str?ge("votes_amount").innerHTML=amount>0?Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.j)(amount,cur.votesAmountsData.currency_str):"":ge("votes_amount").innerHTML=amount>0?getLang("payments_votes_cost_in_rubles",amount):""}static onChangeOption(e,t,n){var r;if(Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.r)(e,t,n),"payments_getvotes_amounts"===n){var o=cur.votesAmountsData[t];o?(cur.votesAmountsVal=t,r=getLang("payments_get_votes_for_X").replace("{amount}",o[1]),val("votes_num",""),val("votes_amount",""),cur.paymentsEmailCheckbox&&Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.l)(cur.paymentsEmailCheckbox)&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.H)(cur.paymentsEmailInput)):(r=cur.payments_get_votes,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.H)("votes_num")),cur.checkoutEnabled?PaymentsBox.setButtons(r,PaymentsBox.showConfirm):PaymentsBox.setButtons(r,cur.votesAmountIsInstant||o&&o.length>=5?PaymentsBox.instantPay:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes)}}static setConfirmButtons(){if("card"!=cur.votesType&&cur.psList[cur.votesType]){var e=cur.forcedPaymentMethod?void 0:cur.paymentsWideBox?getLang("payments_back_to_ps_list"):getLang("payments_go_ps_list"),t=!cur.psList[cur.votesType].in_menu;cur.paymentsInstantPayType==cur.votesType?t?PaymentsBox.setButtons(getLang("payments_pay_order_btn"),PaymentsBox.instantPay,e,PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(getLang("payments_pay_order_btn"),PaymentsBox.instantPay):t?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,e,PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm)}else cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes)}static popupWrite(e){return!(e.document.innerHTML==cur._popup_text||!cur._popup_text)&&(e.document.write(cur._popup_text),e.document.close(),e.blur(),e.focus(),cur._popup_callback&&cur._popup_callback(),!0)}static show3DsFrame(e,t){if(cur.threeds_submitted)return!0;cur.threeds_submitted=!0;var n=ge("payments_iframe_container"),r=ge("cards_iframe");r||((r=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.g)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:n.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden"})).frameBorder=0,n.innerHTML="",n.appendChild(r));var o=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.g)("form",{target:"card_iframe",method:"POST",action:e});for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&o.appendChild(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.g)("input",{type:"hidden",name:a,value:t[a]}));n.appendChild(o),addClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame"),show("payments_iframe_container"),hide("payments_box_progress"),o.submit()}static submitDmrCheckout(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_box_progress")||t){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o)("payments_getvotes_submit");var n=cur.psList.dmr_checkout,r=!1,o=(e*n.vote_cost).toFixed(2);if(!e||e<=0?r=getLang("payments_web_no_sum"):n.min_amount&&e<n.min_amount?r=getLang("payments_min_amount_limit_votes").replace("%s",n.min_amount):n.max_amount&&e>n.max_amount?r=getLang("payments_max_amount_limit_votes").replace("%s",n.max_amount):void 0!==n.rest_amount_day&&e>n.rest_amount_day?r=getLang("payments_rest_amount_day_votes").replace("%s",n.rest_amount_day):void 0!==n.rest_amount_week&&e>n.rest_amount_week&&(r=getLang("payments_rest_amount_week_votes").replace("%s",n.rest_amount_week)),r)return PaymentsBox.showBoxError(r),!1;var a=PaymentsBox.getEmail();if(""===a)return Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),!1;if(a&&"false"!==a&&!PaymentsBox.validateEmail(a))return Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.q)(cur.paymentsEmailInput),PaymentsBox.showBoxError(getLang("payments_error_invalid_email")),!1;removeClass("payments_iframe_container","payments_threeds_checkout_frame");var i=ge("payments_iframe_container"),s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.g)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:i.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden",display:"block",borderRadius:"0 0 4px 4px"});s.frameBorder=0,i.innerHTML="",i.style.height=s.style.height,i.appendChild(s),window.addEventListener("message",PaymentsBox.frameMessage,!1);var c=cur.votesType;!c&&cur.votesTypeInit&&(c=cur.votesTypeInit);var u={act:"a_getvotes_charge",type:"dmr_checkout",hash:cur.paymentsHash,amount:o,stat_session_id:cur.statSessionId,votes:e};c&&(u.pay_method=c),cur.paymentsAuthPayment&&(u.only_auth=1),a&&(u.email=a),cur.votesAmountsData.appoveCode&&(u.approve_code=cur.votesAmountsData.appoveCode),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(u.order_id=cur.paymentsOrderId,u.order_app_id=cur.paymentsOrderAppId,u.order_bill_period=cur.paymentsOrderBillPeriod,u.order_hash=cur.paymentsOrderHash),cur.votesAmountsData.purchaseDescr&&(u.purchase_descr=cur.votesAmountsData.purchaseDescr),PaymentsBox.trackingProtectionEnabled((function(){Object(_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.a)("payments",0,"votes","dmr_checkout","iframe_track_protection_enabled")}),(function(){Object(_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.a)("payments",0,"votes","dmr_checkout","iframe_track_protection_disabled")})),ajax.post("al_payments.php",u,{onDone:function(t,r,a){if(t){if(-2==t){var i=getLang("global_money_amount_rub",Math.floor(o));return val("payments_getvotes_confirm_msg",r),val("payments_box_votes_num",e),val("payments_box_amount",i),val("payments_box_votes_money",getLang("payments_money_for_votes",e).replace("{money}",i)),cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_hash=a,val("confcode",""),show("payments_box_confcode_wrap"),PaymentsBox.enablePaymentTypesRows(),void PaymentsBox.approveGetCode()}if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_confirm")&&PaymentsBox.showVotesAmounts(),!cur.paymentsWideBox){var s=ge("payments_getvotes_submit");PaymentsBox.setButtons(s.innerHTML,PaymentsBox.showConfirm,getLang("global_back"),PaymentsBox.showVotesAmounts)}cur._popup_text=r,cur._popup_callback=!1,cur._popup_callback=function(){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),hide("payments_getvotes_wrap","payments_getvotes_buttons","payments_box_progress","payments_box_error"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0};var c=ge("card_iframe");c.contentWindow.document.open("text/html","replace"),c.contentWindow.document.write(r),c.contentWindow.document.close(),cur._popup_callback(),cur.smsChkData=t,cur.isPaymentComplete=cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus("dmr_checkout",t),n.use_iframe&&(cur.isPaymentCanceled||cur.isPaymentFailed)?(clearInterval(cur.smsChkStatInt),PaymentsBox.showVotesAmounts(),cur.isPaymentFailed?PaymentsBox.showBoxError(getLang("payments_landing_cancelled")):PaymentsBox.showBoxError(getLang("payments_payment_cancelled")),window.removeEventListener("message",PaymentsBox.frameMessage,!1)):cur.isPaymentComplete&&"dmr_checkout"!=n.name&&PaymentsBox.showTypes()}),2e3)}},onFail:e=>(Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.k)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0),frame:_web_lib_browser__WEBPACK_IMPORTED_MODULE_11__.a.safari_mobile})}}static submitCard(e){if(!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_box_progress")){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o)("payments_getvotes_submit");var t=cur.psList.card,n=!1,r=(e*t.vote_cost).toFixed(2);if(!e||e<=0?n=getLang("payments_web_no_sum"):t.min_amount&&e<t.min_amount?n=getLang("payments_min_amount_limit_votes").replace("%s",t.min_amount):t.max_amount&&e>t.max_amount?n=getLang("payments_max_amount_limit_votes").replace("%s",t.max_amount):null!=t.rest_amount_day&&e>t.rest_amount_day?n=getLang("payments_rest_amount_day_votes").replace("%s",t.rest_amount_day):null!=t.rest_amount_week&&e>t.rest_amount_week&&(n=getLang("payments_rest_amount_week_votes").replace("%s",t.rest_amount_week)),n)return PaymentsBox.showBoxError(n),!1;var o,a=PaymentsBox.getEmail();if(""===a)return Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),!1;if(a&&"false"!==a&&!PaymentsBox.validateEmail(a))return Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.q)(cur.paymentsEmailInput),PaymentsBox.showBoxError(getLang("payments_error_invalid_email")),!1;if(cur.votesAmountsData.needApprove){var i=getLang("global_money_amount_rub",Math.floor(r));return val("payments_getvotes_confirm_msg",cur.votesAmountsData.needApprove),val("payments_box_votes_num",e),val("payments_box_amount",i),val("payments_box_votes_money",getLang("payments_money_for_votes",e).replace("{money}",i)),cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),val("confcode",""),delete cur.votesAmountsData.needApprove,show("payments_box_confcode_wrap"),void PaymentsBox.approveGetCode()}if(PaymentsBox.disablePaymentTypesRows(),t.use_iframe){var s=ge("payments_iframe_container"),c=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.g)("iframe",{id:"card_iframe",name:"card_iframe"},{border:0,height:"435px",width:s.parentNode.offsetWidth+"px",overflowX:"hidden",overflowY:"hidden"});c.frameBorder=0,s.innerHTML="",s.appendChild(c),window.addEventListener("message",PaymentsBox.frameMessage,!1)}else{o=window.open("","_blank","scrollbars=1, resizable=1, menubar=1, left=0, top=0, toolbar=1, status=1"),cur._popup_text=PaymentsBox.popupHtml(getLang("payments_cards_redirect"),"",""),PaymentsBox.popupWrite(o)}var u={act:"a_getvotes_charge",type:"card",hash:cur.paymentsHash,amount:r,stat_session_id:cur.statSessionId};cur.paymentsAuthPayment&&(u.only_auth=1),a&&(u.email=a),cur.votesAmountsData.appoveCode&&(u.approve_code=cur.votesAmountsData.appoveCode),cur.isPaymentsAppOrder&&cur.paymentsOrderId&&(u.order_id=cur.paymentsOrderId,u.order_app_id=cur.paymentsOrderAppId,u.order_bill_period=cur.paymentsOrderBillPeriod,u.order_hash=cur.paymentsOrderHash),PaymentsBox.trackingProtectionEnabled((function(){Object(_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.a)("payments",0,"votes","dmr","iframe_track_protection_enabled")}),(function(){Object(_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.a)("payments",0,"votes","dmr","iframe_track_protection_disabled")})),ajax.post("al_payments.php",u,{onDone:function(n,a,i){if(n){if(-2==n){t.use_iframe||o.close();var s=getLang("global_money_amount_rub",Math.floor(r));return val("payments_getvotes_confirm_msg",a),val("payments_box_votes_num",e),val("payments_box_amount",s),val("payments_box_votes_money",getLang("payments_money_for_votes",e).replace("{money}",s)),cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_hash=i,val("confcode",""),show("payments_box_confcode_wrap"),PaymentsBox.enablePaymentTypesRows(),void PaymentsBox.approveGetCode()}if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_confirm")&&PaymentsBox.showVotesAmounts(),t.use_iframe||(Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),PaymentsBox.showProgress()),cur._popup_text=a,cur._popup_callback=!1,t.use_iframe){cur._popup_callback=function(){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),hide("payments_getvotes_wrap","payments_getvotes_buttons","payments_box_progress","payments_box_error"),show("payments_iframe_container"),ge("payments_iframe_container").scrollTop=0};var c=ge("card_iframe");c.contentWindow.document.open("text/html","replace"),c.contentWindow.document.write(a),c.contentWindow.document.close(),cur._popup_callback()}else o.document.open("text/html","replace"),o.document.write(a),o.document.close(),o.blur(),o.focus();cur.smsChkData=n,cur.isPaymentComplete=cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus("card",n),!t.use_iframe&&o.closed?setTimeout((function(){cur.isPaymentComplete||(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons())}),500):t.use_iframe&&(cur.isPaymentCanceled||cur.isPaymentFailed)?(clearInterval(cur.smsChkStatInt),PaymentsBox.showVotesAmounts(),cur.isPaymentFailed?PaymentsBox.showBoxError(getLang("payments_landing_cancelled")):PaymentsBox.showBoxError(getLang("payments_payment_cancelled")),window.removeEventListener("message",PaymentsBox.frameMessage,!1)):cur.isPaymentComplete&&"alfabank"!=t.name&&"dmr"!=t.name&&PaymentsBox.showTypes()}),2e3)}},onFail:function(e){return t.use_iframe||o.close(),Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.k)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0},frame:_web_lib_browser__WEBPACK_IMPORTED_MODULE_11__.a.safari_mobile})}}static trackingProtectionEnabled(e,t){var n=new XMLHttpRequest;n.open("GET","https://top-fwz1.mail.ru/counter2?id=1",!0),n.onreadystatechange=function(){200!==n.status?e():t(),n.onreadystatechange=null},n.send()}static submitPaymentSystem(e){if(!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_box_progress")){var t=cur.votesType,n=cur.psList[t],r=!1,o=0,a=0,i=0,s=0;if(!n.simple_redirect){if(!e)return;o=(e*n.vote_cost).toFixed(2),a=(e*n.vote_cost/cur.usdRate).toFixed(2),i=Math.floor(o),s=100*(o-i),!e||e<=0?r=getLang("payments_web_no_sum"):n.min_amount&&e<n.min_amount?r=getLang("payments_min_amount_limit_votes").replace("%s",n.min_amount):n.max_amount&&e>n.max_amount?r=getLang("payments_max_amount_limit_votes").replace("%s",n.max_amount):null!=n.rest_amount_day&&e>n.rest_amount_day?r=getLang("payments_rest_amount_day_votes").replace("%s",n.rest_amount_day):null!=n.rest_amount_week&&e>n.rest_amount_week&&(r=getLang("payments_rest_amount_week_votes").replace("%s",n.rest_amount_week))}if(r)return PaymentsBox.showBoxError(r),!1;var c=PaymentsBox.getEmail();if(""!==c)if(!c||"false"===c||PaymentsBox.validateEmail(c)){if(PaymentsBox.showProgress(),PaymentsBox.disablePaymentTypesRows(),"mailmoney_vkpay"===t){var u={act:"a_getvotes_charge",type:t,hash:cur.paymentsHash,amount:o,random_auth:0,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",u,{onDone:e=>{var t=Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.b)(),n={noLocChange:1,skipBoxesHide:1,noClickHide:1};cur.isPaymentsAppOrder?cur.app.openAppInLayer(e,!1,!0,n):Object(_web_lib_feature_entries__WEBPACK_IMPORTED_MODULE_13__.H)({w:e},!1,!1,n),t._hide(!1,!0),cur.onExternalAppDone=e=>{t._show(),e.status||(PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons(),clearInterval(cur.smsChkStatInt)),cur.onExternalAppDone=null,window.WkView&&WkView.hide(!1,!0)},cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus(cur.votesType,_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.l,null,t)}),2e3)},onFail:e=>(PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0)})}else{if(cur.votesAmountsData.oauth_url&&(!ge("payments_remember_wallet")||Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.l)("payments_remember_wallet"))){var l=cur.votesAmountsData.oauth_params,_="";for(var d in l){if(Object.prototype.hasOwnProperty.call(l,d))_+=`<input type="hidden" autocomplete="off" name="${d}" value="${l[d]}"/>`}var p=ge("paymentSystemsForm");p.action=cur.votesAmountsData.oauth_url,p.method="post",p.innerHTML=_;var f=cur.votesAmountsData.popup_params||{},h=f.width||700,m=f.height||600,b=`scrollbars=1, resizable=1, menubar=0, left=${Math.floor(window.screen.width/2)-h/2}, top=${Math.floor(window.screen.height/2)-m/2}, width=${h}, height=${m}`,g=getLang("payment_redirect").replace("%s",n.title),v=`<form action="${p.action}" method="${p.method}" id="popup_payment_form" accept-charset="UTF-8">${p.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(g,v,"document.getElementById('popup_payment_form').submit()"),cur._popup_callback=!1,window.addEventListener("message",PaymentsBox.handlePaymentCompleteMessage,!1);var y=window.open("","_blank",b);cur.smsChkStatCnt=0,cur.oauthState=0;var O=0;return cur.smsChkStatInt=setInterval((function(){if(2==cur.oauthState)PaymentsBox.checkStatus(cur.votesType,cur.smsChkData);else if(0==cur.oauthState&&(O=cur.isPaymentComplete&&cur.paymentCompleteParams&&cur.paymentCompleteParams.code?cur.paymentCompleteParams.code:0)){cur.oauthState=1;var e={act:"a_getvotes_charge",type:t,oauth_code:O,hash:cur.paymentsHash,amount:o,stat_session_id:cur.statSessionId};return cur.paymentsAuthPayment&&(e.only_auth=1),c&&(e.email=c),void ajax.post("al_payments.php",e,{onDone:e=>{cur.oauthState=2,cur.smsChkData=e},onFail:e=>(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0)})}(y.closed&&!cur.isPaymentComplete||cur.isPaymentComplete&&!O)&&(clearInterval(cur.smsChkStatInt),cur.isPaymentComplete?PaymentsBox.showBoxError(getLang("payments_sms_money_fail")):PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),PaymentsBox.setConfirmButtons())}),2e3),void PaymentsBox.popupWrite(y)}if(cur.votesAmountsData.provider&&-1!==["dmr","paypal","yandexmoney","api_provider"].indexOf(cur.votesAmountsData.provider)){var w,E=getLang("payment_redirect").replace("%s",n.title),j={act:"a_getvotes_charge",type:t,hash:cur.paymentsHash,amount:o,random_auth:0,stat_session_id:cur.statSessionId};if(c&&(j.email=c),"paypal"===cur.votesAmountsData.provider||"yandexmoney"===cur.votesAmountsData.provider){var D;if(ge("payments_remember_wallet")?(j.remember_wallet=Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.l)("payments_remember_wallet")||cur.forceRebind,cur.forceRebind&&(cur.forceRebind=!1)):j.remember_wallet=1,j.remember_wallet){var P=cur.votesAmountsData.popup_params||{},k=P.width||700,C=P.height||600;D=`scrollbars=1, resizable=1, menubar=0, left=${Math.floor(window.screen.width/2)-k/2}, top=${Math.floor(window.screen.height/2)-C/2}, width=${k}, height=${C}`}else{D="scrollbars=1, resizable=1, menubar=1, left=0, top=0, toolbar=1, status=1"}w=j.remember_wallet?window.open("","",D):window.open("","_blank",D);var T=getLang("payment_redirect").replace("%s",n.title);cur._popup_text=PaymentsBox.popupHtml(T,"",""),PaymentsBox.popupWrite(w)}ajax.post("al_payments.php",j,{onDone:function(e,t,n){if(e){var r="api_provider"!==cur.votesAmountsData.provider;cur.canOpenPopup=r;var o=!r;PaymentsBox.checkStatusCallback=e=>{if("paypal"===cur.votesAmountsData.provider||"yandexmoney"===cur.votesAmountsData.provider){if(w&&!w.closed&&!o){o=!0;var t=ge("paymentSystemsForm");t.action=e.action,t.method="get";var n="";for(var r in e.params){if(Object.prototype.hasOwnProperty.call(e.params,r))n+=`<input type="hidden" autocomplete="off" name="${r}" value="${e.params[r]}"/>`}t.innerHTML=n;var a=`<form action="${t.action}" method="${t.method}" id="popup_payment_form" accept-charset="UTF-8">${t.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(E,a,"document.getElementById('popup_payment_form').submit()"),PaymentsBox.popupWrite(w)}(w.closed&&!cur.isPaymentComplete||cur.isPaymentComplete)&&(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(cur.isPaymentComplete?getLang("payments_sms_money_fail"):getLang("payments_payment_cancelled")),PaymentsBox.setConfirmButtons())}else cur._popup||(cur._popup=window.open("","_blank"))},cur.smsChkData=e,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(()=>{PaymentsBox.checkStatus(cur.votesType,e)},2e3)}},onFail:function(e){return Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.k)("payments_getvotes_submit")||PaymentsBox.setConfirmButtons(),PaymentsBox.showBoxError(e),!0}})}else{if(!cur.isAdsPayment){var x={act:"a_getvotes_invoice",type:cur.votesType,amount:o,votes:e,invoice_hash:cur.votesAmountsData.invoice_hash,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",x)}var I=n.gate_params,A="",M=ge("paymentSystemsForm"),S=(new Date).getTime();for(var L in I)if(Object.prototype.hasOwnProperty.call(I,L)){var B=I[L];A+=`<input type="hidden" autocomplete="off" name="${L}" value="${B=(B=(B=(B=(B=(B=B.replace("{amount_votes}",e)).replace("{amount_rub}",o)).replace("{amount_usd}",a)).replace("{amount_rub_int}",i)).replace("{amount_rub_frac}",s)).replace("{time}",S)}"/>`}var R=n.gate_url;R=(R=(R=(R=(R=(R=R.replace("{time}",S)).replace("{amount_votes}",e)).replace("{amount_rub}",o)).replace("{amount_usd}",a)).replace("{amount_rub_int}",i)).replace("{amount_rub_frac}",s),M.action=R,M.method=n.gate_method,M.innerHTML=A;var N=!1;try{var U=getLang("payment_redirect").replace("%s",n.title),F=`<form action="${M.action}" method="${M.method}" id="popup_payment_form" accept-charset="${n.gate_charset}">${M.innerHTML}</form>`;cur._popup_text=PaymentsBox.popupHtml(U,F,`Payments.submitPopupForm("${t}", "${e}", "${o}", "${a}")`),cur._popup_callback=!1,N=window.open("","_blank","scrollbars=1, resizable=1, menubar=1, left=0, top=0, toolbar=1, status=1"),Object(_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.a)("payments","","votes",t,"start"),cur.smsChkData=!1,cur.isPaymentComplete=!1,cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval((function(){PaymentsBox.checkStatus(cur.votesType,!1),N.closed&&!cur.isPaymentComplete&&(clearInterval(cur.smsChkStatInt),PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),n.simple_redirect?PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes):PaymentsBox.setConfirmButtons())}),2e3),PaymentsBox.popupWrite(N)}catch(e){M.submit()}c&&ajax.post("al_payments.php",{act:"a_set_receipt_email",email:c,hash:cur.paymentsHash},{onFail:e=>!0})}}}else PaymentsBox.showBoxError(getLang("payments_error_invalid_email"))}}static approveSendCode(){var e=ge("confcode").value;if(e.length){hide("payments_box_error");for(var t=0,n=0;n<e.length;n++)t+=parseInt(e[n]);if((t%=10)!=cur.votesAmountsData.approveCodeChk)return PaymentsBox.showBoxError(getLang("payments_invalid_code")),void Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.q)("confcode");cur.votesAmountsData.appoveCode=e,PaymentsBox.showConfirm()}else Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.q)("confcode")}static approveGetCode(e){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o)("payments_getvotes_submit");var t={act:"a_getvotes_approve_code",hash:cur.votesAmountsData.confirm_hash};return e&&(t.resend=1),ajax.post("al_payments.php",t,{onDone:function(t,n){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),1==t?PaymentsBox.showBoxError(n):e||(cur.votesAmountsData.approveCodeChk=n,PaymentsBox.refreshBox(),show("payments_getvotes_confirm"),PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.approveSendCode,cur.paymentsChangeType,cur.checkoutEnabled?PaymentsBox.showVotesAmounts:PaymentsBox.showTypes))},onFail:function(e){return PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),!0}}),!1}static smsSendPin(){if(null==cur.votesAmountsVal)return!1;var e=cur.votesAmountsData[cur.votesAmountsVal][3],t=cur.votesAmountsData[cur.votesAmountsVal][2];if(4!=e&&8!=t&&(2!=e||5!=t))return!1;var n=ge("confcode").value;n.length&&(Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o)("payments_getvotes_submit"),ajax.post("al_payments.php",{act:"a_getvotes_validate",code:n,oid:cur.votesAmountsData[cur.votesAmountsVal][3],qid:cur.smsChkData.qid,hash:cur.smsChkData.hash},{onDone:function(){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),PaymentsBox.showProgress(),cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind("sms",cur.smsChkData),2e3)},onFail:function(e){return PaymentsBox.showBoxError(e),!0}}))}static smsSendCode(){if("card"===cur.votesType)return!1;if(null!=cur.votesAmountsVal){var e=cur.votesAmountsData[cur.votesAmountsVal][3],t=cur.votesAmountsData[cur.votesAmountsVal][2];if(4==e||8==t||2==e&&5==t)return PaymentsBox.smsSendPin()}var n=ge("confcode").value;n.length?(Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o)("payments_getvotes_submit"),ajax.post("al_payments.php",{act:"a_getvotes_validate",pid:cur.votesAmountsVal,code:n,hash:cur.votesAmountsData[cur.votesAmountsVal].hash},{onDone:function(e){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),e&&3==cur.votesAmountsData[cur.votesAmountsVal][2]?PaymentsBox.getVotesCharge(!1,!0):e&&PaymentsBox.getVotesCharge()},onFail:function(e){return PaymentsBox.showBoxError(e),!0}})):Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.q)("confcode")}static smsGetCode(e){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o)("payments_getvotes_submit");var t={act:"a_getvotes_validate",hash:cur.votesAmountsData[cur.votesAmountsVal].hash,pid:cur.votesAmountsVal};e&&(t.resend=1),ajax.post("al_payments.php",t,{onDone:function(e,t){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),2==e?(PaymentsBox.showBoxError(t,"ok_msg"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.H)("confcode")):e&&3==cur.votesAmountsData[cur.votesAmountsVal][2]?PaymentsBox.getVotesCharge(!1,!0):e?PaymentsBox.getVotesCharge():(PaymentsBox.refreshBox(),show("payments_getvotes_confirm"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.H)("confcode"),cur.paymentsWideBox?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.smsSendCode,getLang("payments_change_phone_number"),PaymentsBox.showPhoneForm):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.smsSendCode,cur.paymentsChangeType,PaymentsBox.showTypes))},onFail:function(e){return PaymentsBox.showBoxError(e),PaymentsBox.setConfirmButtons(),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.H)("confcode"),!0}})}static confirmPinCode(){var e=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.I)(ge("confcode").value);if(e.length){var t={act:"a_getvotes_confirm_pin",hash:cur.updateTnxHash,ps:cur.votesType,qid:cur.smsChkData.qid,pin:e};PaymentsBox.showProgress(),ajax.post("al_payments.php",t,{onDone:function(){cur.smsChkStatInt=setInterval(()=>{PaymentsBox.checkStatus(cur.votesType,cur.smsChkData)},2e3)},onFail:function(e){PaymentsBox.refreshBox(),PaymentsBox.showBoxError(e)}})}else Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.q)("confcode")}static checkPinKeyPress(e){if(!((e=e||window.event).ctrlKey||e.altKey||e.metaKey)){var t=null;if(null===e.which&&e.keyCode>=32?t=String.fromCharCode(e.keyCode):0!==e.which&&0!==e.charCode&&e.which>=32&&(t=String.fromCharCode(e.which)),null!==t)return!(t<"0"||t>"9")&&void 0}}static fillBDay(){var params={act:"a_getvotes_fill_bday"};ajax.post("al_payments.php",params,{onDone:function onDone(js){if(js)try{eval(js)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.d)(e,js)}}})}static showOffer(e){var t={act:"a_getvotes_offer",offer_id:e,offer_aid:cur.paymentsOfferApp||0,app_currency:cur.offersAppCurrency||0};cur.app&&cur.app.options&&(t.aid=cur.app.options.aid),cur.paymentsOfferPreview&&(t.offer_view=cur.paymentsOfferPreview),ajax.post("al_payments.php",t,{onDone:PaymentsBox.offerOnLoad,onFail:e=>(e&&(PaymentsBox.showBoxError(e),hide("payments_getvotes_wrap")),!0)})}static showNextOffers(e){var t={act:"a_getvotes_amounts",type:"offers",offset:cur.offersOffset,app_currency:cur.offersAppCurrency,hash:cur.paymentsHash};cur.app&&cur.app.options&&(t.isAppOrder=cur.paymentsOfferApp?1:0,t.aid=cur.app.options.aid),ajax.post("al_payments.php",t,{onDone:function(t,n){n&&(t||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.kb)(e),cur.offersOffset+=20,ge("payments_offers_wrap").innerHTML+=n,PaymentsBox.checkOffers())},showProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o.pbind(e),hideProgress:_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w.pbind(e)})}static showConfirm(){cur.votesAmountsVal=ge("payments_getvotes_amounts")?Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.s)("payments_getvotes_amounts"):0;var e=ge("votes_num")?parseInt(ge("votes_num").value,10):0;if(void 0!==cur.votesAmountsVal){cur.votesAmountsVal&&null==cur.votesAmountsData[cur.votesAmountsVal]&&ge("votes_num")&&!e&&Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.q)("votes_num");var t=ge("payments_spasibo_rules_accept");if(t&&!Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.l)(t)){var n={text:getLang("payments_spasibo_rules_not_accepted"),dir:"auto",className:"payments_terminal_tt",hasover:1};return cur.paymentsWideBox&&(n=extend(n,{shift:[-30,10]})),void Object(_web_lib_tooltip_utils__WEBPACK_IMPORTED_MODULE_9__.c)(t,n)}if(Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.b)().changed=!0,"sms"===cur.votesType){cur.isResetCheckedMaxSmsVotesValue&&(ge("payments_getvotes_confirm_msg").innerHTML=cur.votesAmountsData.confirm_msg_again,cur.isResetCheckedMaxSmsVotesValue=!1);var r=cur.votesAmountsData.confirm_type;if(2==r&&null!=cur.votesAmountsData.checked_max_sms_votes_val&&(cur.votesAmountsVal=cur.votesAmountsData.checked_max_sms_votes_val,cur.votesAmountsData.checked_max_sms_votes_val=0,cur.isResetCheckedMaxSmsVotesValue=!0),null==cur.votesAmountsData[cur.votesAmountsVal]&&e){if(!r)return void PaymentsBox.getVotesCharge(e,!0);cur.votesAmountsData[-1]=[e,getLang("global_money_amount_rub",cur._otherAmount),cur.votesAmountsData[0][2],0],cur.votesAmountsVal=-1}void 0===cur.votesAmountsData[cur.votesAmountsVal]&&(cur.votesAmountsVal=0);var o=cur.votesAmountsData[cur.votesAmountsVal][0],a=cur.votesAmountsData[cur.votesAmountsVal][1],i=cur.votesAmountsData[cur.votesAmountsVal][2],s=cur.votesAmountsData[cur.votesAmountsVal][3],c=cur.votesAmountsData[cur.votesAmountsVal][6];if(0==i){cur.smsChkData={oid:s,qid:0,hash:cur.votesAmountsData.check_hash};var u=getLang("payments_to_get_send_sms",o);cur.paymentsWideBox||(u+="<br/>"+getLang("payments_service_cost"));var l=cur.votesAmountsData[cur.votesAmountsVal];if(u=(u=(u=u.replace("{number}",cur.votesAmountsData[cur.votesAmountsVal][4])).replace("{text}",`<nobr>${cur.votesAmountsData[cur.votesAmountsVal][5]}${vk.id}</nobr>`)).replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1]),l.invoice_hash&&cur.statSessionId){PaymentsBox.showWaiting("");var _={act:"a_getvotes_invoice",type:cur.votesType,oid:s,votes:o,invoice_hash:l.invoice_hash,stat_session_id:cur.statSessionId};ajax.post("al_payments.php",_,{onDone:function(){ge("payments_getvotes_waiting_msg").innerHTML=u},onFail:function(e){return clearInterval(cur.smsChkStatInt),PaymentsBox.needContinue=0,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_waiting")||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_confirm")?PaymentsBox.showVotesAmounts():PaymentsBox.setButtons(cur.payments_get_votes,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e),!0}})}else PaymentsBox.showWaiting(u)}else if(5==i||6==i||8==i)PaymentsBox.getVotesCharge();else if(7==i){PaymentsBox.getVotesCharge(),cur._popup_text=PaymentsBox.popupHtml(getLang("payments_cards_redirect"),"",""),cur._popup_callback=!1,cur._popup_href=!1;var d="/payments?act=go_gate&type=sms",p=Math.floor(window.screen.width/2)-350,f=Math.floor(window.screen.height/2)-300;Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.b)(d),cur._popup=window.open(d,"_blank",`scrollbars=1, resizable=1, menubar=0, left=${p}, top=${f}, width=700, height=600`)}else if(1!=i&&4!=i&&1!=r)PaymentsBox.getVotesCharge(!1,!0);else{if(val("payments_box_votes_num",o),val("payments_box_amount",a),val("payments_box_votes_money",c),3==s&&(PaymentsBox.checkStatusCallback=function(e){cur.isResetCheckedMaxSmsVotesValue=!1,cur.checkedMaxVotes=e,PaymentsBox.getVotesAmounts(!0)}),2==r&&o<=cur.votesAmountsData.confirm_max_votes){if(cur.paymentsWideBox)return void PaymentsBox.getVotesCharge();hide("payments_box_confcode_wrap"),PaymentsBox.refreshBox(),show("payments_getvotes_confirm"),PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.getVotesCharge,getLang("global_back"),PaymentsBox.showVotesAmounts)}else show("payments_box_confcode_wrap"),PaymentsBox.smsGetCode();cur.votesAmountsData.resend_msg&&val("payments_getvotes_sms_resend",cur.votesAmountsData.resend_msg),cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[s]?(val("payments_getvotes_confirm_comm",cur.votesAmountsData.confirm_wait_comment[s]),show("payments_getvotes_confirm_comm_wrap")):(ge("payments_getvotes_confirm_comm").innerHTML="",hide("payments_getvotes_confirm_comm_wrap"))}}else{var h;h=cur.votesAmountsData[cur.votesAmountsVal]?cur.votesAmountsData[cur.votesAmountsVal][0]:e,cur.checkoutEnabled?PaymentsBox.submitDmrCheckout(h):"card"===cur.votesType?PaymentsBox.submitCard(h):PaymentsBox.submitPaymentSystem(h)}}}static offerOnLoad(html,js){Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),hide("payments_offers_list");var offerView=ge("payments_offer_view");if(offerView){offerView.innerHTML=html,show(offerView);try{eval(js)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.d)(e,js)}}}static showWaiting(e){var t=cur.votesAmountsData[cur.votesAmountsVal]?cur.votesAmountsData[cur.votesAmountsVal][3]:0;ge("payments_getvotes_waiting_msg").innerHTML=e,t&&cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[t]?(ge("payments_getvotes_waiting_comm").innerHTML=cur.votesAmountsData.confirm_wait_comment[t],show("payments_getvotes_waiting_comm")):(ge("payments_getvotes_waiting_comm").innerHTML="",hide("payments_getvotes_waiting_comm")),PaymentsBox.refreshBox(),show("payments_getvotes_waiting"),hide("payments_getvotes_buttons"),cur.paymentsWideBox&&cur.votesAmountsData[cur.votesAmountsVal]&&cur.votesAmountsData[cur.votesAmountsVal][7]?(ge("payments_getvotes_waiting_amount").innerHTML=cur.votesAmountsData[cur.votesAmountsVal][6],ge("payments_getvotes_waiting_phone").innerHTML=cur.votesAmountsData[cur.votesAmountsVal][7],show("payments_getvotes_waiting_mo")):hide("payments_getvotes_waiting_mo"),delete cur.paymentsWaitingCache[cur.votesType],cur.smsChkStatInt&&clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind(cur.votesType,cur.smsChkData),2e3)}static showPhoneForm(e,t){geByClass1("_msg","payments_getvotes_phone").innerHTML=t||getLang("payments_get_votes_input_phone"),ge("phone").value="",PaymentsBox.refreshBox(),t&&cur.paymentsWideBox?PaymentsBox.setButtons(getLang("payments_save_phone"),PaymentsBox.saveSmsPhone):PaymentsBox.setButtons(getLang("payments_save_phone"),PaymentsBox.saveSmsPhone,getLang("global_back"),2==e?PaymentsBox.getVotesAmounts:e?PaymentsBox.showVotesAmounts:PaymentsBox.showTypes),show("payments_getvotes_phone");var n=cur.uiPhoneCountry.container;if("spasibo"===cur.votesType)hide(n),val("payments_phone_prefix","+79");else{var r=cur.uiPhoneCountry.selectedItems();if(r.length>0)val("payments_phone_prefix",r[0][3]);else for(var o=0,a=cur.countries.length;o<a;++o)cur.countries[o][0]==cur.defCountry&&val("payments_phone_prefix",cur.countries[o][3]);show(n)}return cur.paymentsBoxClass=ge("payments_box").className,addClass("payments_box","payments_phone_form"),!1}static showPaySystemsList(){return PaymentsBox.refreshBox(),hide("payments_getvotes_title"),show("payments_getvotes_ps","payments_votes_vkpay_promo_banner"),cur.votesType=!1,PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes),!1}static showVotesAmounts(){return PaymentsBox.refreshBox(),cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm):"card"!==cur.votesType&&cur.psList[cur.votesType]&&!cur.psList[cur.votesType].in_menu?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,getLang("payments_go_ps_list"),PaymentsBox.showPaySystemsList):PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),show("payments_getvotes_cont","payments_getvotes_wrap","payments_getvotes_buttons"),cur.paymentsWideBox&&cur.paymentsOrderNotice&&(Object(_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__.b)("payments_box_error",cur.paymentsOrderNotice,"info_msg",null),show("payments_box_error")),Object(_web_lib_accessibility__WEBPACK_IMPORTED_MODULE_16__.d)(),delete cur.votesAmountsData.appoveCode,!1}static showTypes(){if(cur.paymentsWideBox)return PaymentsBox.showVotesAmounts(),!1;(PaymentsBox.refreshBox(),cur.votesAmountsVal=void 0,cur.votesAmountsData=[],hide("payments_getvotes_buttons"),show("payments_getvotes_method","payments_votes_vkpay_promo_banner"),cur.paymentBoxTitle)&&Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.b)().setOptions({title:cur.paymentBoxTitle});return!1}static setButtons(e,t,n,r){if(!cur.paymentsWideBox||e){if(e){var o=ge("payments_getvotes_submit");o&&(o.innerHTML=e,o.onclick=t,o.dataset.taskClick="",show(o,"payments_getvotes_buttons"))}else hide("payments_getvotes_buttons");if(cur.paymentsWideBox){var a=ge("payments_getvotes_back");a&&(a.innerHTML="",n&&a.appendChild(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.g)("div",{className:"button",innerHTML:n,onclick:r,"data-task-click":""})))}else{var i=Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.b)();i&&(cur.paymentBoxTitle||(cur.paymentBoxTitle=i.getOptions().title),n?(geByClass1("box_title",i.titleWrap).innerHTML=`<div class="back">${getLang("global_box_title_back")}</div>`,geByClass1("back",i.titleWrap).onclick=r,geByClass1("back",i.titleWrap).dataset.taskClick=""):geByClass1("box_title",i.titleWrap).innerHTML=cur.paymentBoxTitle)}}else hide("payments_getvotes_buttons")}static showBoxError(e,t){if("object"==typeof e&&(e=getLang("global_error_occured")),e&&cur.paymentsWideBox&&cur.checkoutEnabled){var n=new MessageBox({title:getLang("global_error"),hideButtons:!0});Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.b)().hide(),n.content(e).show()}else{if(e){var r=ge("payments_box_error");r&&(val(r,""),Object(_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_15__.b)(r,e,t||"error"),show(r))}hide("payments_box_progress","payments_iframe_container"),show("payments_getvotes_wrap"),Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),PaymentsBox.hideRowProgress(),PaymentsBox.enablePaymentTypesRows()}}static showProgress(e){val("payments_box_progress_msg","string"==typeof e?e:getLang("payments_waiting_payment_complete")),hide("payments_box_error","payments_getvotes_wrap","payments_getvotes_buttons"),cur.paymentsWideBox&&e?show("payments_box_progress_link"):e||hide("payments_box_progress_link"),show("payments_box_progress")}static hideRowProgress(){["payments_getvotes_ps",cur.paymentsWideBox?"payments_box_menu":"payments_getvotes_method"].forEach(e=>{Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)(e)&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.K)("payments_getvotes_active_row",ge(e)).forEach(t=>{"payments_box_menu"!==e?removeClass(t,"payments_getvotes_active_row"):removeClass(t,"payments_progress")})})}static refreshBox(){hide("payments_box_progress","payments_box_error","payments_getvotes_method","payments_getvotes_cont","payments_getvotes_phone","payments_getvotes_confirm","payments_getvotes_waiting","payments_getvotes_other","payments_getvotes_terminals","payments_getvotes_ps","payments_iframe_container"),show("payments_getvotes_wrap"),cur.smsChkStatInt&&!cur.paymentsWideBox&&clearInterval(cur.smsChkStatInt),cur.paymentsBoxClass&&(ge("payments_box").className=cur.paymentsBoxClass,cur.paymentsBoxClass=""),PaymentsBox.enablePaymentTypesRows()}static saveSmsPhone(){var e=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.I)(val("phone")),t=Object(_web_lib_utils_common__WEBPACK_IMPORTED_MODULE_7__.I)(val(ge("payments_phone_prefix")||{})||"");e&&(cur.paymentsWaitingCache.sms&&(clearInterval(cur.paymentsWaitingCache.sms[2]),delete cur.paymentsWaitingCache.sms),cur.newSmsPhone=t+e,PaymentsBox.getVotesAmounts())}static startFormMeasure(){cur.formMeasureTime=Date.now(),vk.dev&&Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.b)(cur.formMeasureTime)}static finishFormMeasure(e){if(cur.formMeasureTime){var t=Date.now()-cur.formMeasureTime;vk.dev&&Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.b)(t),delete cur.formMeasureTime,Object(_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.a)("payments_frame_load_time",t,e)}}static frameMessage(e){if(!e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?paymentgate\.ru$/)&&!e.origin.match(/^https?:\/\/([a-zA-Z0-9\-\.]+\.)?money\.mail\.ru$/))return!1;var t={};if(!e.data||"{"!==e.data.substr(0,1)||"billing"===(t=Object(_web_lib_utils__WEBPACK_IMPORTED_MODULE_17__.l)(e.data)).type)if("pageLoad"===t.action)cur.paymentsIgnoreResize=!1;else if("paySuccess"===t.action)cur.paymentsIgnoreResize=!0,cur.checkoutEnabled&&(PaymentsBox.showProgress(),hide("payments_iframe_container"));else if("submit"===e.data||"3dsPage"===t.action)setTimeout(PaymentsBox.frameHeight.pbind(600,!0),200),addClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame");else if("3dsFinish"===t.action)PaymentsBox.frameHeight(),removeClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame");else if("resizeFrame"===t.action)if(t.action_params.height<10&&cur.paymentsIgnoreResize)cur.paymentsIgnoreResize=!1;else{var n=ge("payments_iframe_container");n&&!hasClass(n,"payments_threeds_checkout_frame")&&setTimeout(PaymentsBox.frameHeight.pbind(t.action_params.height),200)}else"putPixel"===t.action&&"page_load"===t.action_params.alias?(PaymentsBox.finishFormMeasure("dmr"),Object(_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.a)("payments",0,"votes","dmr","iframe_loaded")):"session_fail"===t.action?Object(_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_12__.a)("payments",0,"votes","dmr","iframe_session_fail"):"payError"===t.action&&cur.checkoutEnabled?PaymentsBox.checkoutDecline(t.action_params):"typePaymentMethod"===t.action&&cur.checkoutEnabled&&(removeClass("payments_iframe_container","payments_threeds_checkout_frame"),t.action_params&&t.action_params.system&&PaymentsBox.checkoutPayMethodChanged(t.action_params.system))}static frameHeight(e,t){var n=ge("card_iframe");n&&(e?(cur.prevFrameHeight=n.style.height,n.style.height=e+"px"):(n.style.height=cur.prevFrameHeight,removeClass("payments_iframe_container",cur.checkoutEnabled?"payments_threeds_checkout_frame":"payments_threeds_frame")));var r=ge("payments_iframe_container");r&&(cur.paymentsWideBox&&!cur.checkoutEnabled||t||(r.style.height=(e||cur.prevFrameHeight)+(cur.checkoutEnabled?0:10)+"px"),r.scrollTop=0)}static paymentCanceled(e){e?cur.isPaymentFailed=!0:cur.isPaymentCanceled=!0,PaymentsBox.frameHeight()}static checkoutDecline(e){var t=e||{};t.act="checkout_decline",t.qid=cur.smsChkData.qid,t.hash=cur.smsChkData.declineHash,ajax.post("payments",t,{onDone:function(e){return PaymentsBox.stopCheckAndShowError(e),!0},onFail:function(e){return PaymentsBox.stopCheckAndShowError(e),!0}})}static checkoutPayMethodChanged(e){e&&ajax.post("payments",{act:"checkout_ps_choose",qid:cur.smsChkData.qid,pay_method:e})}static stopCheckAndShowError(e){clearInterval(cur.smsChkStatInt),PaymentsBox.needContinue=0,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_waiting")||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_confirm")?PaymentsBox.showVotesAmounts():cur.checkoutEnabled?PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm):PaymentsBox.setButtons(cur.payments_get_votes,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e)}static complete(e,t){cur.paymentCompleteParams=t,cur.isPaymentComplete=!0}static checkStatus(e,t,n,r){if("sms"===e&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_box_progress")&&!cur.paymentsWideBox&&7!=cur.votesAmountsData[cur.votesAmountsVal][2])if(15==cur.smsChkStatCnt)ge("payments_box_progress_msg").innerHTML=getLang("payments_waiting_payment_complete_still");else if(cur.smsChkStatCnt>30){return clearInterval(cur.smsChkStatInt),cur.isPaymentAttemted=!0,Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.b)().hide(),void Object(_web_lib_message_box__WEBPACK_IMPORTED_MODULE_8__.d)(getLang("payments_internet_getting_votes"),getLang("payments_get_votes_delay"))}var o={act:"a_getvotes_check",type:e,votes_purchase:cur.isPaymentsAppOrder||cur.paymentsWideBox||cur.paymentsInstantPayType?0:1};t&&(t.oid||t.qid)?(o.oid=t.oid,o.qid=t.qid,o.hash=t.hash):o.hash=cur.psList[e].check_hash,0==cur.smsChkStatCnt&&(o.start=1),cur.statSessionId&&(o.stat_session_id=cur.statSessionId),t.test&&(o.test=1);var a=r||Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.b)();ajax.post("al_payments.php",o,{onDone:function(n,r,o){if("sms"===e&&cur._popup&&cur._popup.closed)return clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0,PaymentsBox.showBoxError(getLang("payments_payment_cancelled"),"info_msg"),void PaymentsBox.setConfirmButtons();if(n){if(1==n){for("mailmoney_vkpay"===e&&WkView&&(a._show(),cur.onExternalAppDone=null,WkView.hide(!1,!0)),cur.isPaymentAttemted=!0,PaymentsBox.needContinue&&(cur.needContinue=1,PaymentsBox.needContinue=0);boxQueue.count();)boxQueue.hideLast(!1);if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.kb)("left_block10_0"),r&&!cur.isPaymentsAppOrder&&(!cur.paymentsTryCompleteOrder||!a.onDone)){var i=new MessageBox({width:400,hideButtons:!0,bodyStyle:"padding: 0; border-radius: 8px;"});i.content(r),i.show()}o&&Object(_web_lib_utils__WEBPACK_IMPORTED_MODULE_17__.t)(o)}else if(2==n||10==n)Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_waiting")||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_confirm")||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_iframe_container")?PaymentsBox.showVotesAmounts():PaymentsBox.setButtons(cur.payments_get_votes,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(r);else if(3==n){var s="sms"===e;cur.votesAmountsData[cur.votesAmountsVal]?(val("payments_box_votes_num",cur.votesAmountsData[cur.votesAmountsVal][0]),val("payments_box_amount",cur.votesAmountsData[cur.votesAmountsVal][1]),val("payments_box_votes_money",s?cur.votesAmountsData[cur.votesAmountsVal][6]:cur.votesAmountsData[cur.votesAmountsVal][1])):(val("payments_box_votes_num",cur._otherVotes),val("payments_box_amount",cur._otherAmount+" "+Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.j)(cur._otherAmount,cur.votesAmountsData.currency_price_str)),val("payments_box_votes_money",cur._otherAmount+" "+Object(_web_lib_lang__WEBPACK_IMPORTED_MODULE_10__.j)(cur._otherAmount,cur.votesAmountsData.currency_price_str))),s||(val("payments_getvotes_confirm_msg",getLang("payments_get_votes_ps_enter_code")),hide("payments_getvotes_confirm_amount")),cur.votesAmountsData.confirm_wait_comment&&cur.votesAmountsData.confirm_wait_comment[t.oid]?(ge("payments_getvotes_confirm_comm").innerHTML=cur.votesAmountsData.confirm_wait_comment[t.oid],show("payments_getvotes_confirm_comm_wrap")):s&&(ge("payments_getvotes_confirm_comm").innerHTML="",hide("payments_getvotes_confirm_comm_wrap")),"spasibo"===e&&(cur.updateTnxHash=r),PaymentsBox.refreshBox(),show("payments_box_confcode_wrap","payments_getvotes_confirm"),s&&r&&PaymentsBox.showBoxError(r),ge("confcode").onkeypress=s?"":PaymentsBox.checkPinKeyPress,PaymentsBox.setButtons(cur.payments_get_votes,s?PaymentsBox.smsSendCode:PaymentsBox.confirmPinCode,cur.paymentsChangeType,PaymentsBox.showTypes)}else{if(4==n){if(!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_waiting")&&!cur.paymentsWaitingCache.sms){var c=getLang("payments_to_get_send_sms",cur.votesAmountsData[cur.votesAmountsVal][0]);cur.paymentsWideBox||(c+="<br/>"+getLang("payments_service_cost")),c=(c=(c=c.replace("{number}",r.service_number)).replace("{text}",`<nobr>${r.message_text}</nobr>`)).replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1]),PaymentsBox.showWaiting(c)}return}if(5==n)PaymentsBox.refreshBox(),PaymentsBox.showConfirm();else if(6==n)delete cur.votesAmountsData.oauth_url,delete cur.paymentsInstantPayType,PaymentsBox.showVotesAmounts(),PaymentsBox.showBoxError(getLang("payments_instant_pay_amount_limit_error")),PaymentsBox.setConfirmButtons(),hide("payments_remember_wallet",geByClass1("payments_getvotes_confirm_descr","payments_getvotes_cont"));else{if(7==n)return void(cur._popup&&!cur._popup_href&&(cur._popup_href=r,cur._popup.location.href=r));if(8==n)return void PaymentsBox.checkStatusCallback(r);if(9==n)return void PaymentsBox.show3DsFrame(r,o)}}clearInterval(cur.smsChkStatInt),cur.smsChkStatCnt=0}},onFail:function(e){return PaymentsBox.stopCheckAndShowError(e),!0}}),cur.smsChkStatCnt++}static checkStatusCallback(e){}static getVotesCharge(e,t){if(!Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.k)("payments_getvotes_submit")&&!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_box_progress")&&((e=parseInt(e,10))||null!=cur.votesAmountsVal&&cur.votesAmountsData[cur.votesAmountsVal])){var n={act:"a_getvotes_charge",type:cur.votesType,hash:cur.paymentsHash,stat_session_id:cur.statSessionId},r=PaymentsBox.getEmail();""!==r&&(r&&(n.email=r),t?Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o)("payments_getvotes_submit"):PaymentsBox.showProgress(),e?(n.pid=-1,n.votes=e):(n.pid=cur.votesAmountsVal,-1==cur.votesAmountsVal&&(n.votes=cur.votesAmountsData[cur.votesAmountsVal][0])),cur.isResetCheckedMaxSmsVotesValue&&(n.pay_by_repay_status=1),PaymentsBox.disablePaymentTypesRows(),ajax.post("al_payments.php",n,{onDone:n=>{PaymentsBox.votesChargeOnDone(n,e,t)},onFail:e=>(Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_box_progress")&&PaymentsBox.setButtons(cur.payments_get_votes,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_confirm")?PaymentsBox.getVotesCharge:PaymentsBox.showConfirm,cur.paymentsChangeType,PaymentsBox.showTypes),PaymentsBox.showBoxError(e),!0)}))}}static votesChargeOnDone(e,t,n){if(e)if(Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),-1==e)PaymentsBox.getVotesAmounts(!0);else if(e.qid)if(cur.smsChkData=e,n){var r=getLang("payments_for_get_n_votes",t||cur.votesAmountsData[cur.votesAmountsVal][0]),o=cur.votesAmountsData.confirm_wait_msg.replace("{amount}",r);if(o+=t?"<br/>"+getLang("payments_service_cost_rubles",cur._otherAmount):"<br/>"+getLang("payments_service_cost").replace("{amount}",cur.votesAmountsData[cur.votesAmountsVal][1]),cur.paymentsWideBox)o+=`<br><br/><a onclick="return PaymentsBox.showPhoneForm(1);">${getLang("payments_change_phone_number")}</a>`;PaymentsBox.showWaiting(o)}else cur.smsChkStatCnt=0,cur.smsChkStatInt=setInterval(PaymentsBox.checkStatus.pbind(cur.votesType,e),2e3)}static getVotesAmounts(e,t,n){if(null!=t&&cur.paymentsWideBox){if(cur.votesType==t&&cur.votesTypeInit!=t&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_cont")||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_terminals")||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_ps")))return;if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_waiting")?cur.paymentsWaitingCache[cur.votesType]=[ge("payments_getvotes_title").innerHTML,ge("payments_getvotes_waiting").innerHTML,cur.smsChkStatInt]:cur.smsChkStatInt&&!cur.paymentsWaitingCache[t]&&clearInterval(cur.smsChkStatInt),"ps"===t&&cur.forcedPaymentMethod)return;cur.votesType=t}else null!=t&&(cur.votesType=t);if(cur.votesType){if(cur.paymentsWideBox&&!n&&(n=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.C)(geByClass1("payments_method_"+cur.votesType,ge("payments_box_menu")))),cur.paymentsWideBox&&cur.paymentsTypesSum&&cur.paymentsTypesSum[t]){var r=ge("payments_summary_bill");r?r.innerHTML=cur.paymentsTypesSum[t]:val("payments_order_sum",cur.paymentsTypesSum[t]),each(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.K)("payments_tt"),(e,t)=>{Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.kb)(t)})}var o="term"===cur.votesType||"ps"===cur.votesType;if(!o||(PaymentsBox.refreshBox(),hide("payments_getvotes_method","payments_getvotes_title"),"term"===cur.votesType?(show("payments_getvotes_terminals"),hide("payments_votes_vkpay_promo_banner")):show("payments_getvotes_ps"),PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes),cur.paymentsWideBox)){for(var a=["payments_getvotes_ps",cur.paymentsWideBox?"payments_box_menu":"payments_getvotes_method"],i=0;i<a.length;i++){var s=a[i];if(!(!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)(s)||cur.paymentsWideBox&&!n||"payments_box_menu"===s&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_ps")&&n&&hasClass(n.parentNode,"payments_getvotes_ps_list"))){var c=ge(s),u=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.K)("payments_getvotes_active_row",c);if(!e&&u.length&&!cur.paymentsWideBox)return;u.forEach(e=>{removeClass(e,"payments_getvotes_active_row"),cur.paymentsWideBox&&!o&&removeClass(e,"payments_progress")})}}if(n&&(!cur.paymentsWideBox||"payments_box_menu"!==n.parentNode.id||o||e||addClass(n,"payments_progress"),addClass(n,"payments_getvotes_active_row")),cur.paymentsWideBox&&cur.paymentsWaitingCache[t])return ge("payments_getvotes_title").innerHTML=cur.paymentsWaitingCache[t][0],ge("payments_getvotes_waiting").innerHTML=cur.paymentsWaitingCache[t][1],PaymentsBox.refreshBox(),show("payments_getvotes_waiting","payments_getvotes_title"),hide("payments_getvotes_buttons"),void PaymentsBox.hideRowProgress();if(!o){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.fb)("payments_getvotes_buttons")&&!cur.paymentsWideBox&&Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.o)("payments_getvotes_submit");var l={act:"a_getvotes_amounts",type:cur.votesType,prefer_votes:cur.paymentsPreferVotes,hash:cur.paymentsHash};if(cur.statSessionId&&(l.stat_session_id=cur.statSessionId),cur.isPaymentsAppOrder&&cur.paymentsOrderAppId&&(l.aid=cur.paymentsOrderAppId,cur.paymentsOrderBillPeriod&&(l.bill_period=cur.paymentsOrderBillPeriod),cur.paymentsOrderDiscount&&(l.discount=cur.paymentsOrderDiscount)),"sms"===l.type)cur.checkedMaxVotes&&(l.checked_max_votes=cur.checkedMaxVotes,cur.checkedMaxVotes=0),cur.newSmsPhone&&(l.phone=cur.newSmsPhone,cur.newSmsPhone=!1),cur.isCorpPhone&&(l.corp=cur.isCorpPhone,cur.isCorpPhone=!1);else if("offers"===l.type){if(cur.app&&cur.app.options&&(l.isAppOrder=cur.paymentsOfferApp?1:0,l.aid=cur.app.options.aid,l.orderBox=cur.isPaymentsAppOrder?1:0),cur.paymentsPreload)return PaymentsBox.getVotesAmountsOnDone.apply(this,cur.paymentsPreload),cur.paymentsPreload=!1,void(cur.paymentsOfferPreload&&(PaymentsBox.offerOnLoad.apply(this,cur.paymentsOfferPreload),cur.paymentsOfferPreload=!1,cur.paymentsOneOffer=!0))}else if("spasibo"===l.type)cur.newSmsPhone&&(l.phone=cur.newSmsPhone,cur.newSmsPhone=!1),cur.needContinue&&(l.continue=1,cur.needContinue=0);else if(cur.psList[l.type]&&cur.psList[l.type].simple_redirect)return PaymentsBox.hideRowProgress(),void PaymentsBox.submitPaymentSystem();ajax.post("al_payments.php",l,{onDone:PaymentsBox.getVotesAmountsOnDone,onFail:e=>(PaymentsBox.showBoxError(e),!0)})}}}}static getVotesAmountsOnDone(result,html,data,js,title){if(PaymentsBox.hideRowProgress(),Object(_web_lib_ui__WEBPACK_IMPORTED_MODULE_6__.w)("payments_getvotes_submit"),cur.paymentsWideBox&&(title&&(val("payments_getvotes_title",title),show("payments_getvotes_title")),data&&data.menu_money)){var sumWrap=ge("payments_summary_bill");sumWrap?sumWrap.innerHTML=data.menu_money:val(`payments_method_${cur.votesType}_descr`,data.menu_money)}if(hide("payments_votes_vkpay_promo_banner"),-1!=result)if(-2!=result)if(-3!=result){if(!result)return PaymentsBox.showProgress(""),void(cur.smsAmountsInt=setTimeout(()=>{PaymentsBox.getVotesAmounts(!0)},1e3));if(html){var other;if(2==result?(other=ge("payments_getvotes_other"),val(other,html)):val("payments_getvotes_cont",html),cur.votesAmountsData=data,(cur.fromInstantPay&&2==cur.votesAmountsData.confirm_type||2!=cur.votesAmountsData.confirm_type||!cur.votesAmountsData.checked_max_sms_votes_val)&&PaymentsBox.showVotesAmounts(),cur.paymentsPreload&&"offers"===cur.votesType?PaymentsBox.setButtons(!1):"offers"===cur.votesType?PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes):cur.paymentsPreload&&PaymentsBox.setButtons(cur.payments_get_votes,PaymentsBox.showConfirm),window.radioBtns.payments_getvotes_amounts={els:Array.prototype.slice.apply(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.K)("radiobtn",ge("payments_getvotes_amounts")))},data.confirm_msg&&data.confirm_type&&val("payments_getvotes_confirm_msg",data.confirm_msg),2==result&&(hide("payments_getvotes_wrap"),show(other)),js)try{eval(js)}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_14__.d)(e,js)}cur.instantNeedCVV&&(PaymentsBox.showConfirm(),cur.instantNeedCVV=!1),cur.paymentsEmailInput=ge("payments_receipt_email"),cur.paymentsEmailCheckbox=!!cur.paymentsEmailInput&&geByClass1("_checkbox",Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.C)(cur.paymentsEmailInput))}}else{var rows=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.K)("payments_getvotes_method_opt","payments_box_menu");hide(geByClass1("payments_getvotes_active_row","payments_box_menu"));for(var i=0;i<rows.length;i++){var row=rows[i];if(!hasClass(row,"payments_getvotes_active_row")){row.onclick();break}}}else PaymentsBox.showPhoneForm(!1,html);else PaymentsBox.showPhoneForm()}static popupHtml(e,t,n){return`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">\n<head>\n    <meta http-equiv="content-type" content="text/html; charset=windows-1251" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n        body {font-family:tahoma,verdana,arial,sans-serif,Lucida Sans; font-size:11px;}\n        .text {position:relative; top:40%; text-align:center; line-height:24px;}\n        .text img {margin-bottom:8px;}\n        .text_container {position:absolute; top:0; left:0; right:0; bottom:0; line-height:150%; height: 100%;}\n    </style>\n    <script type="text/javascript">\n      if (!window.vk) window.vk = {loginscheme: '${vk.loginscheme}', ip_h: '${vk.ip_h}'};\n    <\/script>\n    <script type="text/javascript" src="/dist/workers/payments.js"><\/script>\n</head>\n<body>\n${t}\n<div id="wait_text_container" class="text_container">\n    <div class="text">\n        <img src="/images/progress.gif" /><br/>${e}\n    </div>\n</div>\n<script type="text/javascript">\n  var st = setTimeout(function() {try {${n}; clearTimeout(st)} catch(e) {}}, 100)\n<\/script>\n</body>\n</html>`}static viewOffer(e){this.setButtons(e,()=>{ge("start_offer").submit(),PaymentsBox.setButtons(getLang("payments_back_to_offers_list"),PaymentsBox.backToOffersList,getLang("global_cancel"),PaymentsBox.backToOffersList)},getLang("global_cancel"),PaymentsBox.backToOffersList)}static backToOffersList(){if(cur.paymentsOneOffer)return Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.b)().hide();hide("payments_offer_view"),show("payments_offers_list"),cur.votesTypeInit||!1===cur.votesTypeInit?PaymentsBox.setButtons(!1):PaymentsBox.setButtons(!1,!1,cur.paymentsChangeType,PaymentsBox.showTypes)}static initializeOfferChecker(e,t,n,r){cur.offersOffset=e,cur.offersAppCurrency=t,PaymentsBox.checkOffersList=[],PaymentsBox.checkOffersDo=()=>{if(!n){var e=PaymentsBox.checkOffersList.join(",");PaymentsBox.checkOffersList=[],ajax.post("al_payments.php",{act:"a_offers_stat",offers:e,hash:r}),PaymentsBox.checkOffersTO=!1}},PaymentsBox.checkOffers(),addEvent(ge("box_layer_wrap"),"scroll",PaymentsBox.checkOffers)}static removeCheckOffersEvent(){removeEvent(ge("box_layer_wrap"),"scroll",PaymentsBox.checkOffers)}static checkOffers(){var e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.K)("payments_offer",ge("payments_offers_wrap")),t=ge("box_layer_wrap").scrollTop,n=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.S)("box_layer_wrap")[1];e.forEach(e=>{var r=e,o=r.offsetTop;o+30<t+n&&o+Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.S)(r)[1]-20>t&&!r.getAttribute("checked")&&(r.setAttribute("checked",1),PaymentsBox.checkOffersList.push(r.id.substr(15)),PaymentsBox.checkOffersTO||(PaymentsBox.checkOffersTO=setTimeout(PaymentsBox.checkOffersDo,1e3)))})}static offersRemoveButtons(){cur.votesTypeInit?PaymentsBox.setButtons(!1):PaymentsBox.setButtons(cur.paymentsChangeType,PaymentsBox.showTypes,getLang("global_close"),Object(_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_5__.b)().hide)}static disablePaymentTypesRows(){var e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.K)("payments_getvotes_method_opt");if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t];n.classList.contains("payments_getvotes_active_row")?n.classList.add("payments_getvotes_noevents_row"):n.classList.add("payments_getvotes_disabled_row","payments_getvotes_noevents_row")}}static enablePaymentTypesRows(){var e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_4__.K)("payments_getvotes_method_opt");if(e&&e.length>0)for(var t=0;t<e.length;t++)e[t].classList.remove("payments_getvotes_disabled_row","payments_getvotes_noevents_row")}static handlePaymentCompleteMessage(e){e.origin==window.origin&&e.data.type&&"paymentCompleteMessage"===e.data.type&&window.PaymentsBox.complete(e.data.newUrl,e.data.params)}}},XHVZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("o5u5"),o=n("XMCv"),a=n("T3FL"),i=n("W9Tc"),s=n("EEfc"),c=n("TFVZ"),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(){function e(t,n){this.moduleNavigationStatCollector=t,this.storage=n,this.storage.setItem(e.LS_LOCK_NAME,JSON.stringify(this.getActualNavDurationTimestamps()))}return e.prototype.getActualNavDurationTimestamps=function(){return Object.entries(this.getNavDurationTimestamps()).reduce((function(e,t){var n,r=t[0],o=t[1],a=o+c.a[r];return a&&a>Date.now()?u(u({},e),((n={})[r]=o,n)):e}),{})},e.prototype.getNavDurationTimestamps=function(){var t={};try{t=JSON.parse(this.storage.getItem(e.LS_LOCK_NAME)||"{}")}catch(e){}return t},e.clearPerformanceMeasures=function(e){var t=c.b[e],n=t.PERF_MARK,r=t.PERF_MEASURE;"performance"in window&&(window.performance.clearMeasures(r),window.performance.clearMarks(n))},e.measurementMustBeSkipped=function(e){return s.a.includes(e)||Object(i.c)(1-(s.b[e]||1))},e.prototype.logEvent=function(){var t,n,i,s,l,_,d,p="mvk"===(null===(s=null===(i=window.vk)||void 0===i?void 0:i.statsMeta)||void 0===s?void 0:s.platform)?"mvk":"web2",f=o.a.getConnectionEffectiveType(),h=a.b.getModule();try{var m=c.b[p],b=m.PERF_MARK,g=m.PERF_MEASURE;window.performance.measure(g,b),_=null===(l=window.performance.getEntriesByType("measure").find((function(e){return e.name===g})))||void 0===l?void 0:l.duration}catch(e){}if(e.clearPerformanceMeasures(p),_&&!e.measurementMustBeSkipped(h)){if(Object.keys(c.a).includes(h)){var v=Date.now(),y=this.getNavDurationTimestamps();if(void 0===(d=y[h])&&(d=0),d+c.a[h]>=v)return;this.storage.setItem(e.LS_LOCK_NAME,JSON.stringify(u(u({},y),((t={})[h]=v,t))))}this.moduleNavigationStatCollector.logEvent(((n={network_type:"UNKNOWN",network_effective_type:f,type:r.b.TYPE_MODULE_NAVIGATION_STATS_ITEM})[r.b.TYPE_MODULE_NAVIGATION_STATS_ITEM]={module:h,value:Math.round(_).toString()},n))}},e.LS_LOCK_NAME="NAV_DURATION_TIMESTAMPS_"+"web".toUpperCase(),e}()},XKFU:function(e,t,n){var r=n("dyZX"),o=n("g3g5"),a=n("Mukb"),i=n("KroJ"),s=n("m0Pp"),c=function(e,t,n){var u,l,_,d,p=e&c.F,f=e&c.G,h=e&c.S,m=e&c.P,b=e&c.B,g=f?r:h?r[t]||(r[t]={}):(r[t]||{}).prototype,v=f?o:o[t]||(o[t]={}),y=v.prototype||(v.prototype={});for(u in f&&(n=t),n)_=((l=!p&&g&&void 0!==g[u])?g:n)[u],d=b&&l?s(_,r):m&&"function"==typeof _?s(Function.call,_):_,g&&i(g,u,_,e&c.U),v[u]!=_&&a(v,u,d),m&&y[u]!=_&&(y[u]=_)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},XLUH:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n("rEJs"),o=0,a=2;class i{constructor(e){this.player=e,this.listeners=[]}listen(e,t,n){var r=t.bind(n||this);this.listeners.push({event:e,fn:t,listener:r}),this.playerListen(e,r)}unListen(e,t){var n=-1;if(each(this.listeners,(r,o)=>{if(o.event===e&&o.listener===t)return n=r,!1}),!(n<0)){var r=this.listeners[n];this.playerUnListen(e,r.listener),this.listeners.splice(n,1)}}unListenAll(){for(var e;e=this.listeners[0];)this.unListen(e.event,e.listener)}listenPlay(e,t){this.listen(r.a.PLAY,e,t)}listenPause(e,t){this.listen(r.a.PAUSE,e,t)}listenStop(e,t){this.listen("stop",e,t)}listenProgress(e,t){this.listen(r.a.PROGRESS,e,t)}listenVolume(e,t){this.listen(r.a.VOLUME,e,t)}listenSeek(e,t){this.listen(r.a.SEEK,e,t)}listenPlaylistChanged(e,t){this.listen(r.a.PLAYLIST_CHANGED,e,t)}listenEnded(e,t){this.listen(r.a.ENDED,e,t)}listenPlayNext(e,t){this.listen(r.a.PLAY_NEXT,e,t)}listenAdCompleted(e,t){this.listen(r.a.AD_COMPLETED,e,t)}playerListen(e,t){this.player.subscribe(e,t)}playerUnListen(e,t){this.player.unsubscribe(e,t)}getPausedBy(){return null}getState(){return document.hidden?1:3}getProgress(){return this.player.playerGetProgress()}getProgressInSeconds(){return this.player.getProgressInSeconds()}getVolume(){return this.player.getVolume()}getAudioId(){return this.player.getAudioId()}getAudio(){return this.player.getAudio()}getAudioTrackCode(){return this.player.getAudioTrackCode()}getPrevAudioId(){return this.player.getPrevAudioId()}getPrevPlaylistId(){return this.player.getPrevPlaylistId()}getPlaylistId(){return this.player.getPlaylistId()}getContext(){return this.player.getContext()}getSequence(){return this.player.getSequence()}getType(){return this.player.getType()}getListenedTime(){return isNaN(this.player.getListenedTime())?0:Math.round(this.player.getListenedTime())}getSearchParams(){return this.player.getSearchParams()}isPlaying(){return this.player.isPlaying()}isAutoPlayed(){return this.player.isAutoPlayed()}isRepeatCurrentAudio(){return this.player.isRepeatCurrentAudio()}isRepeatAll(){return this.player.isRepeatAll()}isShuffledPlaylist(){return this.player.isShuffledPlaylist()}isRealPlaylist(){return this.player.isRealPlaylist()}isRealPrevPlaylist(){return this.player.isRealPrevPlaylist()}isPodcast(){return this.player.isPodcast()}isAdPlaying(){return this.player.ads.isPlaying()}isLastTrack(){return this.player.isLastTrack()}hasPrevAudio(){return this.player.hasPrevAudio()}hasPrevPlaylist(){return this.player.hasPrevPlaylist()}hasPlaylist(){return this.player.hasPlaylist()}hasSearchParams(){return this.player.hasSearchParams()}isDebug(){return!1}sendListenedData(e){return this.player.sendListenedData(e)}}},XMCv:function(e,t,n){"use strict";function r(){return navigator.connection||navigator.mozConnection||navigator.webkitConnection}function o(){var e=r();return e&&e.type||"unknown"}function a(){var e=r();return e&&e.effectiveType||"unknown"}t.a={getConnection:r,getConnectionType:o,getConnectionEffectiveType:a,getConnectionTypeID:function(){return{unknown:0,bluetooth:1,cellular:2,ethernet:3,none:4,wifi:5,wimax:6,other:7}[o()]||0},getConnectionEffectiveTypeID:function(){return{unknown:0,"slow-2g":1,"2g":2,"3g":3,"4g":4}[a()]||0}}},XMVh:function(e,t,n){var r=n("K0xU")("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a=[7],i=a[r]();i.next=function(){return{done:n=!0}},a[r]=function(){return i},e(a)}catch(e){}return n}},Xbzi:function(e,t,n){var r=n("0/R4"),o=n("i5dc").set;e.exports=function(e,t,n){var a,i=t.constructor;return i!==n&&"function"==typeof i&&(a=i.prototype)!==n.prototype&&r(a)&&o&&o(e,a),e}},Xrg9:function(e,t,n){"use strict";var r=n("tGJf");function o(e){try{r.a.removeItem(e)}catch(e){}}t.a={checkVersion:function(){try{return void 0!==window.localStorage&&null!==window.localStorage&&void 0!==window.JSON}catch(e){return!1}},remove:o,get:function(e){try{return JSON.parse(r.a.getItem(e))}catch(e){return!1}},set:function(e,t){o(e);try{return r.a.setItem(e,JSON.stringify(t))}catch(e){return!1}}}},XuKo:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n("EasH"),o=n("kcIO"),a=n("4+be"),i=n("El3O"),s=n("zxIV"),c=!1;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(cur.storiesNotSupported)return Object(r.d)(Object(a.d)("global_error"),Object(a.d)("stories_bad_browser"));clearTimeout(c),c=setTimeout((function(){bodyNode.appendChild(Object(s.g)("div",{id:"stories_loader",innerHTML:Object(i.f)("stories_loader_pr","pr_baw pr_medium")+'<div class="back"></div>'}))}),1e3);var n=[jsc("web/stories.js"),"stories.css",jsc("web/emoji.js"),"videoview.js","videoplayer.js","videoplayer.css","hls.min.js"];stManager.add(n,(function(){var n=window.Stories;clearTimeout(c),Object(s.kb)("stories_loader"),n.show(e,t)}))}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a="narrative"+t,i=`${e}${n=n?"_"+n:""}&${a}/${r=r||`narrative${e}_${t}`}`;u(i,o)}var _=!1;function d(){_||cur.storiesNotSupported||(_=!0,stManager.add([jsc("web/stories.js"),"stories.css",jsc("web/story_publisher.js"),"photo_editor.css"]))}var p=!1;function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p||(p=!0,ajax.post("al_stories.php",{act:"send_mask",mask_id:e,hash:t,is_short_video:n},{loader:!0,onDone:(e,t,n,i)=>{"cant_send"===e?Object(r.d)({title:t,width:460},n,i):Object(o.f)(Object(a.d)("stories_mask_sent")),p=!1},onFail:()=>(p=!1,Object(r.d)({title:Object(a.d)("global_box_error_title")},Object(a.d)("global_unknown_error")),!0)}))}},Xxuz:function(e,t,n){"use strict";var r=n("I8a+"),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},XzvV:function(e,t,n){"use strict";n.d(t,"F",(function(){return _})),n.d(t,"G",(function(){return d})),n.d(t,"R",(function(){return p})),n.d(t,"B",(function(){return f})),n.d(t,"C",(function(){return h})),n.d(t,"S",(function(){return m})),n.d(t,"D",(function(){return b})),n.d(t,"ab",(function(){return g})),n.d(t,"Z",(function(){return v})),n.d(t,"Y",(function(){return y})),n.d(t,"T",(function(){return O})),n.d(t,"N",(function(){return w})),n.d(t,"P",(function(){return E})),n.d(t,"y",(function(){return j})),n.d(t,"z",(function(){return D})),n.d(t,"v",(function(){return P})),n.d(t,"u",(function(){return k})),n.d(t,"w",(function(){return C})),n.d(t,"U",(function(){return T})),n.d(t,"V",(function(){return x})),n.d(t,"O",(function(){return I})),n.d(t,"A",(function(){return A})),n.d(t,"M",(function(){return M})),n.d(t,"x",(function(){return S})),n.d(t,"Q",(function(){return L})),n.d(t,"H",(function(){return B})),n.d(t,"X",(function(){return R})),n.d(t,"I",(function(){return N})),n.d(t,"K",(function(){return U})),n.d(t,"L",(function(){return F})),n.d(t,"J",(function(){return W})),n.d(t,"W",(function(){return K})),n.d(t,"E",(function(){return H})),n.d(t,"e",(function(){return q})),n.d(t,"i",(function(){return V})),n.d(t,"f",(function(){return z})),n.d(t,"g",(function(){return G})),n.d(t,"d",(function(){return $})),n.d(t,"h",(function(){return J})),n.d(t,"p",(function(){return Y})),n.d(t,"q",(function(){return X})),n.d(t,"a",(function(){return Q})),n.d(t,"b",(function(){return Z})),n.d(t,"c",(function(){return ee})),n.d(t,"j",(function(){return ne})),n.d(t,"l",(function(){return re})),n.d(t,"cb",(function(){return ue})),n.d(t,"r",(function(){return le})),n.d(t,"m",(function(){return _e})),n.d(t,"o",(function(){return de})),n.d(t,"s",(function(){return fe})),n.d(t,"n",(function(){return he})),n.d(t,"t",(function(){return me})),n.d(t,"k",(function(){return be}));n("rE2o"),n("ioFf"),n("HEwt"),n("a1Th"),n("rGqo"),n("Btvt"),n("KKXr"),n("pIFo");var r=n("t7n3"),o=n("DM2o");n.d(t,"bb",(function(){return o.a}));var a=n("tGJf");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={},_="groups",d="groups_catalog",p="search_communities",f="events",h="friends",m="search_people",b="friends_find",g="wall_users",v="wall_groups",y="wall",O="search_statuses",w="news",E="search_audio",j="bookmarks_groups",D="bookmarks_users",P="apps_list",k="apps",C="apps_manage",T="search_video",x="top_search",I="photos",A="docs",M="messages",S="audio",L="search_auto",B="manage",R="video",N="market",U="market_v2",F="market_v2_suggester",W="market_groups",K="user_friends",H="games_catalog",q="",V="click_suggester",z="join_group_out",G="leave_group_out",$="add_friend_out",J="remove_friend_out",Y="group",X="profile",Q="",Z="own",ee="search",te="SERPS_LOGS_DATA_LOCK",ne="";function re(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,c=0,u="",l=0,_=1,d=0,p=0;return e&&(isArray(n)||(n=[n]),n.some(n=>{var f,h=e.classList.contains(n)?e:gpeByClass(n,e),m=0;if(h&&(f=r?bodyNode.querySelectorAll(r):h.parentNode.children)){if((c=[...f].indexOf(h)+1)&&o)for(var b in o)if(o.hasOwnProperty(b)){var g=bodyNode.querySelectorAll(o[b]);if(g){var v=[...g].indexOf(h)+1;if(v){l=v,u=b;break}}_++,m++}if(a){var y,O=s(a);try{for(O.s();!(y=O.n()).done;){var w=y.value,E=gpeByClass(w,e);E&&(_=E.getAttribute("data-block-num"))}}catch(e){O.e(e)}finally{O.f()}}var j=i(t(h,m),2);return d=j[0],p=j[1],!0}})),[c,d,p,u,l,_]}function oe(e,t,n,r,o,a){if(l[e]){var s=a.target;if(s&&s.classList)switch(e){case _:return void function(e,t,n,r,o,a){if(!t)return;var s=a.classList,c=a.outerHTML,u=a.tagName,l=i(re(a,e=>{var t=e.getAttribute("id")||e.getAttribute("data-id");return[0,"-"+(t=t?t.replace("gl_groups","").replace("gl_admin",""):0)]},["_gl_row","search_row"],"#groups_list_tab_groups ._gl_row, #groups_list_search_wrap ._gl_row, #results .search_row, #groups_list_search_wrap .search_row",{[Z]:"#groups_list_tab_groups ._gl_row",[ee]:"#groups_list_search_wrap ._gl_row, #groups_list_search_wrap .search_row"}),5),_=l[1],d=l[2],p=l[3],f=l[4];if(!f)return;p===Z&&(r=0,o="");var h=q;if(s.contains("group_row_title")||s.contains("group_row_img")||s.contains("highlight")||s.contains("search_item_img")||"A"===u&&-1!==c.indexOf("return nav.go")){var m=gpeByClass("group_list_row",a)||gpeByClass("groups_row",a);if(!m)return;if(m.hasAttribute("data-clicked"))return;m.setAttribute("data-clicked",!0),h="tap"}(s.contains("flat_button")&&!s.contains("secondary")||s.contains("search_sub_button"))&&(h="join_group");(s.contains("flat_button")&&s.contains("secondary")||s.contains("search_unsub_button"))&&(h="leave_group");if(p===Z&&-1!==c.indexOf("GroupsList.subscribe")){if(s.contains("ui_actions_menu"))return;h="join_group",!cur.scrollList.deleted[-d]&&(h="leave_group")}if(p===Z&&-1!==c.indexOf("GroupsList.toggleFave")){if(s.contains("ui_actions_menu"))return;h="fave","1"===a.getAttribute("data-value")&&(h="unfave")}if(h===q)return;ce(),"tap"===h&&se(Y,e,p,f,n,t,d,_,r,o);_e(e,p,f,h,n,t,d,_,r,o,ne)}(e,t,n,r,o,s);case p:return void function(e,t,n,r,o,a){if(!t)return;var s=a.classList,c=a.outerHTML,u=a.tagName,l=i(re(a,e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]},"search_row","#results .search_row"),3),_=l[0],d=l[1],p=l[2];if(!_)return;var f=q;if(s.contains("search_item_img")||s.contains("highlight")||"A"===u&&-1!==c.indexOf("return nav.go")){var h=gpeByClass("groups_row",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),f="tap"}s.contains("search_sub_button")&&(f="join_group");s.contains("search_unsub_button")&&(f="leave_group");if(f===q)return;ce(),"tap"===f&&se(Y,e,Q,_,n,t,p,d,r,o);_e(e,Q,_,f,n,t,p,d,r,o,ne)}(e,t,n,r,o,s);case d:return void function(e,t,n,r,o,a){if(!t)return;var s=a.classList,c=a.outerHTML,u=a.tagName,l=i(re(a,e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]},"search_row","#results .search_row"),3),_=l[0],d=l[1],p=l[2],f=q;if(s.contains("search_item_img")||s.contains("highlight")||"A"===u&&-1!==c.indexOf("return nav.go")){var h=gpeByClass("groups_row",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),f="tap"}s.contains("search_sub_button")&&(f="join_group");s.contains("search_unsub_button")&&(f="leave_group");if(f===q)return;ce(),"tap"===f&&se(Y,e,Q,_,n,t,p,d,r,o);_e(e,Q,_,f,n,t,p,d,r,o,ne)}(e,t,n,r,o,s);case f:return void function(e,t,n,r,o,a){var s=a.classList,c=a.outerHTML,u=a.parentElement?a.parentElement.classList:null,l=i(re(a,e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]},"search_row","#groups_list_in_tab_search_all .search_row"),3),_=l[0],d=l[1],p=l[2];if(!_)return;var f=q;if(s.contains("search_item_img")||-1!==c.indexOf("return nav.go")&&u&&u.contains("title")){var h=gpeByClass("search_row",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),f="tap"}s.contains("search_sub_button")&&(f="join_group");s.contains("search_unsub_button")&&(f="leave_group");if(f===q)return;ce(),"tap"===f&&se(Y,e,Q,_,n,t,p,d,r,o);_e(e,Q,_,f,n,t,p,d,r,o,ne)}(e,t,n,r,o,s);case h:case K:return void function(e,t,n,r,o,a){var s=a.classList,c=a.outerHTML,u=a.tagName,l=i(re(a,e=>{var t=e.getAttribute("id");return[0,t=t?t.replace("friends_user_row",""):0]},"friends_user_row","#list_content .friends_user_row, #friends_search_cont .friends_user_row",{[Z]:"#list_content .friends_user_row",[ee]:"#friends_search_cont .friends_user_row"}),5),_=l[1],d=l[2],p=l[3],f=l[4];if(!f)return;var h=q;p===Z&&-1!==c.indexOf("showWriteMessageBox")&&(h="write_msg");p===Z&&-1!==c.indexOf("deleteFriend")&&(h="remove_friend");p===Z&&s.contains("friends_restore_link")&&(h="restore_friend");s.contains("ui_zoom_icon")&&(h="show_photo");p===ee&&a.id&&-1!==a.id.indexOf("friends_subsc")&&(h="add_friend");p===ee&&a.id&&-1!==a.id.indexOf("friends_unsubsc")&&(h="remove_friend");if(s.contains("friends_photo_img")||p===Z&&"A"===u&&-1!==c.indexOf("return nav.go")||p===ee&&"A"===u&&0===s.length){var m=gpeByClass("friends_user_row",a);if(!m)return;if(m.hasAttribute("data-clicked"))return;m.setAttribute("data-clicked",!0),h="tap"}if(h===q)return;ce(),"tap"===h&&se(X,e,p,f,n,t,d,_,r,o);_e(e,p,f,h,n,t,d,_,r,o,ne)}(e,t,n,r,o,s);case b:return void function(e,t,n,r,o,a){var s=a.classList,c=a.outerHTML,u=a.parentElement?a.parentElement.classList:null;if(!t)return;var l=i(re(a,e=>[0,e.getAttribute("data-id")||0],"search_row","#results .search_row"),3),_=l[0],d=l[1],p=l[2];if(!_)return;var f=q;if(s.contains("search_item_img")||-1!==c.indexOf("return nav.go")&&u&&u.contains("name")){var h=gpeByClass("people_row",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),f="tap"}s.contains("search_sub_button")&&(f="add_friend");s.contains("search_unsub_button")&&(f="remove_friend");if(f===q)return;ce(),"tap"===f&&se(X,e,Q,_,n,t,p,d,r,o);_e(e,Q,_,f,n,t,p,d,r,o,ne)}(e,t,n,r,o,s);case m:return void function(e,t,n,r,o,a){var s=a.classList,c=a.outerHTML,u=a.parentElement?a.parentElement.classList:null;if(!t)return;var l=i(re(a,e=>[0,e.getAttribute("data-id")||0],"search_row","#results .search_row"),3),_=l[0],d=l[1],p=l[2];if(!_)return;var f=q;if(s.contains("search_item_img")||-1!==c.indexOf("return nav.go")&&u&&u.contains("name")){var h=gpeByClass("people_row",a);if(!h)return;if(h.hasAttribute("data-clicked"))return;h.setAttribute("data-clicked",!0),f="tap"}s.contains("search_sub_button")&&(f="add_friend");s.contains("search_unsub_button")&&(f="remove_friend");if(f===q)return;ce(),"tap"===f&&se(X,e,Q,_,n,t,p,d,r,o);_e(e,Q,_,f,n,t,p,d,r,o,ne)}(e,t,n,r,o,s);case L:return void function(e,t,n,r,o,a){var s=a.classList,c=a.tagName,u=a.outerHTML,l=i(re(a,e=>{var t="",n=e.classList;if(n.contains("_audio_row"))t=e.getAttribute("data-full-id");else{if(n.contains("people_row"))return[0,t=e.getAttribute("data-id")||0];if(n.contains("groups_row"))return[0,"-"+(t=e.getAttribute("data-id")||0)];n.contains("_video_item")?t=e.getAttribute("data-id"):n.contains("_post")&&(t=(t=e.getAttribute("id")||"").replace("post",""))}return t&&t.indexOf("_")?t.split("_"):[0,t]},["_audio_row","search_row","_video_item","_post"],"\n      ._search_results ._audio_row,\n      ._search_results .search_row,\n      ._search_results ._video_item,\n      #results ._post\n    ",{search_audio:"._search_results ._audio_row",search_people:"._search_results .people_row",search_groups:"._search_results .groups_row",search_video:"._search_results ._video_item",search_posts:"#results ._post"},["search_audio_media","search_people_media","search_communities_media","search_video_media"]),5),_=l[1],d=l[2],p=l[3],f=l[4];if(!f)return;var h=q;switch(p){case"search_video":s.contains("icon_add")&&(h="add"),s.contains("icon_added")&&(h="remove"),(s.contains("video_thumb_play")||s.contains("video_item_controls")||s.contains("video_item_title"))&&(h="play"),s.contains("al_need_login")&&(h="open_artist"),s.contains("group_link")&&(h="open_author_group"),s.contains("mem_link")&&(h="open_author_user");break;case"search_audio":(s.contains("audio_row__play_btn")||s.contains("audio_row__performer_title")||s.contains("audio_row__title")||s.contains("audio_row__title_inner")||s.contains("audio_row__title_inner_subtitle")||s.contains("audio_row__inner")||s.contains("audio_player__place")||s.contains("audio_row__action_next"))&&(h="play"),s.contains("audio_row__action_add")&&(h="add"),"A"===c&&(h="open_artist");break;case"search_people":"A"===c&&-1!==u.indexOf("searcher.subscribe")&&(h="remove_friend"),s.contains("add_btn")&&(h="add_friend"),s.contains("search_item_img")&&(h="tap",se(X,e,p,f,n,t,d,_,r,o));break;case"search_groups":(s.contains("search_item_img")||"A"===c&&-1!==u.indexOf("return nav.go"))&&(h="tap",se(Y,e,p,f,n,t,d,_,r,o));break;case"search_posts":gpeByClass("post",a,"div#results")&&(h="tap")}if(h===q)return;_e(e,p,f,h,n,t,d,_,r,o,ne)}(e,t,n,r,o,s);case j:return void function(e,t,n,r,o,a){var s=a.classList,c=a.outerHTML,u=i(re(a,e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,t]},"_bookmark_page_item"),3),l=u[0],_=u[1],d=u[2];if(!l)return;var p=q;if(s.contains("group_link")||s.contains("bookmark_page_item__image")){var f=gpeByClass("_bookmark_page_item",a);if(!f)return;if(f.hasAttribute("data-clicked"))return;f.setAttribute("data-clicked",!0),p="tap"}(s.contains("ui_zoom")||s.contains("ui_zoom_icon"))&&(p="show_photo");-1!==c.indexOf("Bookmarks.removeBookmark")&&(p="unfave");if(p===q)return;ce(),"tap"===p&&se(Y,e,Q,l,n,t,d,_,r,o);_e(e,Q,l,p,n,t,d,_,r,o,ne)}(e,t,n,r,o,s);case D:return void function(e,t,n,r,o,a){var s=a.classList,c=a.outerHTML,u=i(re(a,e=>{var t=e.getAttribute("data-id");return t||(t=0),[0,t]},"_bookmark_page_item"),3),l=u[0],_=u[1],d=u[2];if(!l)return;var p=q;if(s.contains("mem_link")||s.contains("bookmark_page_item__image")){var f=gpeByClass("_bookmark_page_item",a);if(!f)return;if(f.hasAttribute("data-clicked"))return;f.setAttribute("data-clicked",!0),p="tap"}(s.contains("ui_zoom")||s.contains("ui_zoom_icon"))&&(p="show_photo");-1!==c.indexOf("Bookmarks.removeBookmark")&&(p="unfave");if(p===q)return;ce(),"tap"===p&&se(X,e,Q,l,n,t,d,_,r,o);_e(e,Q,l,p,n,t,d,_,r,o,ne)}(e,t,n,r,o,s);case E:!function(e,t,n,r,o,a){var s=a.classList,c=a.tagName;if(gpeByClass("ap_layer_wrap",a))return;if(!gpeByClass("search_results",a))return;var u=i(re(a,e=>{var t=e.getAttribute("data-full-id");return t&&t.indexOf("_")?t.split("_"):[0,0]},"_audio_row"),3),l=u[0],_=u[1],d=u[2];if(!l)return;var p=q;(s.contains("audio_row__cover_icon")||s.contains("audio_row__performer_title")||s.contains("audio_row__title")||s.contains("audio_row__title_inner")||s.contains("audio_row__title_inner_subtitle")||s.contains("audio_row__inner")||s.contains("audio_player__place")||s.contains("audio_row__action_next")||s.contains("audio_row__performers"))&&(p="play");s.contains("audio_row__action_add")&&(p="add");"A"===c&&(p="open_artist");if(p===q)return;_e(e,Q,l,p,n,t,d,_,r,o,ne)}(e,t,n,r,o,s);break;case T:return void function(e,t,n,r,o,a){var s=a.classList,c=i(re(a,e=>{var t=e.getAttribute("data-id");return t&&t.indexOf("_")?t.split("_"):[0,0]},"_video_item","#results ._video_item"),3),u=c[0],l=c[1],_=c[2];if(!u)return;var d=q;(s.contains("video_thumb_play")||s.contains("video_item_controls")||s.contains("video_thumb_label_item")||s.contains("video_thumb_label")||s.contains("video_item_title")||s.contains("mv_subtitle"))&&(d="play");(s.contains("icon_add")||s.contains("video_thumb_action_add"))&&(d="add");s.contains("icon_added")&&(d="remove");s.contains("group_link")&&(d="open_author_group");s.contains("al_need_login")&&(d="open_artist");s.contains("mem_link")&&(d="open_author_user");if(d===q)return;_e(e,Q,u,d,n,t,_,l,r,o,ne)}(e,t,n,r,o,s);case S:return void function(e,t,n,r,o,a){var s=a.classList,c=a.tagName,u=a.parentElement?a.parentElement.classList:null,l=i(re(a,(e,t)=>{var n="";switch(t){case 1:case 4:n=e.getAttribute("data-full-id");break;case 0:case 3:n=e.getAttribute("data-raw-id");break;case 2:n=e.getAttribute("data-title")}return n&&n.indexOf("_")?n.split("_"):n?[n,0]:[0,0]},["_audio_pl_item","audio_block_small_item","_audio_row","_video_item"],"\n        ._audio_section__search ._audio_pl_item,\n        ._audio_section__search ._audio_row,\n        ._audio_section__search .audio_block_small_item,\n        ._audio_section__search .video_item,\n        ._audio_search_blocks ._audio_row,\n        ._audio_search_blocks ._video_item,\n        ._audio_search_blocks ._audio_pl_item,\n        ._audio_search_blocks .audio_block_small_item\n      ",{search_playlists:".CatalogBlock__search_global_albums ._audio_pl_item",own_audios:".CatalogBlock__search_owned_audios ._audio_row",search_audios:".CatalogBlock__search_global_audios ._audio_row",search_artists:".CatalogBlock__search_global_artists .audio_block_small_item",global_clips:".CatalogBlock__search_global_clips .video_item",own_playlists:'._audio_page_block__playlists_items[data-audio-context="search_owned_playlist"] ._audio_pl_item'}),5),_=l[1],d=l[2],p=l[3],f=l[4];if(!f)return;var h=q;s.contains("audio_row__action_more")||u&&u.contains("audio_row__actions")||(h="play");s.contains("audio_row__action_next")&&(h="play");"own_audios"===p&&s.contains("audio_row__action_recoms")&&(h="show_similar");"own_audios"===p&&s.contains("audio_row__action_delete")&&(h="remove");"own_audios"===p&&s.contains("audio_row__action_add")&&(h="add");"search_audios"===p&&s.contains("audio_row__action_add")&&(h="add");"global_clips"===p&&s.contains("icon_add")&&(h="add");"global_clips"===p&&s.contains("icon_added")&&(h="remove");"A"===c&&(h="open_artist");if(h===q)return;_e(e,p,f,h,n,t,d,_,r,o,ne)}(e,t,n,r,o,s);case x:return void function(e,t,n,r,o,a){var s=a.classList,c=a;s.contains("ts_contact")||(c=gpeByClass("ts_contact",a,"div#ts_cont_wrap"));var u=i(re(c,()=>[0,(c.id||"").replace("ts_contact","")],"ts_contact","#ts_cont_wrap .ts_contact"),3),l=u[0],_=u[1],d=u[2];if(!l)return;var p="tap",f=ne;switch(c.getAttribute("hinttype")){case"h_friends":f="user",s.contains("ts_contact_status")&&(p="write_msg");break;case"h_mutual_friends":case"s_people":case"h_mail_peers":f="user";break;case"h_vk_apps":case"h_apps":f="app";break;case"h_events":f="event";break;case"h_publics":f="public";break;case"h_visited":case"s_groups":f="group"}_e(e,Q,l,p,n,t,d,_,r,o,f)}(e,t,n,r,o,s);case R:return void function(e,t,n,r,o,a){var s=a.classList,c=i(re(a,(e,t)=>{var n="";switch(t){case 1:case 3:n=e.getAttribute("data-id")}return n&&n.indexOf("_")?n.split("_"):[0,0]},["video_playlist_item","_video_item"],"\n        #video_layout_search .video_playlist_item,\n        #video_layout_search ._video_item\n      ",{own_albums:"#video_subtab_pane_search_albums .video_playlist_item",own_videos:"#video_subtab_pane_search_videos ._video_item",search_promo_albums:"#video_subtab_pane_search_promo_albums .video_playlist_item",search_videos:"#video_subtab_pane_search_global_videos ._video_item"}),5),u=c[1],l=c[2],_=c[3],d=c[4];if(!d)return;var p=q;(s.contains("icon_add")||s.contains("video_thumb_action_add"))&&(p="add");s.contains("icon_added")&&(p="remove");"own_videos"===_&&s.contains("video_restore_act")&&(p="add");"own_videos"===_&&s.contains("video_thumb_action_delete")&&(p="remove");(s.contains("video_item_title")||s.contains("video_item_controls")||s.contains("video_thumb_label_item")||s.contains("video_thumb_play"))&&(p="play");s.contains("group_link")&&(p="open_author_group");s.contains("al_need_login")&&(p="open_artist");s.contains("mem_link")&&(p="open_author_user");if(p===q)return;_e(e,_,d,p,n,t,l,u,r,o,ne)}(e,t,n,r,o,s);case N:case W:return void function(e,t,n,r,o,a){var s=a.classList,c="grid";gpeByClass("market_row_line",a,".marketplace_content_search")&&(c="list");var u="grid"===c?"_market_row":"market_row_line",l=i(re(a,e=>[0,e.getAttribute("data-id")||0],u,"#marketplace_content ."+u),3),_=l[0],d=l[1],p=l[2];if(!_)return;var f=q;switch(c){case"list":(s.contains("market_row_img")||s.contains("link"))&&(f="tap"),s.contains("market_favourite")&&!s.contains("selected")&&(f="fave"),s.contains("market_favourite")&&s.contains("selected")&&(f="unfave"),s.contains("mem_link")&&(f="open_author_user"),s.contains("group_link")&&(f="open_author_group");break;case"grid":f="tap",(s.contains("icon")||s.contains("fav"))&&(f="fave"),s.contains("market_row_user_link")&&(f="open_author_user")}if(f===q)return;_e(e,Q,_,f,n,t,p,d,r,o,ne)}(e,t,n,r,o,s);case U:return void function(e,t,n,r,o,a){var s=a.classList,c=i(re(a,e=>[+e.getAttribute("data-owner-id"),+e.getAttribute("data-id")],"MarketCatalogProduct__serpItem"),3),u=c[0],l=c[1],_=c[2];if(!u)return;var d=q;s.contains("MarketCatalogProduct__serpTap")&&(d="tap");s.contains("MarketCatalogProduct__serpAddFav")&&(d="fave");s.contains("MarketCatalogProduct__serpRemoveFav")&&(d="unfave");s.contains("MarketCatalogProduct__serpOwnerGroup")&&(d="open_author_group");s.contains("MarketCatalogProduct__serpOwnerUser")&&(d="open_author_user");if(d===q)return;_e(e,Q,u,d,n,t,_,l,r,o,ne)}(e,t,n,r,o,s);case M:return void function(e,t,n,r,o,a){var s=i(re(a,e=>{var t=e.getAttribute("data-peer");return t||(t=0),[0,t]},"_im_dialog","._im_page_dcontent ._im_dialog",{own_conversations:"._im_page_dcontent ._im_dialog:not(._im_search)",own_messages:"._im_page_dcontent ._im_dialog._im_search"}),5),c=s[1],u=s[2],l=s[3],_=s[4];if(!_)return;_e(e,l,_,"tap",n,t,u,c,r,o,ne)}(e,t,n,r,o,s);case A:return void function(e,t,n,r,o,a){var s=a.classList,c=a.outerHTML,u=i(re(a,e=>{var t=e.getAttribute("id");return t&&(t=t.replace("docs_file_","")),t&&t.indexOf("_")?t.split("_"):[0,0]},"_docs_item","#docs_list ._docs_item, #docs_search_list ._docs_item",{[Z]:"#docs_list ._docs_item",[ee]:"#docs_search_list ._docs_item"}),5),l=u[1],_=u[2],d=u[3],p=u[4];if(!p)return;var f=q;d===ee&&s.contains("docs_add_row")&&(f="add");d===Z&&s.contains("docs_delete_row")&&(f="remove");d===Z&&-1!==c.indexOf("Docs.restoreItem")&&(f="add");d===Z&&s.contains("docs_edit_row")&&(f="edit");(s.contains("highlight")||s.contains("docs_item_thumb_img")||s.contains("docs_item_icon")||s.contains("docs_item_name"))&&(f="tap");-1!==c.indexOf("Docs.tagSearch")&&(f="search_by_tag");if(f===q)return;_e(e,d,p,f,n,t,_,l,r,o,ne)}(e,t,n,r,o,s);case P:case k:return void function(e,t,n,r,o,a){var s=i(re(a,e=>{var t=e.getAttribute("id");return[0,t=t?t.replace("app",""):0]},"_apps_cat_row"),3),c=s[0],u=s[1],l=s[2];if(!c)return;if("tap"===q)return;_e(e,Q,c,"tap",n,t,l,u,r,o,ne)}(e,t,n,r,o,s);case H:return void function(e,t,n,r,o,a){var s=a.classList,c=i(re(a,e=>[0,e.getAttribute("data-app-id")||0],"GameCatalogSearchCard"),3),u=c[0],l=c[1],_=c[2];if(!u)return;var d=q;(s.contains("GameCatalogSearchCard__screenshotImg")||s.contains("GameCatalogSearchCard__run")||s.contains("GameCatalogSearchCard__avatar")||s.contains("GameCatalogSearchCard__name"))&&(d="play");if(d===q)return;_e(e,Q,u,d,n,t,_,l,r,o,ne)}(e,t,n,r,o,s);case I:return void function(e,t,n,r,o,a){var s=i(re(a,()=>{var e=a.getAttribute("href")||"",t=(e=e.replace("/photo","")).split("_");return 2!==t.length?[0,0]:[t[0],t[1]]},"page_post_thumb_wrap","._feed_rows .page_post_thumb_wrap"),3),c=s[0],u=s[1],l=s[2];if(!c)return;_e(e,Q,c,"tap",n,t,l,u,r,o,ne)}(e,t,n,r,o,s);case g:case v:case y:case O:case w:return void function(e,t,n,r,o,a){var s=a.classList,c=a.outerHTML;if(gpeByClass("replies",a,".post"))return;var u="feed_row",l="";e!==O&&e!==g&&e!==v||(u="post");e!==g&&e!==v||(l="#page_search_posts .post");var _=i(re(a,e=>{var t;if(e.classList.contains("post"))t=e;else{var n=e.getElementsByClassName("post");if(0===n.length)return[0,0];t=n[0]}if(!t)return[0,0];var r=(t.getAttribute("data-post-id")||"").split("_");return 2===r.length?r:[0,0]},u,l),3),d=_[0],p=_[1],f=_[2];if(!d)return;var h=q;(gpeByClass("wall_text",a,".post")||s.contains("wall_text"))&&(h="tap");(s.contains("author")||s.contains("post_img")||s.contains("copy_author")||s.contains("copy_post_img"))&&(h="open_author");(s.contains("rel_date")||s.contains("published_by_date"))&&(h="tap");(gpeByClass("like",a,".post")||s.contains("like"))&&(h="like");(gpeByClass("comment",a,".post")||s.contains("comment"))&&(h="comment");(gpeByClass("share",a,".post")||s.contains("share"))&&(h="share");s.contains("ui_actions_menu_item")&&-1!==c.indexOf("bookmarkPost")&&(h="fave");s.contains("ui_actions_menu_item")&&-1!==c.indexOf("wall.markAsSpam")&&(h="mark_as_spam");if(h===q)return;_e(e,Q,d,h,n,t,f,p,r,o,ne)}(e,t,n,r,o,s);case B:case C:return void function(e,t,n,r,o,a){var s=a.classList,c=a.tagName,u=i(re(a,e=>{var t=e.getAttribute("id");return[0,t=t?t.replace("app",""):0]},"_apps_settings_row"),3),l=u[0],_=u[1],d=u[2];if(!l)return;var p=q;s.contains("apps_settings_stats")&&(p="stats");"A"!==c&&"img"!==c||(p="tap");if(p===q)return;_e(e,Q,l,p,n,t,d,_,r,o,ne)}(e,t,n,r,o,s)}}}function ae(){var e={},t=a.a.getItem("serps");if(!t)return e;try{e=JSON.parse(t)}catch(t){e={}}return e}function ie(e){if("locked"===a.a.getItem(te))setTimeout(()=>ie(e),100);else{a.a.setItem(te,"locked");try{e()}catch(e){}a.a.setItem(te,"free")}}function se(e,t,n,r,o,i,s,c,u,l){ie(()=>{var _=Math.round(+new Date/1e3),d=ae();d[e]=d[e]||{};var p=Object.keys(d[e]);if(p.length>=100){var f=p[0],h=d[e][f][0];p.forEach(t=>{var n=d[e][t][0];n<h&&(h=n,f=t)}),delete d[e][f]}d[e][s]=[_,t,n,r,o,i,c,u,l],a.a.setItem("serps",JSON.stringify(d))})}function ce(){ie(()=>{var e=ae();if(e){var t=Math.round(+new Date/1e3);Object.keys(e).forEach(n=>{var r=e[n];Object.keys(r).forEach(e=>{var n=r[e][0];t-n>180&&delete r[e]}),e[n]=r,0===Object.keys(r).length&&delete e[n]}),a.a.setItem("serps",JSON.stringify(e))}})}function ue(e,t,n){var r=ae();r[e]=r[e]||{};var o=r[e][t];o&&(Math.round(+new Date/1e3)-o[0]>180?le(!0,e,t):_e(o[1],o[2],o[3],n,o[4],o[5],t,o[6],o[7],o[8],ne))}function le(e,t,n){e&&ie(()=>{var e=ae();e[t]=e[t]||{},e[t][n]&&(delete e[t][n],a.a.setItem("serps",JSON.stringify(e)))})}function _e(e,t,n,r,a,i,s,c,u,l,_){var d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"";if(n){var p=-(new Date).getTimezoneOffset();Object(o.a)("search_position",e,_,r,t,n,"",c,s,i,p,a,u,l,d)}}function de(e,t,n,r,a,i,s,c){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",l=-(new Date).getTimezoneOffset();Object(o.a)("search_attempts",e,"",i,r,l,n,s,a,c,t,u)}function pe(){for(var e in l)l.hasOwnProperty(e)&&fe(e)}function fe(e){if(l[e]){var t=l[e];removeEvent(window,"click",t),delete l[e]}}function he(e,t){var n=t||e.target.getAttribute("data-stats-key");n&&n.length>0&&window.statlogsValueEvent("submenu_clicks",0,n)}function me(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"0",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Q,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";n=n?1:0,de(e,c,o=o&&"0"!==o?o:be(),r,i,n,a,s,u),l[e]&&fe(e);var _=oe.pbind(e,r,o,a,s);l[e]=_,addEvent(window,"click",_,!1,!1,!0),cur.destroy||(cur.destroy=[]),cur.destroy.some(e=>e===pe)||cur.destroy.push(pe)}function be(){return Object(r.E)(-9223372035,9223372035).toFixed(0).concat(Object(r.E)(0,999999999).toFixed(0))}},YQfe:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",o=.4761515102104643},YTvA:function(e,t,n){var r=n("VTer")("keys"),o=n("ylqs");e.exports=function(e){return r[e]||(r[e]=o(e))}},Ymqv:function(e,t,n){var r=n("LZWt");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},YvCB:function(e,t,n){"use strict";function r(e,t){if(!window.Worker||!window.Blob)return setTimeout(e,t);var n=new Blob([`\n      var timeout;\n      onmessage = function(e) {\n        clearTimeout(timeout);\n        if (e.data == 'start') {\n          timeout = setTimeout(function() { postMessage({}); }, ${t});\n        }\n      }\n    `]);try{var r=new Worker(window.URL.createObjectURL(n));return r.onmessage=function(){r.terminate(),e()},r.postMessage("start"),r}catch(n){return setTimeout(e,t)}}n.d(t,"a",(function(){return r}))},Z6vF:function(e,t,n){var r=n("ylqs")("meta"),o=n("0/R4"),a=n("aagx"),i=n("hswa").f,s=0,c=Object.isExtensible||function(){return!0},u=!n("eeVq")((function(){return c(Object.preventExtensions({}))})),l=function(e){i(e,r,{value:{i:"O"+ ++s,w:{}}})},_=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&_.NEED&&c(e)&&!a(e,r)&&l(e),e}}},ZD4m:function(e,t,n){"use strict";function r(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function o(e){var t=e.getBoundingClientRect();return{left:t.left,top:t.top}}function a(){var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function i(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return n&&r?{width:n,height:r}:{width:e.offsetWidth,height:e.offsetHeight}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c}));var s=function(e,t){var n=e.getAttribute(t);if(n)try{return JSON.parse(n)}catch(e){return}},c=function(e,t){document.documentElement.style.setProperty(e,t)}},ZhPi:function(e,t,n){var r=n("WkPL");e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},Zs3y:function(e,t,n){"use strict";function r(e,t){if(void 0===t&&(t={}),window.Raven){var n=t.breadcrumb,r=t.environment;n&&window.Raven.captureBreadcrumb({message:n.message,category:"custom",data:n.data}),r?window.Raven.captureException(e,{environment:r}):window.Raven.captureException(e)}}function o(e){return r(e,{environment:"debugLog"})}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},ZxpX:function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];return e.forEach((function(e){if(e)switch(typeof e){case"string":n.push(e);break;case"object":Object.keys(e).forEach((function(t){e[t]&&n.push(t)}));break;default:n.push(""+e)}})),n.join(" ")}n.d(t,"a",(function(){return r}))},a1Th:function(e,t,n){"use strict";n("OEbY");var r=n("y3w9"),o=n("C/va"),a=n("nh4g"),i=/./.toString,s=function(e){n("KroJ")(RegExp.prototype,"toString",e,!0)};n("eeVq")((function(){return"/a/b"!=i.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?o.call(e):void 0)})):"toString"!=i.name&&s((function(){return i.call(this)}))},aALx:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));var r=[],o=[];function a(e,t){void 0===t&&(t=!1),"function"==typeof e&&(t?o.push(e):r.push(e))}function i(e){var t=r.indexOf(e),n=o.indexOf(e);t>=0&&r.splice(t,1),n>=0&&o.splice(n,1)}function s(){r.forEach((function(e){return e()})),o.forEach((function(e){return e()})),o.splice(0,o.length)}},aCFj:function(e,t,n){var r=n("Ymqv"),o=n("vhPU");e.exports=function(e){return r(o(e))}},aagx:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},ambf:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return _})),n.d(t,"g",(function(){return m}));n("HEwt"),n("a1Th"),n("Btvt"),n("rGqo"),n("rE2o"),n("ioFf");var r=n("MhhX");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=2e3,s=6e4,c=1e4,u="expiring",l="expiring_soon",_="expired",d=[],p={},f={},h=0,m={add(e){var t=o(g(e),3),n=t[0],r=t[1],a=t[2],i=Math.max(n+r-s-a,0),d=Math.max(n+r-c-a,0),h=Math.max(n+r-a,0),m=setTimeout(()=>{b({type:u,message:e})},i),v=setTimeout(()=>{b({type:l,message:e})},d),y=setTimeout(()=>{b({type:_,message:e}),f[e.messageId]=!0,delete p[e.messageId]},h);p[e.messageId]={message:e,expiringTime:i,expiredTime:h,timers:[m,v,y]}},remove(e){this.has(e)&&(p[e].timers.forEach(clearTimeout),delete p[e])},setTimeshift(e){h=1e3*(e||0)},getTimings:e=>p[e]?g(p[e].message):[0,0,0],getExpireTime(e){if(!p[e])return 0;var t=o(g(p[e].message),3),n=t[0],r=t[1],a=t[2];return Math.max(Math.floor((n+r-a)/1e3),0)},isProcessed:e=>!!f[e],subscribe(e){d.push(e)},unsubscribe(e){d=d.filter(t=>t!==e)},has:e=>!!p[e],destroy(){p={},d=[],f={}}};function b(e){d.forEach(t=>t(e))}function g(e){return[1e3*e.date+h,1e3*(Object(r.c)(e)||0),Date.now()]}},aong:function(e,t,n){"use strict";n.d(t,"p",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"q",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"n",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"g",(function(){return w})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return D})),n.d(t,"h",(function(){return P})),n.d(t,"t",(function(){return k})),n.d(t,"r",(function(){return C})),n.d(t,"j",(function(){return T})),n.d(t,"f",(function(){return x})),n.d(t,"m",(function(){return I})),n.d(t,"c",(function(){return A}));n("KKXr"),n("SRfc"),n("a1Th"),n("rGqo"),n("Btvt");var r=n("t7n3"),o=n("J8bf"),a=n("jE6c"),i=n("EasH"),s=n("zxIV"),c=n("4+be"),u=n("gdug"),l=n("QGEU"),_=n("Egk5"),d=n("lXE5"),p=n("R5GP");n.d(t,"s",(function(){return p.b}));var f=n("smNX");function h(e,t){var n=[],r=0;return function(o){n.push(o),r||(r=setTimeout(()=>{r=!1,e(n),n=[]},t))}}function m(e,t){var n,r;if(window.__debugMode){switch(t){case"error":n="color: red",r="background: red; color: white";break;case"success":n="color: green",r="background: green; color: white";break;default:n="color: blue;",r="background: #000; color: #fff;"}try{var o=new Date;console.debug(`%cLP:[${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}:${o.getMilliseconds()}]%c ${e}`,r,n)}catch(e){}}}function b(e){var t=[];if(void 0===e.length)return Object.keys(e).map(t=>e[t]);for(var n=0;n<e.length;n++)t.push(e[n]);return t}function g(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(n.push(e[r]),t[n[r]]=1);return n}function v(e,t){var n;return function(){n||(e.apply(this,arguments),n=setTimeout((function(){n=!1}),t))}}function y(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e}function O(){var e=[].slice.call(arguments),t=e.pop(),n=new CallHub(t,e.length);Object(r.f)(e,(e,t)=>t(()=>n.done()))}function w(e){var t=0;if(0===e.length)return t;for(var n=0,r=e.length;n<r;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}function E(e,t,n,r,o,a,i){var u=t.getValue?t.getValue():t.value,l=t.lastLen||0;if(t.lastLen!==u.length||a){t.lastLen=u.length;var _={"&":5,"<":4,">":4,'"':6,"\n":r?1:4,"\r":0,"!":5,"'":5,$:6,"\\":6},d={1168:1,1169:1,8211:1,8212:1,8216:1,8217:1,8218:1,8230:1,8240:1,8249:1,8250:1,8364:1,8470:1,8482:1,65533:1},p={1037:1,1104:1,1117:1};o&&(_[","]=5);var f=function(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=_[e.charAt(n)],a=e.charCodeAt(n);t+=void 0!==o?o:!i&&a>=128&&(a<1025||p[a]||a>1119)&&!d[a]&&(a<8220||a>8222)&&(a<8224||a>8226)?("&#"+a+";").length:1}return t}(u);if(n=Object(s.J)(n),f>Math.max(e-100,.75*e))if(Object(s.xb)(n),f>e)if(o){var h=Object(s.Cb)(t,function(e,t){for(var n=0,r="",o=0,a=e.length;o<a;o++){var s=e.charAt(o),c=_[s],u=e.charCodeAt(o);if((n+=void 0!==c?c:!i&&u>=128&&(u<1025||p[u]||u>1119)&&!d[u]&&(u<8220||u>8222)&&(u<8224||u>8226)?("&#"+u+";").length:1)>t)break;r+=s}return r}(u,Math.min(e,l)));t.lastLen=h.length,n.innerHTML=Object(c.d)("text_N_symbols_remain",0)}else n.innerHTML=Object(c.d)("text_exceeds_symbol_limit",f-e);else n.innerHTML=Object(c.d)("text_N_symbols_remain",e-f);else Object(s.bb)(n)}}function j(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text),e}function D(e,t,n){if(-1!==(t||{}).h||Object(_.d)(n))return!0;if(-1!==(t||{}).h){var s=e.match(/https?:\/\/([a-zA-Z0-9\-_\.]+\.)?(vk\.com|vkontakte\.ru)(\/|$)/i);if(s&&"api."!==s[1].toLowerCase())return location.href=e,!1;var c=Object(r.r)(Object(o.a)("remixsettings_bits"));if(/https?:\/\/([a-zA-Z0-9\-_]+\.)(vk\.com|vkontakte\.ru)(\/|$)/i.test(Object(a.o)())||1&c)return window.open("/away.php?to="+encodeURIComponent(e)+(t&&void 0!==t.h?"&h="+t.h:""),"_blank"),!1}var u=Object(r.i)({act:"a_go",to:e},t||{});return!Object(i.b)("away.php",u,{},n)}function P(){return!!(document.fullscreenElement||document.fullScreenElement||document.msFullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||cur.pvPartScreen)}function k(e,t){if(void 0!==e&&!1!==e){var n="";!0===t?(vk.balanceEx=e,n="_ex"):vk.balance=e;var o=Object(s.K)("votes_balance_nom"+n);Object(r.f)(o,(t,n)=>n.innerHTML=`${e} ${Object(c.d)("votes_flex",e)}`);var a=e*(vk.vcost||7),i=Object(s.K)("money_balance_nom"+n);Object(r.f)(i,(e,t)=>t.innerHTML=Object(c.d)("global_money_amount_rub",a,!0)),void 0!==t&&!1!==t&&!0!==t&&k(t,!0),window.GamesCatalog&&window.GamesCatalog.updateMoney(e)}}function C(e,t){var n=T(t).split(" "),o=[];["online","mobile","_online"].forEach((function(t){Object(r.o)(t,n)&&!Object(s.ab)(e,t)?o.push(t):!Object(r.o)(t,n)&&Object(s.ab)(e,t)&&Object(s.mb)(e,t)})),o.length>0&&Object(s.c)(e,o.join(" "))}function T(e){var t=" _online";return e&&(t+=" online"),u.d[e]&&(t+=" mobile"),Object(l.e)(),t}function x(e){e=e.split(",");var t=cur.named||{},n=e[0]&&(t[e[0]]||Object(s.J)(e[0]))||!1,r=e[1]&&(t[e[1]]||Object(s.J)(e[1]))||!1;if(!n&&!r){if(!(n=document.getElementsByName(e[0])[0]))return;n=n.nextSibling}var o=Object(s.J)("page_header_wrap")||Object(s.J)("dev_top_nav_wrap");setTimeout((function(){n&&Object(d.g)(Object(s.V)(n)[1]-(o?Object(s.S)(o)[1]:0),0),r&&Object(s.H)(r)}),300)}function I(e,t){return void 0===t&&(t=1e4),setTimeout(Object(i.d)({title:Object(c.d)("global_error")},e).hide,t)}function A(e){var t=Object(s.J)(e+"_container");if(t||(t=Object(s.J)(e)),t&&t.dropdown)return t.dropdown.val()}n.d(t,"l",(function(){return f.a}))},apmT:function(e,t,n){var r=n("0/R4");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},bIHZ:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n("t7n3");function o(e){var t=Object(r.i)({},window.nav.objLoc,e);Object.keys(t).filter((function(e){return""===t[e]})).forEach((function(e){delete t[e]}));var n=window.nav.toStr(t);window.nav.setLoc(n)}function a(){var e={};return{scheduleNav:function(t){e=Object(r.i)(e,t)},commitNav:function(){o(e),e={}},scheduleNavWithTimeOut:function(t,n){void 0===n&&(n=100),e=Object(r.i)(e,t),setTimeout((function(){o(e),e={}}),n)}}}},bTOO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),o=n.n(r),a=n("1Ot2"),i=function(e){var t=e.children,n=e.hasScroll;return void 0===n||n?o.a.createElement(a.a,{className:"ModalBody"},t):o.a.createElement("div",{className:"ModalBody"},t)}},c8JK:function(e,t,n){"use strict";function r(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e)}(e):(o(e),Promise.resolve())}function o(e){var t=document.createElement("input"),n=document.activeElement;t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),n.focus()}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},cDf5:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},cGUQ:function(e,t,n){"use strict";n.r(t),n.d(t,"fromQueryString",(function(){return c})),n.d(t,"toQueryString",(function(){return s}));n("KKXr"),n("Vd3H");var r=n("jE6c"),o={},a=function(e){if(o[e])return e;try{return encodeURIComponent(e)}catch(e){return""}},i=function(e){try{return decodeURIComponent(e)}catch(t){return o[e]=1,e}};function s(e,t){var n=[];for(var o in e)if(e.hasOwnProperty(o)&&null!=e[o]&&!Object(r.j)(e[o]))if(Object(r.h)(e[o]))for(var i=0,s=0,c=e[o].length;i<c;++i)null==e[o][i]||Object(r.j)(e[o][i])||(n.push(a(o)+"["+s+"]="+a(e[o][i])),++s);else n.push(a(o)+"="+a(e[o]));return t||n.sort(),n.join("&")}function c(e){if(!e)return{};var t={};return e=e.split("&"),Object(r.b)(e,(function(e,n){var r=n.split("=");if(r[0]){var o=i(r[1]+"");if("[]"===r[0].substr(r.length-2)){var a=i(r[0].substr(0,r.length-2));t[a]||(t[a]=[]),t[a].push(o)}else t[i(r[0])]=o}})),t}},cYwl:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return f}));var r,o=n("DM2o"),a=n("r0fY"),i=n("FbVm"),s=new(function(){function e(){this.productionStatCollector=new i.f,this.actionStatCollector=new i.a(this.productionStatCollector)}return e.prototype.logEvent=function(e){var t;return this.actionStatCollector.logEvent(((t={type:a.a.TYPE_CUSTOM_METRICS_ITEM})[a.a.TYPE_CUSTOM_METRICS_ITEM]=e,t))},e}()),c=new(function(){function e(){this.productionStatCollector=new i.f,this.clickStatCollector=new i.b(this.productionStatCollector)}return e.prototype.logEvent=function(e){var t,n=((t={type:a.b.TYPE_VKM_CONVERSATION_SUGGESTION_ITEM,position:e.position})[a.b.TYPE_VKM_CONVERSATION_SUGGESTION_ITEM]=e,t),r={type:a.c.VKM_CONVERSATION_SUGGESTION_OPEN};return this.clickStatCollector.logEvent(n,r)},e}()),u=new(function(){function e(){this.productStatCollector=new i.f,this.actionStatCollector=new i.a(this.productStatCollector)}return e.prototype.logEvent=function(e,t){var n,r={peer_id:e,action_type:t},o=((n={type:a.a.TYPE_MESSAGING_ACTION_ITEM})[a.a.TYPE_MESSAGING_ACTION_ITEM]=r,n);this.actionStatCollector.logEvent(o)},e}());!function(e){e.DIALOG_ACTIONS="dialog_actions",e.PROFILE_SCREEN="profile_screen",e.CONTACT_SCREEN="contact_screen"}(r||(r={}));var l=function(e,t){Object(o.a)("convo_invite",e,t)},_=function(e){s.logEvent({experiment_id:1285,service:"messages",metric_name:"open_vk_service_chat",metric_value:3,unit_id:e,unit_type_id:1})},d=function(e){s.logEvent({experiment_id:1285,service:"messages",metric_name:"push_find_friends_button",metric_value:3,unit_id:e,unit_type_id:1})},p=function(e,t){c.logEvent({event_name:a.q.OPEN,track_code:e,position:t})},f=function(e){u.logEvent(e,a.j.OPEN_MR)}},clTp:function(e,t,n){"use strict";function r(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,a=window.pageXOffset||r.scrollLeft||n.scrollLeft,i=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0;return{top:Math.round(t.top+o-i),left:Math.round(t.left+a-s),width:e.offsetWidth,height:e.offsetHeight}}n.d(t,"a",(function(){return r}))},czNK:function(e,t,n){"use strict";var r=n("nh4g"),o=n("DVgA"),a=n("JiEa"),i=n("UqcF"),s=n("S/j/"),c=n("Ymqv"),u=Object.assign;e.exports=!u||n("eeVq")((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=s(e),u=arguments.length,l=1,_=a.f,d=i.f;u>l;)for(var p,f=c(arguments[l++]),h=_?o(f).concat(_(f)):o(f),m=h.length,b=0;m>b;)p=h[b++],r&&!d.call(f,p)||(n[p]=f[p]);return n}:u},"d/Gc":function(e,t,n){var r=n("RYi7"),o=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):a(e,t)}},dV62:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return _}));var r=n("i8i4"),o=n("q1tI"),a="react_root";function i(e,t){window.applicationInitFunctions[e]=t,window.reactInitQueue[e]&&window.reactInitQueue[e].length&&(window.reactInitQueue[e].forEach(t=>{window.initReactApplication(e,t)}),window.reactInitQueue[e]=[])}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.onDestroy||(t.onDestroy=u);var n=window.showFastBox(t),o=document.querySelectorAll(".box_layout"),a=o[o.length-1];return r.render(e,a),l(),n}function c(e){var t=document.querySelectorAll(".box_layout"),n=t[t.length-1];r.render(e,n)}function u(e){var t=document.querySelectorAll(".box_layout"),n=t[t.length-1];n&&r.unmountComponentAtNode(n);var o=window.curBox();o&&o.hide(e)}function l(){var e=document.querySelectorAll(".popup_box_container"),t=e[e.length-1];boxRefreshCoords(t)}function _(e,t,n){var r=n?o.createElement("div",{className:"box_controls ta_r"},n):null,a=n?"":" box_no_buttons";return o.createElement(o.Fragment,null,o.createElement("div",{className:"box_title_wrap"},o.createElement("div",{className:"box_x_button",role:"button",onClick:u}),o.createElement("div",{className:"box_title"},e)),o.createElement("div",{className:"box_body"+a},t),r)}window.applicationInitFunctions||(window.applicationInitFunctions={}),window.reactInitQueue||(window.reactInitQueue={}),window.initReactApplication=(e,t)=>{window.applicationInitFunctions[e]?window.applicationInitFunctions[e](t):(window.reactInitQueue[e]||(window.reactInitQueue[e]=[]),window.reactInitQueue[e].push(t))}},dyZX:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e7yV:function(e,t,n){var r=n("aCFj"),o=n("kJMx").f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(e){return i.slice()}}(e):o(r(e))}},e87a:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n("i8i4"),a=(n("17x9"),n("xt6h"));class i extends r.Component{constructor(){super(...arguments),this.getScrollbarWidth=()=>{var e=document.createElement("div");e.classList.add(this._scrollbarMeasureClass),document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},this.hideScrollBar=()=>{var e=document.body.getBoundingClientRect(),t=e.left+e.right<window.innerWidth,n=this.getScrollbarWidth();this.calculatedPadding=window.getComputedStyle(document.body)["padding-right"],t&&(document.body.style.paddingRight=parseFloat(this.calculatedPadding)+n+"px"),document.body.classList.add(this._bodyHiddenOverflowClass)},this.showScrollBar=()=>{document.body.style.paddingRight=this.calculatedPadding,document.body.classList.remove(this._bodyHiddenOverflowClass)},this.onDocumentKeyDown=e=>{var t=this.props.onClose;"Escape"===e.key&&t()},this.onBackdropClick=()=>{var e=this.props,t=e.onClose,n=e.onBackdropClick;e.disableBackdropClick||(n?n():t())}}componentDidMount(){var e=this.props,t=e.disableEscapeClose,n=e.disableBodyScroll;t||document.body.addEventListener("keydown",this.onDocumentKeyDown),n&&(this._scrollbarMeasureClass=r.createElement("div",{className:"BaseModal__scrollbarMeasure"}).props.className,this._bodyHiddenOverflowClass=r.createElement("div",{className:"BaseModal__bodyHiddenOverflow"}).props.className,this.hideScrollBar())}componentWillUnmount(){var e=this.props,t=e.disableEscapeClose,n=e.disableBodyScroll;t||document.body.removeEventListener("keydown",this.onDocumentKeyDown),n&&this.showScrollBar()}renderModal(){var e=this.props.className,t=Object(a.a)("BaseModal",e);return r.createElement("div",{className:t,"aria-modal":"true"},r.createElement("div",{className:"BaseModal__backdrop",onClick:this.onBackdropClick}),r.createElement("div",{className:"BaseModal__content"},this.props.children))}render(){return o.createPortal(this.renderModal(),document.body)}}i.defaultProps={className:"",children:null,disableBackdropClick:!1,disableEscapeClose:!1,disableBodyScroll:!1},t.default=i},eH33:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={PHOTO:"photo",VIDEO:"video",AUDIO:"audio",COMMENTS:"comments"}},eNQP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n("XzvV"),o=n("t7n3");function a(e,t){for(var n,r=0;r<t.length;r++)if(">"===(n=t[r]))n=">"+t[r-1];else{if(1e3*n>e){n="<"+n;break}n=!1}return n}function i(){var e={},t=[15,60,300,1500,5e3,1e4,15e3,2e4,25e3,3e4],n=[300,1500,5e3,3e4,6e4,12e4,">"],o=!1;setInterval((function(){var i=window.cur&&window.cur.module;i!==o&&(e={},o=i);var s=window.vkLastNav;if(i&&s){var c=a(Date.now()-s,t);if(c&&!e[c]){var u=a(Date.now()-window.vkTabLoaded,n);e[c]=!0;var l=performance.memory.usedJSHeapSize;Object(r.bb)("js_memory_stats_modules",l,i,c,u)}}}),5e3)}function s(){if(Math.random()<.001&&window.performance&&window.performance.getEntriesByType){if(window.clientStatsInited)return!1;var e=window.performance.getEntriesByType("resource");if(!e)return!1;for(var t={},n={},a=0;a<e.length;a++)if(e[a]&&"img"===e[a].initiatorType)if(e[a].duration<100)t["<100"]=(t["<100"]||0)+1;else if(e[a].duration<250)t["100-250"]=(t["100-250"]||0)+1;else if(e[a].duration<500)t["250-500"]=(t["250-500"]||0)+1;else if(e[a].duration<1e3)t["500-1000"]=(t["500-1000"]||0)+1;else if(e[a].duration<2e3)t["1000-2000"]=(t["1000-2000"]||0)+1;else if(e[a].duration<5e3)t["2000-5000"]=(t["2000-5000"]||0)+1;else if(t[">5000"]=(t[">5000"]||0)+1,e[a].name&&e[a].name.indexOf("pp.vk.me")>0){var i="";(i=(i=e[a].name).substr(i.indexOf("pp.vk.me")+9)).indexOf("/")>0&&(n[i=i.substr(0,i.indexOf("/"))]=(n[i]||0)+1)}Object(o.f)(t,(e,t)=>Object(r.bb)("img_load",t,e)),Object(o.f)(n,(e,t)=>Object(r.bb)("img_slow",t,e)),window.clientStatsInited=!0}}function c(){if(window.clientStatsInitedNT)return!1;if(window.performance&&performance.timing){if(Math.random()>.001&&!__dev)return!1;var e={},t=window.cur&&window.cur.module;performance.timing.redirectStart&&performance.timing.redirectEnd&&(e.redirect=performance.timing.redirectEnd-performance.timing.redirectStart),performance.timing.domainLookupStart&&performance.timing.domainLookupEnd&&(e.domainLookup=performance.timing.domainLookupEnd-performance.timing.domainLookupStart),performance.timing.connectStart&&performance.timing.connectEnd&&(e.connect=performance.timing.connectEnd-performance.timing.connectStart,performance.timing.secureConnectionStart&&(e.secureConnection=performance.timing.connectEnd-performance.timing.secureConnectionStart)),performance.timing.requestStart&&performance.timing.responseStart&&(e.request=performance.timing.responseStart-performance.timing.requestStart,performance.timing.responseEnd&&(e.response=performance.timing.responseEnd-performance.timing.responseStart)),performance.timing.unloadEventStart&&performance.timing.unloadEventEnd&&(e.unloadEvent=performance.timing.unloadEventEnd-performance.timing.unloadEventStart),performance.timing.domLoading&&performance.timing.domComplete&&(e.processing=performance.timing.domComplete-performance.timing.domLoading),performance.timing.domContentLoadedEventStart&&performance.timing.domContentLoadedEventEnd&&(e.domContentLoadedEvent=performance.timing.domContentLoadedEventEnd-performance.timing.domContentLoadedEventStart),performance.timing.loadEventStart&&performance.timing.loadEventEnd&&(e.loadEvent=performance.timing.loadEventEnd-performance.timing.loadEventStart),performance.timing.loadEventEnd&&performance.timing.responseEnd&&(e.resource=performance.timing.loadEventEnd-performance.timing.responseEnd),Object(o.f)(e,(e,n)=>Object(r.bb)("navigation_timing",n,e,t)),window.clientStatsInitedNT=!0}}},"eQf/":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c}));var r=n("EasH");function o(e,t,n){return e.setOptions({onDestroy:n}),e.onDone=function(){t&&t.apply(null,arguments)},e}function a(e){return o(Object(r.b)("activation.php",{act:"activate_mobile_box",hash:e.hash}),(function(){vk.nophone=0,e.onDone()}),e.onFail)}function i(e){return o(Object(r.b)("activation.php",{act:"validate_box",captcha:e.acceptCaptcha?1:"",skip_push:e.skip_push?e.skip_push:"",from:e.from||"",hash:e.hash,ahash:e.ahash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}function s(e){return o(Object(r.b)("activation.php",{act:"pass_validate_box",hash:e.hash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}function c(e){return o(Object(r.b)("activation.php",{act:"otp_validate_box",hash:e.hash},{stat:["uncommon.css"]}),e.onDone,e.onFail)}},eVa8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("pIFo");var r=n("W0fz"),o=n("TGUg"),a=n("uk5P");function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",i=!Object(r.a)(e)&&t;if(isArray(e[a.a.AUDIO_ITEM_INDEX_MAIN_ARTISTS])&&(n=Object(o.a)(e[a.a.AUDIO_ITEM_INDEX_MAIN_ARTISTS],i)),isArray(e[a.a.AUDIO_ITEM_INDEX_FEAT_ARTISTS])&&(n+=" feat. ",n+=Object(o.a)(e[a.a.AUDIO_ITEM_INDEX_FEAT_ARTISTS],i)),!n){var s=e[a.a.AUDIO_ITEM_INDEX_PERFORMER]?e[a.a.AUDIO_ITEM_INDEX_PERFORMER].replace(/<\/?em>/g,""):"";if(i){var c="/audio?performer=1&q="+encodeURIComponent(s);n=`<a class="artist_link" data-performer="${s}" href="${c}">${s}</a>`}else n=s}return n}},eaP7:function(e,t,n){"use strict";n.d(t,"pb",(function(){return i})),n.d(t,"jb",(function(){return s})),n.d(t,"bb",(function(){return c})),n.d(t,"fb",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"U",(function(){return _})),n.d(t,"V",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"lb",(function(){return h})),n.d(t,"Y",(function(){return m})),n.d(t,"nb",(function(){return b})),n.d(t,"mb",(function(){return g})),n.d(t,"R",(function(){return v})),n.d(t,"x",(function(){return y})),n.d(t,"j",(function(){return O})),n.d(t,"eb",(function(){return w})),n.d(t,"ab",(function(){return E})),n.d(t,"ib",(function(){return j})),n.d(t,"hb",(function(){return D})),n.d(t,"Z",(function(){return P})),n.d(t,"kb",(function(){return k})),n.d(t,"gb",(function(){return C})),n.d(t,"Q",(function(){return T})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return I})),n.d(t,"k",(function(){return A})),n.d(t,"db",(function(){return M})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return L})),n.d(t,"cb",(function(){return B})),n.d(t,"w",(function(){return R})),n.d(t,"ob",(function(){return N})),n.d(t,"X",(function(){return U})),n.d(t,"W",(function(){return F})),n.d(t,"f",(function(){return W})),n.d(t,"g",(function(){return K})),n.d(t,"T",(function(){return H})),n.d(t,"S",(function(){return q})),n.d(t,"q",(function(){return V})),n.d(t,"p",(function(){return z})),n.d(t,"r",(function(){return G})),n.d(t,"m",(function(){return $})),n.d(t,"s",(function(){return J})),n.d(t,"o",(function(){return Y})),n.d(t,"l",(function(){return X})),n.d(t,"n",(function(){return Q})),n.d(t,"v",(function(){return Z})),n.d(t,"u",(function(){return ee})),n.d(t,"t",(function(){return te})),n.d(t,"J",(function(){return ne})),n.d(t,"A",(function(){return re})),n.d(t,"y",(function(){return oe})),n.d(t,"E",(function(){return ae})),n.d(t,"I",(function(){return ie})),n.d(t,"K",(function(){return se})),n.d(t,"M",(function(){return ce})),n.d(t,"L",(function(){return ue})),n.d(t,"z",(function(){return le})),n.d(t,"B",(function(){return _e})),n.d(t,"G",(function(){return de})),n.d(t,"H",(function(){return pe})),n.d(t,"D",(function(){return fe})),n.d(t,"C",(function(){return he})),n.d(t,"F",(function(){return me})),n.d(t,"N",(function(){return be})),n.d(t,"P",(function(){return ge})),n.d(t,"O",(function(){return ve})),n.d(t,"rb",(function(){return Oe})),n.d(t,"sb",(function(){return we})),n.d(t,"ub",(function(){return Ee})),n.d(t,"tb",(function(){return je})),n.d(t,"qb",(function(){return De}));var r=n("3qfP"),o=n("jE6c"),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e){switch(e[0]){case 0:return{type:"event_delete",localId:e[1]};case 1:return function(e){var t=e[1],n=e[2],r=e[3];return{type:c,messageId:t,mask:n,peerId:r}}(e);case 2:return function(e){var t=e[1],n=e[2],r=e[3];return{type:s,messageId:t,flags:n,peerId:r}}(e);case 3:return function(e){var t=e[1],n=e[2],r=e[3];return{type:u,messageId:t,flags:n,peerId:r}}(e);case 4:return function(e){var t=e[1],n=e[2],o=e[3],i=e[4],s=e[5],c=e[6],u=e[7],_=e[8],d=e[9],p=e[10],f=e[11];return a(a({type:l},Object(r.a)([Number(t),Number(n),Number(i),Number(s),c,u,_,d,p,f])),{minorSortId:o})}(e);case 5:return ye(e);case 6:return Oe(e);case 7:return function(e){var t=e[1],n=e[2],r=e[3];return{type:d,peerId:t,upToId:n,unread:r}}(e);case 10:return we(e);case 11:return function(e){var t=e[1],n=e[2];return{type:E,peerId:t,mask:n}}(e);case 12:return Ee(e);case 13:return function(e){var t=e[1],n=e[2];return{type:S,peerId:t,localId:n}}(e);case 18:return function(e){var t=e[1],n=e[2],o=e[3],i=e[4],s=e[5],c=e[6],u=e[7],l=e[8],_=e[9],d=e[10];return a({type:B},Object(r.a)([Number(t),Number(n),Number(o),Number(i),s,c,u,l,_,d]))}(e);case 19:return function(e){var t=e[1];return{type:R,messageId:t}}(e);case 20:return function(e){var t=e[1],n=e[2];return{type:W,peerId:t,majorId:n}}(e);case 21:return function(e){var t=e[1],n=e[2];return{type:K,peerId:t,minorId:n}}(e);case 23:return function(e){var t=e[1],n=e[2];return{type:H,peerId:t,peerTagsMask:n}}(e);case 51:return function(e){var t=e[1],n=e[2];return{type:p,chatId:t,self:n}}(e);case 52:return function(e){var t=e[1],n=e[2],r=e[3];return{type:f,peerId:n,updateType:t,updateArg:r}}(e);case 63:return function(e){var t=e[1],n=e[2],r=e[3],o=e[4];return{type:h,peerId:t,userIds:n,totalCount:r,ts:o}}(e);case 64:return function(e){var t=e[1],n=e[2],r=e[3],o=e[4];return{type:m,peerId:t,userIds:n,totalCount:r,ts:o}}(e);case 70:return function(e){var t=e[1],n=e[2];return{type:b,userId:t,callId:n}}(e);case 80:return function(e){var t=e[1],n=e[2],r=e[3],o=e[4],a=e[5],i=e[6];return{type:g,count:t,countNotMuted:n,showOnlyNotMuted:r,businessNotifyUnread:o,headerTotalUnread:a,headerNotMutedUnread:i}}(e);case 114:return function(e){var t=e[1]||{},n=t.peer_id,r=t.sound,o=t.disabled_until;return{type:v,peerId:n,sound:r,disabledUntil:o}}(e);case 115:return function(e){var t=e[1];return{type:"incoming_call",payload:t}}(e);case 116:return function(e){var t=e[1]||{},n=t.id,r=t.flags,o=t.peer_id,a=t.date,i=t.message,s=t.kludges,c=t.random_id,u=t.chat_local_id,l=t.update_time,_=t.title;return ye([5,n,r,o,a,i,Object.assign({},s||{},{title:_||""}),{},c,u,l])}(e);case 117:return function(e){var t=e[1]||{},n=t.uuid,r=t.device_name;return{type:"event_audio_start",uuid:n,deviceName:void 0===r?"":r}}(e);case 119:return function(e){var t=e[1],n=t.event_id,r=t.owner_id,o=t.peer_id,a=t.action;return{type:y,event_id:n,owner_id:r,peer_id:o,action:a}}(e);case 120:return{type:q};case-1:return je();case-2:return function(e){var t=e[1],n=e[2];return{type:P,key:t,url:n}}(e);case-3:return function(e){var t=e[1];return{type:N,timeout:t}}(e);case-4:return{type:U};case-5:return{type:F};default:return function(e){return{type:O,params:e}}(e)}}var s="event_set_flags",c="event_replace_flags",u="event_reset_flags",l="event_add_message",_="event_read_inbound",d="event_read_outbound",p="event_chat_changed",f="event_chat_updated",h="event_typing",m="event_recoding_audio",b="event_video_call",g="event_unread_count",v="event_notify_settings_changed",y="event_keyboard_callback_received",O="event_empty",w="event_reset_directories",E="event_replace_directories",j="event_set_directories",D="event_resync",P="event_refresh_lp_key",k="transition_event",C="reset_peer",T="mutex",x="change_peer",I="event_change_tab",A="event_failed_message",M="event_resend",S="event_delete_dialog",L="event_edit_message",B="event_replace_message",R="event_invalidate_event",N="event_waiting_for_reconnect",U="event_reconnecting",F="event_reconnected",W="event_convo_major_id_changed",K="event_convo_minor_id_changed",H="peer_tags_changed",q="peer_profile_tags_changed",V=2,z=8,G=64,$=128,J=65536,Y=1<<21,X=4096,Q=1<<22,Z=1,ee=8,te=32768,ne=1,re=2,oe=3,ae=4,ie=5,se=6,ce=7,ue=8,le=9,_e=10,de=11,pe=12,fe=13,he=19,me=22,be=1,ge=2,ve=3;function ye(e){var t=e[1],n=e[2],o=e[3],i=e[4],s=e[5],c=e[6],u=e[7],l=e[8],_=e[9],d=e[10];return a({type:L},Object(r.a)([Number(t),Number(n),Number(o),Number(i),s,c,u,l,_,d]))}function Oe(e){var t=e[1],n=e[2],r=e[3];return{type:_,peerId:t,upToId:n,unread:r}}function we(e){var t=e[1],n=e[2],r=e[3];return{type:w,peerId:t,mask:n,local:void 0!==r&&r}}function Ee(e){var t=e[1],n=e[2],r=e[3];return{type:j,peerId:t,mask:n,local:void 0!==r&&r}}function je(){return{type:D}}function De(e){var t=e[1],n=e[2],r=e[3],a=e[4],i=e[5];return{type:T,free:!!Object(o.f)(t)||Object(o.f)(a)===window.vk.id,resource:n,peerId:Object(o.f)(r),who:Object(o.f)(a),name:i}}},eeVq:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},egla:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s.a}));var r=n("HLtZ"),o=n("Bj12"),a=function(){function e(){}return e.prototype.logEvent=function(e){e.type&&e[e.type]?Object(o.c)(e):Object(r.c)(new Error("NetworkStatCollector: invalid event."))},e}(),i=new a,s=n("o5u5"),c=function(){function e(e){this.networkStatCollector=e}return e.prototype.logEvent=function(e,t,n){var r,o=((r={network_type:t,network_effective_type:n,type:s.b.TYPE_NETWORK_AUDIO_ITEM})[s.b.TYPE_NETWORK_AUDIO_ITEM]=e,r);this.networkStatCollector.logEvent(o)},e}()},elZq:function(e,t,n){"use strict";var r=n("dyZX"),o=n("hswa"),a=n("nh4g"),i=n("K0xU")("species");e.exports=function(e){var t=r[e];a&&t&&!t[i]&&o.f(t,i,{configurable:!0,get:function(){return this}})}},euvX:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),o=n.n(r),a=n("xt6h"),i=function(e){var t=e.className,n=e.title,r=e.onClose,i=e.appearance,s=void 0===i?"white":i,c=e.backText,u=e.onBack,l=Object(a.a)("ModalHeader","ModalHeader--"+s,t);return o.a.createElement("div",{className:l},c&&o.a.createElement("button",{className:"ModalHeader__back",onClick:u},c),o.a.createElement("h1",{className:"ModalHeader__title"},n),o.a.createElement("button",{className:"ModalHeader__cross",type:"button",onClick:r},"Закрыть"))}},ftTi:function(e,t,n){"use strict";n.d(t,"p",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"o",(function(){return s})),n.d(t,"r",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"f",(function(){return _})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"q",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"k",(function(){return w}));var r=n("aong"),o=n("PEW9");function a(e){return Object(r.s)(e).isLastMsgFalseDebugger}function i(e){return Object(r.s)(e).gid}function s(e){return!!i(e)}function c(e){var t=Object(r.s)(e);return!!s(e)&&((19542789===t.gid||103416369===t.gid)&&(t.active_tab===o.c.UNRESPOND||t.active_tab===o.c.UNREAD))}function u(e){return Object(r.s)(e).peer}function l(e){var t=Object(r.s)(e);return t.settings.show_only_not_muted_messages?t.unread_counters.countNotMuted:t.unread_counters.count}function _(e){var t=Object(r.s)(e);return t.settings.show_only_not_muted_messages?t.unread_counters.headerNotMutedUnread:t.unread_counters.headerTotalUnread}function d(e){return Object(r.s)(e).unread_counters.countNotMuted}function p(e){return Object(r.s)(e).unread_counters.count}function f(e){return Object(r.s)(e).unread_counters.headerTotalUnread}function h(e){return Object(r.s)(e).unread_counters.headerNotMutedUnread}function m(e,t){return Object(r.s)(e).settings[t]}function b(e,t){var n=Object(r.s)(t),o=u(t),a=n.callbackEventButtons.get(o);return a?a.get(e):void 0}function g(e){return Object(r.s)(e).keyboard_app_hash}function v(e){return Object(r.s)(e).callbackActionTimeout}function y(e){return Object(r.s)(e).isRecommendationListNeedUpdate}function O(e){return Object(r.s)(e).emojiOptId}function w(e){var t;return null===(t=Object(r.s)(e).recommendationList)||void 0===t?void 0:t.item_data.track_code}},fyDq:function(e,t,n){var r=n("hswa").f,o=n("aagx"),a=n("K0xU")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},g3g5:function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},g4nd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("XAlg"),o=n("r0fY"),a=n("smNX");function i(e,t){var n=Object(a.a)(e),i=n.type,s=n.type_property,c=n.params;s===o.a.TYPE_DONUT_PAYMENT_ITEM?r.a.logEventAction({event_type:c.event_type,source:c.source,owner_id:c.owner_id}):t&&i===o.m.TYPE_NAVGO&&function(e,t){var n=t.params;if(t.typeProperty===o.l.TYPE_DONUT_DESCRIPTION_NAV_ITEM){var a=n.owner_id,i=n.track_code;if(!n||"number"!=typeof a||"string"!=typeof i)return;r.a.logEventDescriptionClick({ownerId:a,trackCode:i})}}(0,{typeProperty:s,params:c})}},g65Y:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=i(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(c[l]=n[l]);if(r){s=r(n);for(var _=0;_<s.length;_++)a.call(n,s[_])&&(c[s[_]]=n[s[_]])}}return c}},g6HL:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},gHnn:function(e,t,n){var r=n("dyZX"),o=n("GZEu").set,a=r.MutationObserver||r.WebKitMutationObserver,i=r.process,s=r.Promise,c="process"==n("LZWt")(i);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=i.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){i.nextTick(u)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var _=!0,d=document.createTextNode("");new a(u).observe(d,{characterData:!0}),n=function(){d.data=_=!_}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},gdug:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return h}));n("HEwt"),n("rGqo"),n("rE2o"),n("ioFf"),n("a1Th"),n("Btvt"),n("pIFo"),n("KKXr"),n("SRfc");var r=n("t7n3"),o=n("2W9W"),a=n("J8bf"),i=n("cGUQ");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=navigator.userAgent.toLowerCase(),_={version:(l.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(l)||/opr/i.test(l),vivaldi:/vivaldi/i.test(l),amigo:/amigo.*mrchrome soc/i.test(l),msie:/msie/i.test(l)&&!/opera/i.test(l)||/trident\//i.test(l)||/edge/i.test(l),msie6:/msie 6/i.test(l)&&!/opera/i.test(l),msie7:/msie 7/i.test(l)&&!/opera/i.test(l),msie8:/msie 8/i.test(l)&&!/opera/i.test(l),msie9:/msie 9/i.test(l)&&!/opera/i.test(l),msie_edge:/edge/i.test(l)&&!/opera/i.test(l),mozilla:/firefox/i.test(l),yabrowser:/yabrowser/i.test(l),whale:/whale/i.test(l),chrome:/chrome/i.test(l)&&!/edge/i.test(l),safari:!/chrome/i.test(l)&&/webkit|safari|khtml/i.test(l),iphone:/iphone/i.test(l),ipod:/ipod/i.test(l),iphone4:/iphone.*OS 4/i.test(l),ipod4:/ipod.*OS 4/i.test(l),ipad:/ipad/i.test(l),android:/android/i.test(l),bada:/bada/i.test(l),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(l),msie_mobile:/iemobile/i.test(l),safari_mobile:/iphone|ipod|ipad/i.test(l),opera_mobile:/opera mini|opera mobi/i.test(l),opera_mini:/opera mini/i.test(l),mac:/mac/i.test(l),windows7:/windows nt 6.1/i.test(l),windowsVista:/windows nt 6.0/i.test(l),windowsXp:/windows nt (5.2|5.1)/i.test(l),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(l),smart_tv:/smart-tv|smarttv/i.test(l)},d={1:1,2:1,3:1,4:1,5:1,8:1},p={wheelEvent:"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":_.mozilla?"MozMousePixelScroll":"DOMMouseScroll",hasBoundingClientRect:"getBoundingClientRect"in document.createElement("div"),cmaEnabled:navigator.credentials&&navigator.credentials.preventSilentAccess&&window.vk&&vk.cma};function f(){var e,t=s(location.href.split("?"),2),n=t[0],o=t[1],a={},u=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}(new URLSearchParams(o));try{for(u.s();!(e=u.n()).done;){var l=e.value;a[l[0]]=l[1]}}catch(e){u.e(e)}finally{u.f()}if(a){if("1"===a.m)return;if(a.force_redirect_to_mvk){delete a.force_redirect_to_mvk;var _=Object(i.toQueryString)(a);return void(window.location=n.replace(/vk\.com/,"m.vk.com")+(_?"?"+_:""))}}if(/vk\.com/.test(n)&&!/vk\.com\/@/.test(n)){var d=Object(r.i)(a,{force_redirect_to_mvk:1}),p=n+"?"+Object(i.toQueryString)(d);window.location=p}}function h(){Object(o.d)(_)&&!Object(a.a)("remixforce_full")&&f(),window._ua||(window._ua=navigator.userAgent.toLowerCase()),window.locDomain||(window.locDomain=location.host.toString().match(/[a-zA-Z]+\.[a-zA-Z]+\.?$/)[0]),window.locHost=location.host,window.locProtocol=location.protocol,window.locHash=location.hash.replace("#/","").replace("#!","")}},"h++7":function(e,t,n){"use strict";n.d(t,"v",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"D",(function(){return i})),n.d(t,"s",(function(){return s})),n.d(t,"t",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"x",(function(){return _})),n.d(t,"w",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"B",(function(){return m})),n.d(t,"C",(function(){return b})),n.d(t,"y",(function(){return g})),n.d(t,"A",(function(){return v})),n.d(t,"r",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"u",(function(){return w})),n.d(t,"z",(function(){return j})),n.d(t,"q",(function(){return D}));n("Oyvg");var r=n("PEW9");n.d(t,"n",(function(){return r.m})),n.d(t,"g",(function(){return r.e})),n.d(t,"o",(function(){return r.n})),n.d(t,"h",(function(){return r.f})),n.d(t,"k",(function(){return r.i})),n.d(t,"l",(function(){return r.j})),n.d(t,"i",(function(){return r.g})),n.d(t,"j",(function(){return r.h})),n.d(t,"m",(function(){return r.l}));var o=/^([a-zA-Z0-9\.\_\-]+\.)?(vkontakte\.ru|vk\.com|vkadre\.ru|vshtate\.ru|userapi\.com|vk\.me)$/,a=/([^a-zA-Z0-9#%;_\-.\/?&=\[\]])/g,i=/^(?:https?:\/\/)?(?:vk\.com|vkontakte\.ru)?\/([a-zA-Z0-9\._]+)\??$/,s=/\[(id|club)(\d+)(?:\:([a-z0-9_\-]+))?\|([^\$]+?)\]/g,c=/(^|[\s.,:\'\";>\)\(])(\*|@)([A-Za-z0-9_\.]{2,32})\s*\((.+?)\)/g,u=38,l=40,_=33,d=34,p=35,f=36,h=13,m=[u,l,_,d,h,27,p,f],b=[_,d,l,u,f,p],g="printable",v=[].concat("aaa,aarp,abarth,abb,abbott,abbvie,abc,able,abogado,abudhabi,ac,academy,accenture,accountant,accountants,aco,active,actor,ad,adac,ads,adult,ae,aeg,aero,aetna,af,afamilycompany,afl,africa,ag,agakhan,agency,ai,aig,aigo,airbus,airforce,airtel,akdn,al,alfaromeo,alibaba,alipay,allfinanz,allstate,ally,alsace,alstom,am,americanexpress,americanfamily,amex,amfam,amica,amsterdam,an,analytics,android,anquan,anz,ao,aol,apartments,app,apple,aq,aquarelle,ar,aramco,archi,army,arpa,art,arte,as,asda,asia,associates,at,athleta,attorney,au,auction,audi,audible,audio,auspost,author,auto,autos,avianca,aw,aws,ax,axa,az,azure,ba,baby,baidu,banamex,bananarepublic,band,bank,bar,barcelona,barclaycard,barclays,barefoot,bargains,baseball,basketball,bauhaus,bayern,bb,bbc,bbt,bbva,bcg,bcn,bd,be,beats,beauty,beer,bentley,berlin,best,bestbuy,bet,bf,bg,bh,bharti,bi,bible,bid,bike,bing,bingo,bio,biz,bj,bl,black,blackfriday,blanco,blockbuster,blog,bloomberg,blue,bm,bms,bmw,bn,bnl,bnpparibas,bo,boats,boehringer,bofa,bom,bond,boo,book,booking,boots,bosch,bostik,boston,bot,boutique,box,bq,br,bradesco,bridgestone,broadway,broker,brother,brussels,bs,bt,budapest,bugatti,build,builders,business,buy,buzz,bv,bw,by,bz,bzh,ca,cab,cafe,cal,call,calvinklein,cam,camera,camp,cancerresearch,canon,capetown,capital,capitalone,car,caravan,cards,care,career,careers,cars,cartier,casa,case,caseih,cash,casino,cat,catering,catholic,cba,cbn,cbre,cbs,cc,cd,ceb,center,ceo,cern,cf,cfa,cfd,cg,ch,chanel,channel,chase,chat,cheap,chintai,chloe,christmas,chrome,chrysler,church,ci,cipriani,circle,cisco,citadel,citi,citic,city,cityeats,ck,cl,claims,cleaning,click,clinic,clinique,clothing,cloud,club,clubmed,cm,cn,co,coach,codes,coffee,college,cologne,com,comcast,commbank,community,company,compare,computer,comsec,condos,construction,consulting,contact,contractors,cooking,cookingchannel,cool,coop,corsica,country,coupon,coupons,courses,cr,credit,creditcard,creditunion,cricket,crown,crs,cruise,cruises,csc,cu,cuisinella,cv,cw,cx,cy,cymru,cyou,cz,dabur,dad,dance,data,date,dating,datsun,day,dclk,dds,de,deal,dealer,deals,degree,delivery,dell,deloitte,delta,democrat,dental,dentist,desi,design,dev,dhl,diamonds,diet,digital,direct,directory,discount,discover,dish,diy,dj,dk,dm,dnp,do,docs,doctor,dodge,dog,doha,domains,dot,download,drive,dtv,dubai,duck,dunlop,duns,dupont,durban,dvag,dvr,dz,earth,eat,ec,eco,edeka,edu,education,ee,eg,eh,email,emerck,energy,engineer,engineering,enterprises,epost,epson,equipment,er,ericsson,erni,es,esq,estate,esurance,et,eu,eurovision,eus,events,everbank,exchange,expert,exposed,express,extraspace,fage,fail,fairwinds,faith,family,fan,fans,farm,farmers,fashion,fast,fedex,feedback,ferrari,ferrero,fi,fiat,fidelity,fido,film,final,finance,financial,fire,firestone,firmdale,fish,fishing,fit,fitness,fj,fk,flickr,flights,flir,florist,flowers,fly,fm,fo,foo,food,foodnetwork,football,ford,forex,forsale,forum,foundation,fox,fr,free,fresenius,frl,frogans,frontdoor,frontier,ftr,fujitsu,fujixerox,fun,fund,furniture,futbol,fyi,ga,gal,gallery,gallo,gallup,game,games,gap,garden,gb,gbiz,gd,gdn,ge,gea,gent,genting,george,gf,gg,ggee,gh,gi,gift,gifts,gives,giving,gl,glade,glass,gle,global,globo,gm,gmail,gmbh,gmo,gmx,gn,godaddy,gold,goldpoint,golf,goo,goodhands,goodyear,goog,google,gop,got,gov,gp,gq,gr,grainger,graphics,gratis,green,gripe,group,gs,gt,gu,guardian,gucci,guge,guide,guitars,guru,gw,gy,hair,hamburg,hangout,haus,hbo,hdfc,hdfcbank,health,healthcare,help,helsinki,here,hermes,hgtv,hiphop,hisamitsu,hitachi,hiv,hk,hkt,hm,hn,hockey,holdings,holiday,homedepot,homegoods,homes,homesense,honda,honeywell,horse,hospital,host,hosting,hot,hoteles,hotmail,house,how,hr,hsbc,ht,htc,hu,hughes,hyatt,hyundai,ibm,icbc,ice,icu,id,ie,ieee,ifm,ikano,il,im,imamat,imdb,immo,immobilien,in,industries,infiniti,info,ing,ink,institute,insurance,insure,int,intel,international,intuit,investments,io,ipiranga,iq,ir,irish,is,iselect,ismaili,ist,istanbul,it,itau,itv,iveco,iwc,jaguar,java,jcb,jcp,je,jeep,jetzt,jewelry,jio,jlc,jll,jm,jmp,jnj,jo,jobs,joburg,jot,joy,jp,jpmorgan,jprs,juegos,juniper,kaufen,kddi,ke,kerryhotels,kerrylogistics,kerryproperties,kfh,kg,kh,ki,kia,kim,kinder,kindle,kitchen,kiwi,km,kn,koeln,komatsu,kosher,kp,kpmg,kpn,kr,krd,kred,kuokgroup,kw,ky,kyoto,kz,la,lacaixa,ladbrokes,lamborghini,lamer,lancaster,lancia,lancome,land,landrover,lanxess,lasalle,lat,latino,latrobe,law,lawyer,lb,lc,lds,lease,leclerc,lefrak,legal,lego,lexus,lgbt,li,liaison,lidl,life,lifeinsurance,lifestyle,lighting,like,lilly,limited,limo,lincoln,linde,link,lipsy,live,living,lixil,lk,loan,loans,local,locker,locus,loft,lol,london,lotte,lotto,love,lpl,lplfinancial,lr,ls,lt,ltd,ltda,lu,lundbeck,lupin,luxe,luxury,lv,ly,ma,macys,madrid,maif,maison,makeup,man,management,mango,market,marketing,markets,marriott,marshalls,maserati,mattel,mba,mc,mcd,mcdonalds,mckinsey,md,me,med,media,meet,melbourne,meme,memorial,men,menu,meo,metlife,mf,mg,mh,miami,microsoft,mil,mini,mint,mit,mitsubishi,mk,ml,mlb,mls,mm,mma,mn,mo,mobi,mobile,mobily,moda,moe,moi,mom,monash,money,monster,montblanc,mopar,mormon,mortgage,moscow,moto,motorcycles,mov,movie,movistar,mp,mq,mr,ms,msd,mt,mtn,mtpc,mtr,mu,museum,mutual,mv,mw,mx,my,mz,na,nab,nadex,nagoya,name,nationwide,natura,navy,nba,nc,ne,nec,net,netbank,netflix,network,neustar,new,newholland,news,next,nextdirect,nexus,nf,nfl,ng,ngo,nhk,ni,nico,nike,nikon,ninja,nissan,nissay,nl,no,nokia,northwesternmutual,norton,now,nowruz,nowtv,np,nr,nra,nrw,ntt,nu,nyc,nz,obi,observer,off,office,okinawa,olayan,olayangroup,oldnavy,ollo,om,omega,one,ong,onl,online,onyourside,ooo,open,oracle,orange,org,organic,orientexpress,origins,osaka,otsuka,ott,ovh,pa,page,pamperedchef,panasonic,panerai,paris,pars,partners,parts,party,passagens,pay,pccw,pe,pet,pf,pfizer,pg,ph,pharmacy,philips,phone,photo,photography,photos,physio,piaget,pics,pictet,pictures,pid,pin,ping,pink,pioneer,pizza,pk,pl,place,play,playstation,plumbing,plus,pm,pn,pnc,pohl,poker,politie,porn,post,pr,pramerica,praxi,press,prime,pro,prod,productions,prof,progressive,promo,properties,property,protection,pru,prudential,ps,pt,pub,pw,pwc,py,qa,qpon,quebec,quest,qvc,racing,radio,raid,re,read,realestate,realtor,realty,recipes,red,redstone,redumbrella,rehab,reise,reisen,reit,reliance,ren,rent,rentals,repair,report,republican,rest,restaurant,review,reviews,rexroth,rich,richardli,ricoh,rightathome,ril,rio,rip,rmit,ro,rocher,rocks,rodeo,rogers,room,rs,rsvp,ru,ruhr,run,rw,rwe,ryukyu,sa,saarland,safe,safety,sakura,sale,salon,samsclub,samsung,sandvik,sandvikcoromant,sanofi,sap,sapo,sarl,sas,save,saxo,sb,sbi,sbs,sc,sca,scb,schaeffler,schmidt,scholarships,school,schule,schwarz,science,scjohnson,scor,scot,sd,se,seat,secure,security,seek,select,sener,services,ses,seven,sew,sex,sexy,sfr,sg,sh,shangrila,sharp,shaw,shell,shia,shiksha,shoes,shop,shopping,shouji,show,showtime,shriram,si,silk,sina,singles,site,sj,sk,ski,skin,sky,skype,sl,sling,sm,smart,smile,sn,sncf,so,soccer,social,softbank,software,sohu,solar,solutions,song,sony,soy,space,spiegel,spot,spreadbetting,sr,srl,srt,ss,st,stada,staples,star,starhub,statebank,statefarm,statoil,stc,stcgroup,stockholm,storage,store,stream,studio,study,style,su,sucks,supplies,supply,support,surf,surgery,suzuki,sv,swatch,swiftcover,swiss,sx,sy,sydney,symantec,systems,sz,tab,taipei,talk,taobao,target,tatamotors,tatar,tattoo,tax,taxi,tc,tci,td,tdk,team,tech,technology,tel,telecity,telefonica,temasek,tennis,teva,tf,tg,th,thd,theater,theatre,tiaa,tickets,tienda,tiffany,tips,tires,tirol,tj,tjmaxx,tjx,tk,tkmaxx,tl,tm,tmall,tn,to,today,tokyo,tools,top,toray,toshiba,total,tours,town,toyota,toys,tp,tr,trade,trading,training,travel,travelchannel,travelers,travelersinsurance,trust,trv,tt,tube,tui,tunes,tushu,tv,tvs,tw,tz,ua,ubank,ubs,uconnect,ug,uk,um,unicom,university,uno,uol,ups,us,uy,uz,va,vacations,vana,vanguard,vc,ve,vegas,ventures,verisign,vermögensberater,vermögensberatung,versicherung,vet,vg,vi,viajes,video,vig,viking,villas,vin,vip,virgin,visa,vision,vista,vistaprint,viva,vivo,vlaanderen,vn,vodka,volkswagen,volvo,vote,voting,voto,voyage,vu,vuelos,wales,walmart,walter,wang,wanggou,warman,watch,watches,weather,weatherchannel,webcam,weber,website,wed,wedding,weibo,weir,wf,whoswho,wien,wiki,williamhill,win,windows,wine,winners,wme,wolterskluwer,woodside,work,works,world,wow,ws,wtc,wtf,xbox,xerox,xfinity,xihuan,xin,xperia,xxx,xyz,yachts,yahoo,yamaxun,yandex,ye,yodobashi,yoga,yokohama,you,youtube,yt,yu,yun,za,zappos,zara,zero,zip,zippo,zm,zone,zuerich,zw".split(","),"бг,бел,дети,ею,католик,ком,мкд,мон,москва,онлайн,орг,рус,рф,сайт,срб,укр".split(","),"qxam,90ae,90ais,d1acj3b,e1a4c,80aqecdr1a,j1aef,d1alf,l1acc,80adxhks,80asehdb,c1avg,p1acf,p1ai,80aswg,90a3ac,j1amh,80ao21a,y9a3aq,9dbq2a,mgbca7dzdo,mgba3a3ejt,mgbayh7gpa,lgbbat1ad8j,mgberp4a5d4ar,mgba7c0bbn0a,mgbc0a9azcg,mgb2ddes,mgbaam7a8h,mgba3a4f16a,mgbbh1a,mgbab2bd,ngbe9e0a,mgbbh1a71e,pgbs0dh,mgbpl2fh,ogbpf8fl,ngbc5azd,mgbtx2b,mgb9awbf,ygbi2ammx,wgbl6a,mgbi4ecexp,fhbei,wgbh1c,mgbx4cd0ab,mgbb9fbpob,4gbrim,mgbt3dhd,mgbai9azgqp6j,mgbgu82a,11b4c3d,c2br7g,h2brj9c,h2breg3eve,h2brj9c8c,i1b6b1a6a2e,54b7fta0cc,45brj9c,45br5cyl,s9brj9c,gecrj9c,3hcrj9c,xkc2dl3a5ee0h,xkc2al3hye2a,clchc0ea0b2g2a9gcd,fpcrj9c3d,2scrj9c,rvc1e0am3e,fzc2c9e2c,42c2d9a,o3cw4h,node,q9jyb4c,gckr3f0f,qcka1pmc,tckwe,cck2b3b,1ck2e1b,bck1b9a5dre4c,eckvdtc9d,rhqv96g,fiq64b,fiqs8s,fiqz9s,fiq228c5hs,vhquv,1qqw23a,vuq861b,nyqy26a,45q11c,55qx5d,55qw42g,kprw13d,kpry57d,czru2d,czrs0t,czr694b,w4rs40l,w4r85el8fhu5dnra,3ds443g,3oq18vl8pn36a,pssy2u,tiq49xqyj,fjq720a,fct429k,estv75g,xhq521b,9krt00a,30rr7y,6qq986b3xl,kput3i,kpu716f,zfr164b,mxtq1m,yfro4i67o,efvy88h,9et52u,rovu88b,nqv7f,b4w605ferd,unup4y,mix891f,mix082f,3pxu8k,pbt977c,6frz82g,nqv7fs00ema,ses554g,hxt814e,5tzm5g,io0a7i,8y0a063a,jlq61u9w7b,flw351e,g2xx48c,gk3at1e,3bst00m,fzys8d69uvgm,kcrx77d1x4a,jvr189m,imr513n,5su34j936bgsg,j6w193g,t60b56a,mk1bu44c,cg4bki,3e0b707e".split(",").map(e=>"xn--"+e)),y=v.reduce((e,t)=>Math.max(e,t.length),0),O=new RegExp("([a-zA-Zа-яА-Я\\-_\\.0-9\\+]+@(((?:[\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј\\—\\-\\_]+\\.){1,5})([A-Za-zа-яА-Я\\-\\d]{2,22})))","ig"),w=new RegExp("(https?:\\/\\/)?(((?:[\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј\\—\\-\\_]+\\.){1,5})([A-Za-zа-яА-Я\\-\\d]{2,22})(?:\\:(\\d{2,5}))?)(([\\/?#])(?:\\&amp;|\\&#\\d{2,6};|,[_%]|!|,*[\\wА-Яа-я\\xa8\\xb8\\xc0-\\xffєЄҐґЇїІіЈј\\—\\-\\_@#%?+\\/\\$.~=;:'ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ　-〿＀-￯*]+|(?:\\(|\\[)[\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј\\d&#%;,]+(?:\\)|\\])){0,200})?","ig"),E="(?:[a-zA-Zа-яА-ЯёіјєїґўЁІЈЄЇҐЎ’_\\d]|(?:&#(?:19[2-9]|(?:[2-9]|1[0-3])[0-9][0-9]);?))",j=`(^|[s.,:'";>)(]?)(${`(#${E}{0,100}(?:[a-zA-Zа-яА-ЯёіјєїґўЁІЈЄЇҐЎ’]|(?:&#(?:19[2-9]|(?:[2-9]|1[0-3])[0-9][0-9]);?))${E}{0,100})`})(@((?:[a-z0-9_]*[a-z0-9])?(?:(?:.[a-z](?:[a-z0-9_]+[a-z0-9])?)*.[a-z][a-z0-9_]{2,40}[a-z0-9])?))?(?=$|[s.,:'"&;?<)(]?)`,D=10},h7Kf:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));n("91GP"),n("ioFf"),n("rGqo"),n("Btvt");var r=n("q1tI"),o=(n("17x9"),n("xt6h"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class s extends r.Component{constructor(e){super(e),this.onChange=e=>{this.isControlledOutside||this.setState({value:e.target.value}),this.props.onChange&&this.props.onChange(e)},this.getRef=e=>{this.element=e},this.onFocus=e=>{this.props.onFocus&&this.props.onFocus(e)},void 0!==e.value||e.isControlledOutside?this.isControlledOutside=!0:this.state={value:e.initialValue||""}}render(){var e=this.props,t=e.alignment,n=e.value,s=(e.onChange,e.initialValue,e.className),c=(e.isControlledOutside,i(e,["alignment","value","onChange","initialValue","className","isControlledOutside"])),u={"Input--left":"left"===t,"Input--center":"center"===t,"Input--right":"right"===t};return r.createElement("input",a({},c,{className:Object(o.a)("Input",u,s),ref:this.getRef,value:this.isControlledOutside?n:this.state.value,onChange:this.onChange,onFocus:this.onFocus}))}}s.defaultProps={type:"text",initialValue:"",alignment:"left"}},hC3G:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i}));n("Oyvg");var r=112,o={all:["all","everyone","все"],online:["online","here","здесь","тут"]},a=new RegExp(['(?!,|;|:|\\.|\\s|<br ?/?>|"|\\(|\\)|\\[|\\]|!|\\?)',"(",[].concat(o.all).concat(o.online).map(e=>`@${e}|\\*${e}`).join("|"),")",'(?=$|,|;|:|\\.(?![a-z0-9_-])|\\s|<br ?/?>|"|\\(|\\)|\\[|\\]|!|\\?)'].join(""),"gi"),i=-22822305},hPIQ:function(e,t){e.exports={}},hhXQ:function(e,t,n){var r=n("XKFU"),o=n("UExd")(!1);r(r.S,"Object",{values:function(e){return o(e)}})},hswa:function(e,t,n){var r=n("y3w9"),o=n("xpql"),a=n("apmT"),i=Object.defineProperty;t.f=n("nh4g")?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},i5dc:function(e,t,n){var r=n("0/R4"),o=n("y3w9"),a=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n("m0Pp")(Function.call,n("EemH").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},i6oL:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n("v+DW"),o=n("El3O"),a=n("kHqu"),i=n("Egk5"),s=n("lXE5"),c=n("zxIV"),u=n("t7n3"),l=n("4+be"),_=!1,d=!0;function p(){var e={onclick:f,onmousedown:h,onmouseover:m,onmouseout:m};Object(c.Cb)(_stlLeft,'<div id="stl_bg"><nobr id="stl_text">'+Object(l.d)("global_to_top")+"</nobr></div>"),Object(u.i)(_stlLeft,e),Object(u.i)(_stlSide,e),window._stlBg=_stlLeft.firstChild,window._stlText=window._stlBg.firstChild,Object(i.b)(window,"blur",(function(){window._wf=-1,_=!1})),Object(i.b)(window,"focus",(function(){window._wf=1,_||(window.__afterFocus=!0,_=!0,setTimeout((function(){window.__afterFocus=!1}),10),d&&(Object(r.t)(!0),Object(o.j)(!0),d=!1))}))}function f(e){return Object(i.d)(e)||Object(i.c)(e)}function h(e){if(e=e||window.event,!Object(i.d)(e)&&!__afterFocus)if(_stlWasSet&&_stlWas){var t=_stlWas;window._stlWas=0,Object(s.g)(t,0,!0,!0),Object(a.j)(!0)}else 1===_stlBack?_tbLink.onclick():(window._stlWas=Object(s.e)(),Object(s.g)(0,0,!0,!0),Object(a.j)())}function m(e){var t=e?e.originalEvent||e:window.event||{},n="mouseover"===t.type&&(t.pageX>0||t.clientX>0);Object(c.zb)(_stlLeft,"over",n),Object(c.zb)(_stlLeft,"over_fast",n&&(0===_stlBack||_tbLink.fast)&&0===_stlWasSet),Object(c.zb)(_stlSide,"over",n)}function b(){var e=window.innerWidth,t=document.documentElement.clientWidth,n=Math.max(Object(u.r)(e),Object(u.r)(t));Object(c.zb)(bodyNode,"no_stl",n<vk.width+280),Object(c.zb)(bodyNode,"no_sett",n<vk.width+62)}},i8i4:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n("yl30")},ioFf:function(e,t,n){"use strict";var r=n("dyZX"),o=n("aagx"),a=n("nh4g"),i=n("XKFU"),s=n("KroJ"),c=n("Z6vF").KEY,u=n("eeVq"),l=n("VTer"),_=n("fyDq"),d=n("ylqs"),p=n("K0xU"),f=n("N8g3"),h=n("OnI7"),m=n("1MBn"),b=n("EWmC"),g=n("y3w9"),v=n("0/R4"),y=n("S/j/"),O=n("aCFj"),w=n("apmT"),E=n("RjD/"),j=n("Kuth"),D=n("e7yV"),P=n("EemH"),k=n("JiEa"),C=n("hswa"),T=n("DVgA"),x=P.f,I=C.f,A=D.f,M=r.Symbol,S=r.JSON,L=S&&S.stringify,B=p("_hidden"),R=p("toPrimitive"),N={}.propertyIsEnumerable,U=l("symbol-registry"),F=l("symbols"),W=l("op-symbols"),K=Object.prototype,H="function"==typeof M&&!!k.f,q=r.QObject,V=!q||!q.prototype||!q.prototype.findChild,z=a&&u((function(){return 7!=j(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=x(K,t);r&&delete K[t],I(e,t,n),r&&e!==K&&I(K,t,r)}:I,G=function(e){var t=F[e]=j(M.prototype);return t._k=e,t},$=H&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},J=function(e,t,n){return e===K&&J(W,t,n),g(e),t=w(t,!0),g(n),o(F,t)?(n.enumerable?(o(e,B)&&e[B][t]&&(e[B][t]=!1),n=j(n,{enumerable:E(0,!1)})):(o(e,B)||I(e,B,E(1,{})),e[B][t]=!0),z(e,t,n)):I(e,t,n)},Y=function(e,t){g(e);for(var n,r=m(t=O(t)),o=0,a=r.length;a>o;)J(e,n=r[o++],t[n]);return e},X=function(e){var t=N.call(this,e=w(e,!0));return!(this===K&&o(F,e)&&!o(W,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,B)&&this[B][e])||t)},Q=function(e,t){if(e=O(e),t=w(t,!0),e!==K||!o(F,t)||o(W,t)){var n=x(e,t);return!n||!o(F,t)||o(e,B)&&e[B][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=A(O(e)),r=[],a=0;n.length>a;)o(F,t=n[a++])||t==B||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===K,r=A(n?W:O(e)),a=[],i=0;r.length>i;)!o(F,t=r[i++])||n&&!o(K,t)||a.push(F[t]);return a};H||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===K&&t.call(W,n),o(this,B)&&o(this[B],e)&&(this[B][e]=!1),z(this,e,E(1,n))};return a&&V&&z(K,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),P.f=Q,C.f=J,n("kJMx").f=D.f=Z,n("UqcF").f=X,k.f=ee,a&&!n("LQAc")&&s(K,"propertyIsEnumerable",X,!0),f.f=function(e){return G(p(e))}),i(i.G+i.W+i.F*!H,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=T(p.store),oe=0;re.length>oe;)h(re[oe++]);i(i.S+i.F*!H,"Symbol",{for:function(e){return o(U,e+="")?U[e]:U[e]=M(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),i(i.S+i.F*!H,"Object",{create:function(e,t){return void 0===t?j(e):Y(j(e),t)},defineProperty:J,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ae=u((function(){k.f(1)}));i(i.S+i.F*ae,"Object",{getOwnPropertySymbols:function(e){return k.f(y(e))}}),S&&i(i.S+i.F*(!H||u((function(){var e=M();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(v(t)||void 0!==e)&&!$(e))return b(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,L.apply(S,r)}}),M.prototype[R]||n("Mukb")(M.prototype,R,M.prototype.valueOf),_(M,"Symbol"),_(Math,"Math",!0),_(r.JSON,"JSON",!0)},jE6c:function(e,t,n){"use strict";n.d(t,"p",(function(){return o})),n.d(t,"q",(function(){return h})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return i})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return s})),n.d(t,"n",(function(){return a})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return p})),n.d(t,"s",(function(){return b})),n.d(t,"o",(function(){return r})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return g})),n.d(t,"r",(function(){return O}));n("91GP"),n("KKXr"),n("a1Th"),n("Btvt"),n("pIFo");var r=()=>location.toString().replace(/#.+$/,""),o=(e,t)=>Math.random()*(t-e+1)+e,a=e=>void 0===e,i=e=>e&&"[object Function]"===Object.prototype.toString.call(e),s=e=>"string"==typeof e,c=e=>"[object Array]"===Object.prototype.toString.call(e),u=e=>"[object Object]"===Object.prototype.toString.call(e),l=e=>{if(!u(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},_=e=>!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e),d=e=>e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):"",p=e=>e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;"),f=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;"),h=e=>ce("textarea",{innerHTML:(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}).value,m=(e,t)=>Math.floor(o(e,t));var b=()=>+new Date;function g(e){return!0===e?1:parseInt(e)||0}function v(e,t){if(!e)return e;if(u(e)||void 0===e.length){for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],n,e[n]))break}else for(var r=0,o=e.length;r<o;r++){var a=e[r];if(!1===t.call(a,r,a))break}return e}var y=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign({},e,...n.reverse(),e)},O=()=>window.Image?new Image:ce("img")},jXbq:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n("FbVm"),o=n("r0fY"),a=n("OrGp"),i=n("EasH"),s=n("xt6h"),c=n("KkBR"),u=n("LlZA"),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var _={show:function(e,t){var n=e.withForm,_=new i.a({title:"",width:n?796:450,hideButtons:!0,containerClass:Object(s.a)("UnauthActionBoxContainer",{"UnauthActionBoxContainer--form":n}),onHide:function(){t&&t()}});_.content(e.html),_.changed=!0;var d=_.bodyNode.querySelector(".UnauthActionBox__close"),p=_.bodyNode.querySelector(".UnauthActionBox__join"),f=_.bodyNode.querySelector(".UnauthActionBox__login"),h=function(t){r.m.logEvent(o.h.UNAUTH_ACTION_BOX,t,e.action,window.location.href)};null==d||d.addEventListener("click",(function(){h(o.i.CLOSE),_.hide()})),null==p||p.addEventListener("click",(function(){h(o.i.CLICK_SIGN_UP),Object(a.b)()})),null==f||f.addEventListener("click",(function(){h(o.i.CLICK_SIGN_IN),Object(a.c)()})),h(o.i.OPEN),_.show();var m=_.bodyNode.querySelector(".LoginCombinedBox"),b=_.bodyNode.querySelector(".JoinForm"),g=function(e){e.preventDefault(),h(o.i.CLOSE),_.hide()};return _.bodyNode.querySelectorAll(".LoginBox").forEach((function(e){Object(c.b)(e)})),_.bodyNode.querySelectorAll(".LoginBox__notNow").forEach((function(e){e.addEventListener("click",g)})),_.bodyNode.querySelectorAll(".JoinForm__signIn, .LoginRecentBox__alternative").forEach((function(e){e.addEventListener("click",(function(){h(o.i.CLICK_SIGN_IN)}))})),_.bodyNode.querySelectorAll(".LoginBox__buttonSignUp").forEach((function(e){e.addEventListener("click",(function(){h(o.i.CLICK_SIGN_UP)}))})),m?Object(c.c)(m,e.formOptions):b&&Object(u.a)(b,l(l({},e.formOptions),{onSignInClick:function(){Object(a.c)()},onNotNowClick:g,ref:"box"})),requestAnimationFrame((function(){return window.tooltips&&window.tooltips.hideAll()})),_}}},jm8g:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return s}));var r=n("3ljy"),o=n("6D1c"),a=/\d+:[a-zA-Z_]+:login:auth/,i={domain:"login.vk.com"};function s(e){e=Object.assign({},i,e),i=e}var c={},u={};function l(e,t,n,a,s){var d;void 0===s&&(s={});var p=i;n&&(p=Object.assign({},i,n));var f,h=p.appId+":"+e+":login:auth",m=!u[h]||a;try{f=JSON.parse(localStorage.getItem(h))}catch(v){f={}}if(c[h])return c[h];if(m)try{_(e,n)}catch(v){}else{var b=void 0;try{b=localStorage.getItem(h)}catch(v){console.error(v)}if(b)try{var g=JSON.parse(b);if(!(1e3*Number(g.expires)-Date.now()<6e4))return Promise.resolve(g);_(e,n)}catch(v){}}var v,y=p.domain,O=p.onCaptcha,w="https://"+y+"/?act="+e,E={version:(v=p).version||"1",app_id:v.appId},j=Object.assign({},t,E,{access_token:null==f?void 0:f.access_token});return d=Object(o.a)(w,j,s).then((function(o){if(delete c[h],"error"===o.type)return Promise.reject({type:"login_error",error:o.error_info});if("captcha"===o.type){if(!O)return Promise.reject({type:"login_error",error:"captcha"});var a=o.captcha_sid,i=o.captcha_img,s=o.captcha_type;return O({captcha_sid:a,captcha_img:i,captcha_type:s}).then((function(r){var o=Object.assign({},t,r);return l(e,o,n)}))}var _=o.data.expires||1/0;try{localStorage.setItem(h,JSON.stringify(Object(r.a)(Object(r.a)({},o.data),{expires:_})))}catch(e){console.error(e)}return u[h]=!0,o.data}),(function(e){return delete c[h],{type:"network_error",error:e}})),c[h]=d,d}function _(e,t){if(e){var n=i;t&&(n=Object.assign({},i,t));var r=n.appId+":"+e+":login:auth";try{localStorage.removeItem(r)}catch(e){}}else try{Object.keys(localStorage).forEach((function(e){a.test(e)&&localStorage.removeItem(e)}))}catch(e){}}},jmhT:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,o=n("q1tI"),a=n.n(o),i=n("ZxpX"),s=n("GSQL"),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.appearance,r=e.title,o=e.actionButtons,c=e.onClose,u=e.children,l=e.hint,_=e.hasScroll;return a.a.createElement("div",{className:"BoxModal"},a.a.createElement("div",{className:Object(i.a)("Modal","Modal--"+n,t)},a.a.createElement(s.default.Header,{title:r,onClose:c,appearance:n}),Boolean(u)&&a.a.createElement(s.default.Body,{hasScroll:_},u),Boolean(o)&&a.a.createElement(s.default.Footer,{actionButtons:o,hint:l})))},t.defaultProps={appearance:"white",hasScroll:!0},t}(a.a.Component)},k487:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("zxIV"),o=n("t7n3"),a=n("Egk5"),i=n("lXE5"),s=n("El3O");class c{constructor(e,t){if(this.constructor!==c)throw new Error("ElementTooltip was called without 'new' operator");if(!(e=Object(r.J)(e))||!e.nodeType)throw new Error("First argument not a DOM element");if(Object(r.l)(e,"ett"))return Object(r.l)(e,"ett");if(this._opts=Object(o.i)({delay:100,offset:[0,0],type:c.TYPE_VERTICAL,id:"",cls:"",width:null,appendToParent:!1,autoAdjustToViewport:!0,autoShow:!0,autoHide:!1,noHideOnClick:!1,arrowSize:"normal",customShow:!1,align:c.ALIGN_CENTER,withCloseButton:!1},t),this._opts.customShow&&(this._opts.autoShow=!1),this._opts.defaultSide||(this._opts.defaultSide=this._opts.type===c.TYPE_VERTICAL?"top":"left"),this._opts.cls+=" eltt_arrow_size_"+this._opts.arrowSize,this._opts.cls+=" eltt_align_"+this._opts.align,this._opts.noBorder&&(this._opts.cls+=" eltt_noborder"),this._opts.setPos&&!this._opts.forceSide)throw new Error("forceSide parameter should be set if you use setPos");if(this._appendToEl=this._opts.appendTo?this._opts.appendTo:this._opts.appendToParent?Object(r.t)(e,{noOverflow:!0}):e,this._arrowSize={mini:c.ARROW_SIZE_MINI,normal:c.ARROW_SIZE_NORMAL,big:c.ARROW_SIZE_BIG}[this._opts.arrowSize],this._opts.forceSide){var n=c.getType(this._opts.forceSide);if(void 0===n)throw new Error("ElementTooltip: invalid 'forceSide' option provided: ",this._opts.forceSide);0,this._opts.type=n}this._opts.type===c.TYPE_HORIZONTAL&&void 0===(null==t?void 0:t.autoAdjustToViewport)&&(this._opts.autoAdjustToViewport=!1),this._el=e,Object(r.l)(this._el,"ett",this),this._initEvents(e),this._clearTimeouts(),this._isShown=!1}_initEvents(e){this._opts.autoShow&&(this._el_me_event=this._onMouseEnter.bind(this),Object(a.b)(e,"mouseenter",this._el_me_event)),(this._opts.autoShow||this._opts.autoHide)&&(this._el_ml_event=this._onMouseLeave.bind(this),Object(a.b)(e,"mouseleave",this._el_ml_event)),this._opts.autoShow||this._opts.customShow||(this._el_c_event=()=>{this._isShown&&this._opts.noHideOnClick||this.toggle(!this._isShown)},Object(a.b)(e,"click",this._el_c_event))}_onMouseEnter(e){clearTimeout(this._hto),this._hto=!1,!this._isShown&&this._opts.autoShow&&(clearTimeout(this._reTimeout),this._reTimeout=!1,clearTimeout(this._sto),this._sto=setTimeout(this.show.bind(this),this._opts.delay))}_onMouseLeave(e){this._clearTimeouts(),this._hto=setTimeout(this._hide.bind(this),200)}_onMouseWindowClick(e){if(!this._opts.noAutoHideOnWindowClick){for(var t=e.target;t&&t!==this._ttel&&t!==document.body&&t!==this._el;)t=Object(r.C)(t);if(!Object(r.ab)(e.target,"_ap_layer__close"))return t&&t!==document.body?void 0:Object(o.v)(this._opts.onWindowClick)?(this._opts.onWindowClick(),Object(a.c)(e)):(this.hide(!0),Object(a.c)(e))}}destroy(){var e;this._el_me_event&&Object(a.i)(this._el,"mouseenter",this._el_me_event),this._el_ml_event&&Object(a.i)(this._el,"mouseleave",this._el_ml_event),this._el_c_event&&Object(a.i)(this._el,"click",this._el_c_event),this._clearTimeouts(),Object(r.ob)(this._el,"ett"),Object(r.kb)(this._ttel),this._ev_wclick&&Object(a.i)(document,"mousedown",this._ev_wclick),this._ttel&&(e=Object(r.L)("_eltt_content",this._ttel)),this._opts.onDestroy&&this._opts.onDestroy(e)}hide(e){this._hide(e)}_onTooltipMouseEnter(e){this._clearTimeouts()}_onTooltipMouseLeave(e){this._onMouseLeave()}build(){if(!this._ttel){var e=this._opts.withCloseButton?"eltt_with_close_button":"";this._ttel=Object(r.rb)(`\n        <div class="eltt ${this._opts.cls||""} ${e}" id="${this._opts.id}">\n          <div class="eltt_arrow_back _eltt_arrow_back">\n            <div class="eltt_arrow"></div>\n          </div>\n          <div class="eltt_content _eltt_content"></div>\n        </div>`),this._ttArrowEl=Object(r.L)("_eltt_arrow_back",this._ttel);var t=Object(r.L)("_eltt_content",this._ttel);if(this._opts.content&&(Object(o.A)(this._opts.content)?t.innerHTML=this._opts.content:t.appendChild(this._opts.content)),this._opts.withCloseButton){this._ttel.insertAdjacentHTML("beforeend",'\n          <div class="eltt_close_button"></div>\n        '),this._closeButton=this._ttel.lastElementChild;var n=()=>{this.hide(),this._opts.onCloseButtonClick&&this._opts.onCloseButtonClick()};this._closeButton.addEventListener("click",n),cur.destroy.push(()=>this._closeButton.removeEventListener("click",n))}this._appendToEl&&this._appendToEl.appendChild(this._ttel)}}show(){if(this._isShown)this.updatePosition();else{if(this._clearTimeouts(),this._ttel||(this.build(),(this._opts.autoShow||this._opts.autoHide)&&(this._ev_ttenter=this._onTooltipMouseEnter.bind(this),this._ev_ttleave=this._onTooltipMouseLeave.bind(this),Object(a.b)(this._ttel,"mouseenter",this._ev_ttenter),Object(a.b)(this._ttel,"mouseleave",this._ev_ttleave))),this._opts.width){var e=Object(o.v)(this._opts.width)?this._opts.width.call(this):this._opts.width;Object(r.vb)(this._ttel,"width",e)}Object(r.xb)(this._ttel);var t=Object(r.L)("_eltt_content",this._ttel);this._opts.onFirstTimeShow&&!this._firstTimeShown&&this._opts.onFirstTimeShow.call(this,t,this._ttel),this._opts.onShow&&this._opts.onShow(t,!this._firstTimeShown),this._firstTimeShown=!0,this.updatePosition(),this._isShown=!0,this._visTO=setTimeout(r.c.pbind(this._ttel,"eltt_vis"),10),this._opts.elClassWhenShown&&Object(r.c)(this._el,this._opts.elClassWhenShown),this._ev_wclick&&Object(a.i)(document,"mousedown",this._ev_wclick),this._ev_wclick=this._onMouseWindowClick.bind(this),Object(a.b)(document,"mousedown",this._ev_wclick)}}static getType(e){switch(e){case"top":case"bottom":return c.TYPE_VERTICAL;case"right":case"left":return c.TYPE_HORIZONTAL}}getOptions(){return this._opts}updatePosition(){var e=this._opts.forceSide,t=!!this._opts.getTargetBoundingBox&&this._opts.getTargetBoundingBox(this);if(!t){var n=Object(r.V)(this._el),a=Object(r.S)(this._el);t={left:n[0],top:n[1],width:a[0],height:a[1]}}var u,l=this._opts.getWrapEl?this._opts.getWrapEl(this):Object(r.Y)("audio_layer_container",this._ttel),_=l||Object(r.s)(this._ttel),d=_!==bodyNode?Object(r.V)(_):[Object(i.d)(),Object(i.e)()+Object(s.d)()],p=_!==bodyNode?Object(r.S)(_):[window.innerWidth,window.innerHeight],f=Object(r.S)(this._ttel),h=this._arrowSize,m=this._opts.noBorder?0:1,b=Object(o.v)(this._opts.offset)?this._opts.offset():this._opts.offset,g=(e,n)=>{var o,a={},i=[vk.rtl?"marginRight":"marginLeft","marginTop"].indexOf(e);o=this._opts.align===(vk.rtl?c.ALIGN_LEFT:c.ALIGN_RIGHT)?f[i]-Math.max(m+h+(n||0),Math.min(f[i],t[i?"height":"width"])/2):this._opts.align===(vk.rtl?c.ALIGN_RIGHT:c.ALIGN_LEFT)?Math.max(m+h+(n||0),Math.min(f[i],t[i?"height":"width"])/2):f[i]/2,a[e]=Math.floor(o)-m-h-(n||0),Object(r.vb)(this._ttArrowEl,a)};if(this._opts.setPos)u=this._opts.setPos(this)||{},c.getType(e)===c.TYPE_VERTICAL?void 0!==u.arrowPosition?Object(r.vb)(this._ttArrowEl,{marginLeft:u.arrowPosition}):vk.rtl?g("marginRight"):g("marginLeft"):void 0!==u.arrowPosition?Object(r.vb)(this._ttArrowEl,{marginTop:u.arrowPosition}):g("marginTop");else{if(!e&&this._prevSide&&this._opts.preventSideChange)e=this._prevSide;else if(!e)if(this._opts.type===c.TYPE_VERTICAL){var v=Object(r.ab)(bodyNode,"body_im")?this._opts.bottomGap||60:this._opts.bottomGap||0,y=t.top-d[1]>f[1]+h-b[1],O=Object(i.e)()+p[1]-(t.top+t.height+h)-v>f[1];e="top"===this._opts.defaultSide?y?"top":"bottom":O?"bottom":"top"}else e=t.left-d[0]<f[0]?"right":"left";var w,E,j,D,P,k,C=Object(r.V)(this._appendToEl),T=[t.left-C[0],t.top-C[1]],x=b[0]+T[0];this._opts.centerShift?(x+=this._opts.centerShift||0,w=this._opts.centerShift):this._opts.rightShift&&(x+=w=-(f[0]/2-this._opts.rightShift)),this._prevSide=e;var I=!this._opts.autoAdjustToViewport;switch(this._opts.align===(vk.rtl?c.ALIGN_LEFT:c.ALIGN_RIGHT)?(E=t.width-f[0],j=t.height-f[1]):this._opts.align===(vk.rtl?c.ALIGN_RIGHT:c.ALIGN_LEFT)?(E=0,j=0):(E=-f[0]/2+t.width/2,j=t.height/2-f[1]/2),e){case"bottom":P=E+x,k=t.height+h-b[1]+T[1],w||I||((D=E+t.left+b[0]+f[0]+20-(d[0]+p[0]))<0&&(D=0),P-=D,w=-D),u={left:P,top:k};break;case"top":P=E+x,k=-f[1]-h+b[1]+T[1],w||I||((D=E+t.left+b[0]+f[0]+20-(d[0]+p[0]))<0&&(D=0),P-=D,w=-D),u={left:P,top:k};break;case"right":P=t.width+h+x,k=j+b[1]+T[1],w||I||((D=j+t.top+b[1]-(d[1]+20))>0&&(D=0),k-=D,w=-D),u={left:P,top:k};break;case"left":P=-f[0]-h+x,k=j+b[1]+T[1],w||I||((D=j+t.top+b[1]-(d[1]+20))>0&&(D=0),k-=D,w=-D),u={left:P,top:k}}this._opts.type===c.TYPE_VERTICAL?vk.rtl?g("marginRight",w):g("marginLeft",w):g("marginTop",w)}Object(o.f)(["top","bottom","left","right"],function(t,n){e!==n&&Object(r.mb)(this._ttel,"eltt_"+n)}.bind(this)),Object(r.c)(this._ttel,"eltt_"+e),Object(r.vb)(this._ttel,u)}_hide(e){if(!this.tempPreventHide){if(this._isShown=!1,this._clearTimeouts(),this._reTimeout=setTimeout(function(){Object(r.bb)(this._ttel),this._opts.elClassWhenShown&&Object(r.mb)(this._el,this._opts.elClassWhenShown),this._opts.onHide&&this._opts.onHide(this._ttel,!!e)}.bind(this),c.FADE_SPEED),this._opts.onBeforeHide)try{this._opts.onBeforeHide(this._ttel,!!e)}catch(e){}Object(r.mb)(this._ttel,"eltt_vis"),this._ev_wclick&&Object(a.i)(document,"mousedown",this._ev_wclick)}}isShown(){return this._isShown}toggle(){this.isShown()?this.hide():this.show()}_clearTimeouts(){this._visTO&&clearTimeout(this._visTO),this._visTO=!1,this._sto&&clearTimeout(this._sto),this._sto=!1,this._hto&&clearTimeout(this._hto),this._hto=!1,this._reTimeout&&clearTimeout(this._reTimeout),this._reTimeout=!1}getContent(){return Object(r.L)("_eltt_content",this._ttel)}}c.TYPE_VERTICAL=0,c.TYPE_HORIZONTAL=1,c.FADE_SPEED=100,c.ARROW_SIZE_MINI=9,c.ARROW_SIZE_NORMAL=8,c.ARROW_SIZE_BIG=16,c.ALIGN_LEFT="left",c.ALIGN_CENTER="center",c.ALIGN_RIGHT="right"},kHqu:function(e,t,n){"use strict";n.d(t,"e",(function(){return C})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return x})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return S})),n.d(t,"g",(function(){return L})),n.d(t,"a",(function(){return B})),n.d(t,"h",(function(){return R})),n.d(t,"f",(function(){return N})),n.d(t,"d",(function(){return U})),n.d(t,"k",(function(){return F}));n("HEwt"),n("rE2o"),n("ioFf"),n("KKXr"),n("SRfc"),n("rGqo"),n("/8Fb"),n("pIFo"),n("a1Th"),n("Btvt");var r=n("zxIV"),o=n("t7n3"),a=n("4+be"),i=n("7jxN"),s=n("XzvV"),c=n("m0N1"),u=n("ryw6"),l=n("v+DW"),_=n("XuKo"),d=n("EasH"),p=n("eQf/"),f=n("kcIO"),h=n("/PiP"),m=n("Ia1d"),b=n("Ieup"),g=n("i6oL"),v=n("aong"),y=n("ZD4m"),O=n("Xrg9");function w(e,t){var n=document.querySelector(e+" .ui_rmenu_count");n&&(n.innerHTML=String(t),t>0?Object(r.mb)(n,"unshown"):Object(r.c)(n,"unshown"))}var E=n("821F"),j=n("y/eL"),D=n("W9Tc");function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(){window.vkLastNav=Date.now(),window.vkTabLoaded=Date.now()}function T(e){var t=[Object(r.J)("dev_top_nav_wrap"),Object(r.J)("page_header_wrap")];Object(o.f)(t,(function(t,n){n&&Object(r.vb)(n,e)}))}function x(e){window.__leftMenu&&window.__leftMenu.handleUpdateRequest(e)}function I(e,t,n,s,c){var u="",l="",_='<span class="inl_bl left_count_sign"></span>',d="reqs"===n||n&&n.substr&&"spr"===n.substr(0,3)?5:3,p=Object(r.L)("left_count_wrap",e);p.classList.toggle("left_count_wrap--highlighted",s);var f=Object(r.ab)(Object(r.L)("left_row",e,"a"),"left_nav_over"),h=Object(r.L)("left_count",e,"span"),m=Object(r.Cb)(h);if(t&&((u=t.toString()).length>d&&(l=' title="'+Object(o.H)(Object(a.j)(t,"%s",!0))+'"',u=".."+u.substr(u.length-d)),_=`<span class="inl_bl left_count" ${l}>${u}</span>`),Object(D.b)("top_convo_list")&&"msg"===n){var b=Object(r.M)("top_messages_count");b&&b.classList.toggle("TopNavBtn__messagesCount--hidden",!c),Object(r.Cb)(b,c)}var g=function(){Object(r.Cb)(p,_),(t?r.mb:r.c)(p,"left_void"),Object(r.vb)(p,{opacity:""})};if(m||f)if(u)Object(i.c)(h,u,{str:"auto",onDone:g});else if(f){var v=bodyNode.appendChild(Object(r.rb)('<span class="left_count_wrap"><span class="inl_bl left_count_sign"></span></span>'));v.classList("left_count_wrap--highlighted",s);var y=Object(r.S)(Object(r.x)(v))[0];Object(r.kb)(v),m&&"."===m.charAt(0)&&Object(r.Cb)(h,m.replace("..","")),Object(i.b)(h,{width:y},100,g)}else Object(i.b)(p,{opacity:0},100,g);else g(),Object(r.vb)(p,{opacity:0}),Object(i.b)(p,{opacity:1},100)}function A(e,t,n){void 0===e.counts&&(e.counts={}),e.counts[t]=n}function M(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,c=Object(o.r)(t),u=Math.max(0,c);if(A(window.vk,e,c),"ntf"===e)return window.TopNotifier.setCount(u),void window.TopNotifier.createNewEventsBox(u);if("page_menu_group_market"!==e){window.vk.onSetCount&&window.vk.onSetCount(e,t);var l=Object(r.J)("l_"+e);if(l&&(I(l,u,e,!!i&&"msg"===e&&Object(D.b)("mail_unread_counter_highlight"),"msg"===e?s:0),a&&n)){var _=c>0&&a?"?"+a:"";l.firstChild.href="/"+n+_}var d=Object(r.ab)(Object(r.x)(l),"left_nav_over"),p=c>=0;!p&&d||Object(r.yb)(l,p),"market_orders"===e&&l&&l.classList.remove("unshown")}else w("#"+e,t)}function S(e){vk.id=e.id,e.body_class!==bodyNode.className&&(bodyNode.className=e.body_class||""),Object(g.b)(),x(!0),void 0!==e.pvbig&&(vk.pvbig=e.pvbig),void 0!==e.pvdark&&(vk.pvdark=e.pvdark),cur._level=e.level,vk.id&&vk.id%1e3==1&&setTimeout((function(){window.scrollmarked={},Object(s.bb)("page_scroll",0,cur.module,"0")}),300),U(e);var t=Object(r.J)("mvk_footer_lnk");if(t&&(t.firstChild.href=e.mvklnk||"http://m.vk.com/"),vk.nophone=Object(o.r)(e.nophone),vk.staticheader=Object(o.r)(e.staticheader),vk.id){var n=Object(r.J)("left_blocks");n&&(n.innerHTML=e.leftblocks||"")}"leftads"in e&&0!==e.leftads&&window.__adsSet(e.leftads,e.ads_section||"",e.ads_can_show,e.ads_showed);var a=locProtocol+"//"+location.host+"/";e.loc&&("?"===e.loc.charAt(0)?a+=nav.strLoc:a+=e.loc);var i=document.URL===a?"":document.URL;setTimeout(j.a.pbind(a,i),10);var u=e.counters;if(u.length){var l="",_="";Object(o.r)(u[9])>0?(l="adsmarket",_="act=overview&status=-1"):Object(o.r)(u[9])<-1?(u[9]=1,l="ads",_="act=a_comeback_office_redirect"):l="ads?act=office&last=1";var d=Object(r.J)("l_set"),p=d&&d.nextSibling||!1,f=["fr","ph","vid","msg","nts","gr","vkp","wsh","ap","ads","ntf","fav","doc","apm","mk"],h=["friends","albums"+vk.id,"video","","notes","groups","vkpay","gifts.php?act=wishlist","apps",l,"feed"+(Object(r.J)("l_nwsf")?"?section=notifications":""),"pages","docs","apps_manage","market"],m=["","act=added","section=tagged","","act=comments","","tab=invitations","","",_,Object(r.J)("l_nwsf")?"":"section=notifications","","","",""],b=!1;if(e.handlecnts){for(var v=0;v<f.length;v++)M(f[v],u[v],h[v],m[v]);for(var y=p.nextSibling;y;y=y.nextSibling){if(y.tagName&&"li"===y.tagName.toLowerCase()&&Object(r.fb)(y)){b=!0;break}if(Object(r.ab)(y,"more_div"))break}(b?r.xb:r.bb)(p),function(e){if(!Object(o.y)(e))return;Object.entries(e).forEach(e=>{var t=P(e,2),n=t[0],r=t[1],a=document.getElementById("l_app"+Object(o.r)(n));a&&I(a,Object(o.r)(r))})}(u[17]),setTimeout(c.c,0)}else for(var O=0;O<f.length;O++)vk.counts[f[O]]=u[O]}}function L(e){e=e||{};var t=O.a.get("last_reloaded")||[];t.unshift(Object(o.M)());var n=t.length;return n>5&&(t.splice(5,n-5),n=5),O.a.set("last_reloaded",t),!!(5===n&&t[0]-t[4]<2e4)&&(Object(u.c)('<b>Reloading error</b>, please check internet connection, <b><a href="/page-777107_43991681">clear your cache</a></b> and restart your browser.<br>If problem remains, please <a href="/support?act=new">report it here</a>.',{dt:15,type:6,msg:"Reload error, from "+(e.from||0)+", forced "+(e.force||0)+", url "+(e.url||"")+", query "+(e.query||"")}),!0)}function B(e){for(var t=0,n=globalHistory.length;t<n;t++)if(globalHistory[t].loc===e){var r=globalHistory.splice(t,1)[0];N(r.cur),r.content.innerHTML="",--t,--n}}function R(e,t,n){if(_tbLink){var a=e;if(e=(e||"").replace(/^\//,""),_tbLink.loc=e,void 0===n&&(n=0,e))for(var i=0,s=globalHistory.length;i<s;i++)if(globalHistory[i].loc===e){n=1;break}if(a){try{_tbLink.style.maxWidth=_tbLink.parentNode.offsetWidth-35+"px"}catch(e){}Object(o.i)(_tbLink,{href:"/"+e,innerHTML:t,fast:n}),Object(r.xb)(_tbLink),window._stlWas=0}else Object(r.bb)(_tbLink);Object(l.y)(1)}}function N(e){if(e._back&&e._back.hide&&e===cur)for(var t in e._back.hide)if(e._back.hide.hasOwnProperty(t))try{e._back.hide[t]()}catch(e){try{console.log(e.stack)}catch(e){}}if(e.destroy&&e.destroy.length)for(var n in e.destroy)if(e.destroy.hasOwnProperty(n))try{e.destroy[n](e)}catch(e){try{console.log(e.stack)}catch(e){}}}function U(e){var t=Object(r.J)("footer_wrap"),n=Object(r.J)("page_layout"),a=Object(r.L)("TopHomeLink"),i=void 0===e.width?vk.width:e.width,s=void 0===e.width_dec?vk.width_dec:e.width_dec,c=void 0===e.width_dec_footer?vk.width_dec_footer:e.width_dec_footer;if(vk.noleftmenu===e.noleftmenu&&vk.nobottommenu===e.nobottommenu&&vk.width===e.width&&vk.width_dec_footer===e.width_dec_footer||(vk.noleftmenu!==e.noleftmenu&&e.noleftmenu&&Object(r.bb)("side_bar"),vk.nobottommenu!==e.nobottommenu&&(e.nobottommenu?Object(r.bb)("bottom_nav"):Object(r.xb)("bottom_nav")),e.noleftmenu&&e.nobottommenu?t&&(Object(r.c)(t,"simple"),t.style.width="auto"):t&&(Object(r.mb)(t,"simple"),t.style.width=i-c+"px")),vk.notopmenu!==e.notopmenu&&(e.notopmenu?Object(r.bb)("quick_search","qsearch_border","top_search","top_invite_link","top_menu_wrap"):Object(r.xb)("quick_search","qsearch_border","top_search","top_invite_link","top_menu_wrap")),a&&e.top_home_link_class&&vk.top_home_link_class!==e.top_home_link_class&&(a.className=e.top_home_link_class),n&&(i!==vk.width||s!==vk.width_dec)){Object(y.f)("--layout-width",i+"px"),Object(r.J)("page_body").style.width=i-s+"px",Object(r.J)("ts_wrap")&&Object(r.ab)(Object(r.J)("ts_wrap"),"vk")&&(Object(r.J)("ts_wrap").style.width=i-191+"px"),setTimeout(l.y.pbind(!0),0),setTimeout(g.b,0);try{_tbLink.style.maxWidth=_tbLink.parentNode.offsetWidth-35+"px"}catch(e){}}vk.noleftmenu===e.noleftmenu||e.noleftmenu||Object(r.xb)("side_bar"),e.to&&Object(r.J)("quick_login_to")&&Object(r.Cb)("quick_login_to",e.to),vk.noleftmenu=e.noleftmenu,vk.nobottommenu=e.nobottommenu,vk.top_home_link_class=e.top_home_link_class,vk.notopmenu=e.notopmenu,vk.width=i,vk.width_dec=s,vk.width_dec_footer=c,vk.body_class=e.body_class,vk.staticheader=Object(o.r)(e.staticheader),vk.no_ads=e.no_ads,vk.ad_preview=e.ad_preview}function F(e,t,n){var a=e.z,i=e.f,s=e.w,c=(a||"").match(/^([a-z_]+)(-?\d+(?:_(?:-)?\d+)?)\/?(.*)/i);if(delete e.z,delete e.f,delete e.w,t||(t={}),Object(o.u)(e)){if(i&&(Object(v.f)(i),void 0===a))return!1;if(t.hist)if(a||s){if(layerQueue.back("wiki",s,(c||{})[1],(c||{})[2]))return!1}else if(!1===a&&n.w&&layerQueue.back("wiki",n.w))return!1;if(s){var u="";if(!1===a)layers.fullhide(!!t.hist&&2);else{if(s.match(/^story([0-9\-]+)_(\d+)/))return Object(_.c)(s);if(s.match(/^narrative([0-9\-]+)_(\d+)(?:_(\d+))?/)){var l=P(s.match(/^narrative([0-9\-]+)_(\d+)(?:_(\d+))?/),4),g=l[1],y=l[2],O=l[3];return Object(_.b)(g,y,O,"",{source:"narrative_link"})}if(s.match(/^donut_payment(-\d+)/)){var w=nav.objLoc.source,j=Number(s.match(/^donut_payment(-\d+)/)[1]);return Object(h.B)(null,null,j,w,"",{type:"subscribe",params:{act:"subscribe_popup"}})}if("stories"===s){if(cur.storyLayer)return cur.storyLayer.doHide(),!1}else n||(n=Object(o.d)(nav.objLoc)),s&&(n.w=s),i&&(n.f=i),delete n.z,nav.setLoc(n),nav.objLoc.ref&&(u=nav.objLoc.ref,delete nav.objLoc.ref)}return Object(h.H)({w:s},"note_new"===s,!1,{onLoaded:a&&F.pbind({z:a},Object(o.i)(t,{queue:1})),isZnav:1,customRef:u}),!1}if("giftbox"===a)return!Object(d.b)("/al_gifts.php",{act:"get_gift_box",mid:t.id||0,fr:t.is&&t.id!==vk.id?0:1,link:nav.objLoc[0]},{stat:["gifts.css","ui_controls.js","ui_controls.css"],cache:1},window.event);if("validatebox"===a)return!Object(p.c)({closeLink:1,onDone:()=>Object(r.J)("change_phone_wrap").parentNode.removeChild(Object(r.J)("change_phone_wrap"))});if("upload_video"===a)return VideoUpload.showBox();if(!1===a||!1===s){var k=!window.wkcur||!wkcur.shown||layers.fullhide!==WkView.hide;!layers.fullhide||!k&&!1!==s||t.asBox||(!t.hist||n.z||n.w||-1!==n[0].indexOf("/")||n[0].match(/^(photo|video)(-?\d+_\d+)$/)||layerQueue.clear(),layers.fullhide(!!t.hist&&2));var C=Object(f.b)();return C&&C.wkRaw&&C.hide(),!1}if(a&&c){var T=function(){return delete nav.objLoc.z,nav.setLoc(nav.objLoc),!0};switch(c[1]){case"photo":return Object(h.D)(c[2],c[3],Object(o.i)(t,{onFail:T,noHistory:!0})),!1;case"albums":return Object(h.y)(c[2],Object(o.i)(t,{onFail:T,noHistory:!0})),!1;case"album":return Object(h.x)(c[2],Object(o.i)(t,{onFail:T,noHistory:!0})),!1;case"tag":case"photo_tag":return Object(h.E)(c[2],Object(o.i)(t,{onFail:T,noHistory:!0})),!1;case"video":case"clip":var x=c[3],I=Object(o.i)(t,{onFail:T,noLocChange:1,focusPlay:1});if(x){var A=[],M="";if(Object(o.f)(x.split("/"),(function(e,t){0===t.indexOf("pl_")?M=t:A.push(t)})),x=A.join("/"),M){M=M.substr("pl_".length);var S=cur.currentModule?cur.currentModule():cur.module;I=Object(o.i)(I,{playlistId:M,module:S,addParams:{force_no_repeat:1,show_next:1,playlist_id:M}})}}return"clip"===c[1]&&(I.shortVideo=1),Object(m.i)(c[2],x,I),!1;case"single":return void 0===s&&stManager.add(["single_pv.css",jsc("web/single_pv.js")],Object(r.J)(a).onclick),!1;case"accept_money":return Object(b.e)(c[2],c[3]),!1;case"moneysend":var L=E.a.showMoneyTransferBox({to_id:c[2],from:"public_link"},{},e=>(L.hide(),setTimeout(Object(d.d)(getLang("global_error"),e).hide,2e3),delete nav.objLoc.z,nav.setLoc(nav.objLoc),!0));return!1;case"audio_playlist":var B=P(c[2].split("_"),2),R=B[0],N=B[1],U=t.context||"";return AudioUtils.showAudioPlaylist(R,N,c[3],U,void 0,t.onDone),!1;case"article_edit":return h.s.apply(null,c[2].split("_")),!1;case"podcast":return stManager.add([jsc("web/podcast.js"),"page.css"],()=>{Podcast.show(null,c[2],null,"url")}),!1;case"apps_achievements":return stManager.add([jsc("web/apps_achievements.js")],()=>{window.AppsAchievementsPage.showFriendAchievements(c[2])}),!1;case"call":var W=()=>{stManager.add(["notifier.js"],()=>{var e,t=+c[2],n=()=>{var e;return null===(e=window.Calls)||void 0===e?void 0:e.call(t,!1)};(null===(e=window.Calls)||void 0===e?void 0:e.initialized)?n():setTimeout(n,1500),delete nav.objLoc.z,nav.setLoc(nav.objLoc)})};return Object(D.b)("calls_open_warning_box_on_call_by_link")?Object(d.d)({title:getLang("global_warning")},getLang("calls_are_you_sure_to_call_this_user"),getLang("global_share_button_call"),()=>{window.curBox().hide(),W()},getLang("global_close")):W(),!1}}}}},kJMx:function(e,t,n){var r=n("zhAb"),o=n("4R4u").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},kKcY:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=6706576,o="ae_app",a="https://aliexpress.com",i=36941068,s=198582766,c="GroupOrdersPageTableSettings",u=["fullId","date","status","userName","deliveryOption","totalPrice","merchantComment","colorTags"]},kcIO:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return _})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return m}));n("91GP");var r=n("Egk5"),o=n("t7n3"),a=n("zxIV"),i=n("gdug");function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c={hideAll:function(e,t){if(e)for(;c.count();)c.hideLast();else{if(c.count()){var n=_message_boxes[c._boxes.pop()];n&&(n._in_queue=!1,n._hide(!1,!1,t))}for(;c.count();){_message_boxes[c._boxes.pop()]._in_queue=!1}}},hideLast:function(e,t){if(c.count()){var n=window._message_boxes[c._boxes[c.count()-1]];if(!0===e&&(n.changed||n.preventHideLastWithCheck||c.skip||t&&t.target&&t.target.tagName&&"input"!==t.target.tagName.toLowerCase()&&cur.__mdEvent&&t.target!==cur.__mdEvent.target))return void(c.skip=!1);n.hide()}if(t&&"click"===t.type)return Object(r.c)(t)},hideBGClick:function(e){e&&e.target&&/^box_layer/.test(e.target.id)&&c.hideLast()},count:function(){return c._boxes.length},_show:function(e){var t=_message_boxes[e];if(t&&!t._in_queue){c.count()?_message_boxes[c._boxes[c.count()-1]]._hide(!0,!0):window.tooltips&&tooltips.hideAll(),t._in_queue=!0;var n=!!c.count();n&&(n=c._boxes.every(e=>!_message_boxes[e].forceHide)),c.curBox=e,t._show(n||c.currHiding,n),c._boxes.push(e)}},_hide:function(e){var t=_message_boxes[e];if(t&&t._in_queue&&c._boxes[c.count()-1]===e&&t.isVisible()&&(t._in_queue=!1,c._boxes.pop(),t._hide(!!c.count()),c.count())){var n=c._boxes[c.count()-1];c.curBox=n,_message_boxes[n]._show(!0,!0,!0)}},_boxes:[],curBox:0};function u(){var e=window._message_boxes[window.boxQueue.curBox];return e&&e.isVisible()?e:null}function l(){window.boxQueue=c,window.__bq=c,window.curBox=u,window.boxQueue.hideLastCheck=window.boxQueue.hideLast.pbind(!0),window._message_box_guid=0,window._message_boxes=[]}function _(e){var t=window.innerHeight||document.documentElement.clientHeight||boxLayerBG.offsetHeight,n=i.a.mobile?Object(o.r)(window.pageYOffset):0,r=Object(a.S)(e);e.style.marginTop=Math.max(10,n+(t-r[1])/3)+"px"}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.Notifier?f(e,t,n):window.stManager.add(["notifier.js","notifier.css"],()=>{f(e,t,n)})}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s({},n,{type:"done_box_full"});d(e,t,r)}function f(e,t,n){window.curNotifier&&window.curNotifier.version||window.Notifier.init({version:-1,instance_id:-1});var r=void 0!==t.onHide?t.onHide:t.callback,o=void 0!==t.timeout?t.timeout:void 0!==t.out?t.out:null,a=null!==t.id&&void 0!==t.id?t.id:++window.curNotifier.showDoneBoxLastId,i=s({version:window.curNotifier.version,type:"done_box",text:e,onclick:t.onClick,top_count:-1,id:a,timeout:o,onHide:r,preventHideByClick:!0,link:t.link},n);t.tooltipHandler&&(i.tooltipHandler=t.tooltipHandler),Notifier.pushEvent(i)}function h(){var e={boxes:window._message_boxes,boxQueueIds:window.boxQueue._boxes,curBoxId:window.boxQueue.curBox};return window.boxQueue._boxes=[],window._message_boxes=[],window.boxQueue.curBox=0,e}function m(e){window._message_boxes=e.boxes,window.boxQueue._boxes=e.boxQueueIds,window.boxQueue.curBox=e.curBoxId}},kxld:function(e,t,n){"use strict";n.d(t,"o",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"s",(function(){return h})),n.d(t,"t",(function(){return m})),n.d(t,"u",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"m",(function(){return O})),n.d(t,"n",(function(){return w})),n.d(t,"g",(function(){return E})),n.d(t,"l",(function(){return j})),n.d(t,"r",(function(){return D})),n.d(t,"i",(function(){return P})),n.d(t,"p",(function(){return k})),n.d(t,"d",(function(){return C})),n.d(t,"q",(function(){return T}));var r=n("aong"),o=n("PEW9"),a=n("ftTi"),i=n("rudk"),s=n("/rNY"),c=n("sp2a");function u(e,t){var n=l(e,t);return!(void 0===(null==n?void 0:n.history)||!(null==n?void 0:n.msgs))}function l(e,t){var n=Object(r.s)(e);return n.tabs&&n.tabs[t]}function _(e){return Object(i.c)(e.peerId)}function d(e){return Object(i.c)(e.peerId)&&!!e.notifications}function p(e,t){return l(e,void 0===t?0:t)}function f(e){return l(e,Object(a.i)(e))}function h(e){return!!(e.folders&&e.folders&o.h[o.g])}function m(e){return Boolean(e.is_message_request||e.folders&&e.folders&o.h[o.c.MR]||e.folders&&e.folders&o.h[o.j])}function b(e){return Boolean(m(e)&&e.folders&&e.folders&o.h[o.k])}function g(e,t){var n=e.get().msg_local_ids_sort,r=n&&t.lastmsg&&n[t.lastmsg]||0;return r>0?2e9+r:t.minor_sort_id||0}function v(e,t){return((e&&e.data&&e.data.flags||0)&t)>0}function y(e){return _(e)&&v(e,c.f)}function O(e){return _(e)&&v(e,c.d)}function w(e){return _(e)&&v(e,c.e)}function E(e){return _(e)&&v(e,c.c)}function j(e){return _(e)&&v(e,c.b)}function D(e){return _(e)&&v(e,c.s)}function P(e){return!e.data.closed&&!e.data.kicked}function k(e){var t=e.pinned&&Object(s.a)(e.pinned);return!!t&&e.pinHideId===t.chat_local_id}function C(e){return Object(r.s)(e).recommendationList}function T(e,t){var n=Object(r.s)(e).recommendationList;return Boolean(n&&n.item_data[t])}},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},lXE5:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n("v+DW"),o=n("7jxN"),a=n("zxIV");function i(){return bodyNode}function s(e,t,n,c,_){if(null==t&&(t=400),"ontouchstart"in document.documentElement&&(t=0),c||(e=Math.max(0,e-(vk.staticheader?0:Object(a.S)("page_header_cont")[1]))),Object(a.l)(i(),"tween")&&Object(a.l)(i(),"tween").stop(!1),Object(a.l)(htmlNode,"tween")&&Object(a.l)(htmlNode,"tween").stop(!1),window.scrollAnimation=!1,t){var d=function(){window.scrollAnimation=!1,2===n&&("profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"groups"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,void 0,!0),Object(r.y)()),"function"==typeof _&&_()};window.scrollAnimation=!0,Object(o.b)(htmlNode,{scrollTop:e},{duration:t,transition:o.a.Transitions.sineInOut,onComplete:d}),Object(o.b)(i(),{scrollTop:e},{duration:t,transition:o.a.Transitions.sineInOut,onComplete:d})}else{if(n&&2!==n){"profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,e,!0);var p=l()-e;return Math.abs(p)>6&&s(e+(p>0?6:-6),0,2,!0),Object(r.y)(),clearTimeout(window.scrlToTO),void(window.scrlToTO=setTimeout(s.pbind(e,100,2,!0,_),0))}window.scroll(u(),e),"function"==typeof _&&_(),n||Object(r.y)()}}function c(e){return s(0,e)}function u(){return window.pageXOffset||scrollNode.scrollLeft||document.documentElement.scrollLeft}function l(){return window.pageYOffset||scrollNode.scrollTop||document.documentElement.scrollTop}function _(){i().style.overflow="hidden"}function d(){i().style.overflow="auto"}function p(){return"hidden"!==i().style.overflow}},ldAL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("KKXr");class r{constructor(e,t){if(this.constructor!==r)throw new Error("AutoList: AutoList was called without 'new' operator");if(r._counter=r._counter||0,this._id=r._counter++,this.setListEl(e,t.scrollNode),this._opts=extend({threshold:0,renderImmediate:!1,fetchImmediate:!0},t),!this._containerEl)throw new Error("AutoList: container not found");this._rowClasses=!!this._opts.rowClass&&this._opts.rowClass.split(" "),delete this._opts.rowClass,this._initialRender=this._opts.renderImmediate,this._isProgressShown=!1,this._prefetched=[],this._initialRender?this._offset=0:this._opts.offset?this._offset=this._opts.offset:this._opts.rowClasses?this._offset=this._countRows(this._containerEl.children):this._offset=this._containerEl.children.length,this._page=this._offset>0?1:0,addEvent(this._scrollNode,"scroll",this._ev_scroll=this._onScroll.bind(this)),addEvent(window,"resize",this._ev_window_resize=this._onScroll.bind(this)),this._setState(this._opts.renderImmediate?"pend_rows":"pend_prefetch"),this._opts.fetchImmediate?this._requestRows():(this._setState("idle"),this._onScroll())}getListEl(){return this._containerEl}setListEl(e,t){var n;this._containerEl=ge(e),this._scrollNode=t||r.closestOverflowParent(this._containerEl),n=this._scrollNode===window?0:getXY(this._scrollNode)[1],this._contentYOffset=getXY(this._containerEl)[1]-n}options(e){extend(this._opts,e)}_countRows(e){var t=this,n=0;return each(e,(function(e,r){"string"==typeof r&&(r=se(r)),t._rowClasses?each(t._rowClasses,(function(e,t){if(hasClass(r,t))return n++,!1})):n++})),n}_drawRows(e){var t=this;this._opts.drawRows?this._opts.drawRows(t._containerEl,e):each(e,(function(e,n){"string"==typeof n&&(n=se(trim(n))),n&&t._containerEl.appendChild(n)})),this.toggleProgress("done"!==this._state),!this._forceDrawCalled&&this._opts.onRendered&&this._opts.onRendered(this._offset)}toggleProgress(e){e?!this._isProgressShown&&this._opts.showProgress&&this._opts.showProgress():this._isProgressShown&&this._opts.hideProgress&&this._opts.hideProgress(),this._isProgressShown=e}drawMore(){inArray(this._state,["idle","done_prefetch"])?(this._forceDrawCalled=!0,this._drawRows(this._prefetched),this._setState("pend_prefetch"),this._prefetched=[],this._requestRows(),this._forceDrawCalled=!1):"done"===this._state&&this._opts.onNoMore&&this._opts.onNoMore(this._containerEl.childElementCount)}destroy(){this._ev_scroll&&(removeEvent(this._scrollNode,"scroll",this._ev_scroll),this._ev_scroll=!1),this._ev_window_resize&&removeEvent(window,"resize",this._ev_window_resize),this._setState("done"),this.toggleProgress(!1)}getOffset(){return this._offset}_requestRows(){if(!this.isDone()&&"done_prefetch"!==this._state){this._initialRender=!1,function(){this._opts.onNeedRows(this._onRowsProvided.bind(this),this._offset,this._page++,"pend_prefetch"===this._state,this)}.apply(this)}}_onRowsProvided(e,t){if(!this.isDone()){if(!1===e)return this._requestRows();e=e||[],this._offset+=void 0===t?this._countRows(e):t;var n=this._containerEl.childElementCount;switch(this._state){case"pend_prefetch":0===e.length?(this._setState("done_prefetch"),this._opts.onNoMore&&this._opts.onNoMore(n),0===this._prefetched.length&&this._setState("done")):(this._setState("idle"),this._prefetched=this._prefetched.concat(e),this._opts.onHasMore&&this._opts.onHasMore(),this._onScroll());break;case"pend_rows":this._drawRows(e),0===e.length?(this._setState("done"),this._opts.onNoMore&&this._opts.onNoMore(n)):(this._setState("pend_prefetch"),this._requestRows()),this.toggleProgress(!1);break;case"idle":this._prefetched=this._prefetched.concat(e)}}}_setState(e){this._state=e}isDone(){return"done"===this._state}static closestOverflowParent(e){for(var t=e;t&&t.tagName&&("visible"===getStyle(t,"overflow")||"page_wrap"===t.id);)t=domPN(t);return t!==window.document&&t!==bodyNode&&t||(t=window),t}_onScroll(){if(!this._forceDrawCalled&&"pend_rows"!==this._state){var e,t,n=this._scrollNode;n===window?(t=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e=scrollGetY()):(t=getSize(n)[1],e=this._scroll?this._scroll.data.scrollTop:n.scrollTop),t<10||this._containerEl.scrollHeight-t-e+this._contentYOffset<10&&("pend_rows"===this._state||!this._prefetched.length&&"pend_prefetch"===this._state?(this.toggleProgress(!0),this._setState("pend_rows")):"pend_prefetch"===this._state||"idle"===this._state?(this._drawRows(this._prefetched),this._prefetched=[],this._setState("pend_prefetch"),this._requestRows()):"done_prefetch"===this._state&&(this._drawRows(this._prefetched),this._prefetched=[],this._setState("done"),this._opts.onNoMore&&this._opts.onNoMore(),this.destroy()))}}}},lkNA:function(e,t,n){"use strict";function r(e,t){var n,r=t.timeout,o=t.onLoad,a=t.onError,i=document.createElement("script");function s(e){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(u(),o&&o())}function c(e){u(),a&&a()}function u(){clearTimeout(n),i.removeEventListener("load",s),i.removeEventListener("readystatechange",s),i.removeEventListener("error",c)}return i.addEventListener("load",s),i.addEventListener("readystatechange",s),i.addEventListener("error",c),i.src=e,document.head.appendChild(i),r&&(n=setTimeout(c,r)),{destroy:function(){u()}}}n.d(t,"a",(function(){return r}))},llQL:function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.PAYMENT_FORM="payment_form",e.PAYMENT_FORM_CLICK_OFFER="payment_form_click_offer",e.PAYMENT_FORM_CLICK_PAY="payment_form_click_pay",e.PAYMENT_FORM_CLICK_CLOSE="payment_form_click_close",e.PAYMENT_FORM_CHANGE_CLICK_CHANGE="payment_form_change_click_change",e.CLICK_SHOW_MORE="click_show_more",e.WIDGET_VIEW="widget_view",e.DESCRIPTION_VIEW="description_view"}(r||(r={})),function(e){e.PAYMENT_START="payment_start",e.DATA_ACCESS="data_access",e.RESULT_PAYMENT_SUCCESS_OK="result_payment_success_ok",e.RESULT_PAYMENT_SUCCESS_WAITING="result_payment_success_waiting",e.RESULT_PAYMENT_SUCCESS_WAITING_TIMEOUT="result_payment_success_waiting_timeout",e.RESULT_RESUB_SUCCESS_WAITING="result_resub_success_waiting",e.RESULT_RESUB_SUCCESS_WAITING_OK="result_resub_success_waiting_ok",e.RESULT_PAYMENT_UNAVAILABLE="result_payment_unavailable",e.RESULT_PAYMENT_CANCEL="result_payment_cancel",e.RESULT_ERROR="result_error",e.CHANGE_START="change_start",e.RESULT_CHANGE_ERROR="result_change_error",e.RESULT_CHANGE_SUCCESS_OK="result_change_success_ok",e.RESULT_CHANGE_SUCCESS_WAITING="result_change_success_waiting",e.RESULT_CHANGE_SUCCESS_WAITING_TIMEOUT="result_change_success_waiting_timeout",e.RESULT_CHANGE_UNAVAILABLE="result_change_unavailable",e.UNKNOWN="donut_payment_screen_unknown"}(o||(o={}))},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},m0N1:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return _}));var r=n("J8bf"),o=n("t7n3"),a=n("zxIV");function i(){if((Object(a.V)("ads_left",!0)||{})[1]&&vk.id){var e=Object(a.W)(Object(a.O)("ol",Object(a.J)("side_bar_inner")),!0),t=e?e.height:0,n=Object(a.W)(Object(a.J)("left_blocks"),!0),i=n?n.height:0,s=Math.max(Math.floor(((window.lastWindowHeight||0)-t-i-42-10)/260),0),c=Object(r.a)("remixseenads");window.__seenAds=Object(o.r)(c),c&&__seenAds===s||(window.__seenAds=s,Object(r.c)("remixseenads",s,30))}}function s(e,t){return!window.noAdsAtAll&&(s=function(){return window.AdsLight&&AdsLight.getAjaxParams.apply(AdsLight.getAjaxParams,arguments)||{al_ad:null}},window.AdsLight?n=s(e,t):(n={al_ad:null},stManager.add([jsc("web/ads_light.js")],s.pbind(e,t))),n);var n}function c(e){if(window.noAdsAtAll)return!1;c=function(){window.AdsLight&&AdsLight.updateBlock.apply(AdsLight.updateBlock,arguments)},stManager.add([jsc("web/ads_light.js")],c.pbind(e))}function u(e,t,n,r,o,a){if(window.noAdsAtAll)return!1;u=function(){var e="";arguments&&arguments[0]&&(e=arguments[0]),"\x3c!--criteo"===e.slice(0,"\x3c!--criteo".length)&&Math.random()<.05&&(window.AdsLight&&AdsLight.setNewBlock?ajax.post("/wkview.php?act=mlet&mt=750",{},{onFail:()=>!0}):ajax.post("/wkview.php?act=mlet&mt=751",{},{onFail:()=>!0})),window.AdsLight&&AdsLight.setNewBlock.apply(AdsLight.setNewBlock,arguments)},stManager.add([jsc("web/ads_light.js")],u.pbind(e,t,n,r,o,a))}function l(e){if(window.noAdsAtAll)return!1;l=function(){window.AdsLight&&AdsLight.updateExternalStats.apply(AdsLight.updateExternalStats,arguments)},stManager.add([jsc("web/ads_light.js")],l.pbind(e))}function _(){window.__seenAds=Object(o.r)(Object(r.a)("remixseenads")),window.__adsUpdate=c,window.__adsSet=u,window.__adsGetAjaxParams=s,window.__adsUpdateExternalStats=l}window.__adsLoaded=Object(o.M)()},m0Pp:function(e,t,n){var r=n("2OiF");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},mMuO:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return I})),n.d(t,"d",(function(){return A})),n.d(t,"b",(function(){return M})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return L})),n.d(t,"i",(function(){return B}));var r,o=n("ruCf"),a=n("Iwtw"),i=n("W9Tc"),s=n("/Kck"),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=1;function l(e){return!!Object(i.b)("web_stats_send_on_events_limit")&&(1===u&&Object(o.g)(e)>300)}function _(e){var t=+new Date,n=Object(o.e)();0===n&&(n=t,Object(o.k)(n));var s,c=t-n,u=c/1e3,_=l(e);Object(a.a)("saveStats",{nowMs:t,lastTransferTimeMs:n,timePassed:u+"s",statsData:e}),Object(i.b)("web_stats_debounce")?(Object(o.j)(e),s=function(e,t){return t?0:0===e||e>6e4?3e3:12e4}(c,_),window.clearTimeout(r),r=window.setTimeout((function(){return Object(o.l)((function(){var e=Object(o.c)().webStatsData,t=+new Date;p(e),Object(o.a)(),Object(o.k)(t)}))}),s)):c>6e4||_?(p(e),Object(o.a)(),Object(o.k)(t)):(Object(o.j)(e),window.setTimeout(d,12e4))}function d(){Object(o.l)((function(){var e=Object(o.c)(),t=e.webStatsData;e.isEmpty||_(t)}))}function p(e){Object(a.a)("send",e);var t=window.vk,n=t.id,r=t.wsTransport,i=t.statsMeta,l=r+(window.vk&&window.vk.statsMeta&&window.vk.statsMeta.st?"/web-stats/s":"/web-stats/p"),d=c(c({},e),{id:n,st:i.st,platform:i.platform,signTime:i.time,sign:i.hash,attempt:u});Object(s.e)(l,d).then((function(e){Object(a.a)("sendStats success",e),u=1})).catch((function(t){return u++,Object(o.l)((function(){Object(a.a)("sendStats try",u),_(e)})),Object(a.a)("sendStats error",t),!0})),Object(o.k)(+new Date)}var f,h=n("5hnT"),m=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},b=function(e){var t=Date.now(),n=function(e){return"{"+(null==e?void 0:e.map((function(e){return'"'+e[0]+'":'+e[1]})).join(","))+"}"},r=Object.keys(Object(o.d)()).reduce((function(t,n){var r=Object(o.h)(n,e);return"[]"===r?t:m(m([],t),[[n,r]])}),[]).sort((function(e,t){var n=e[1];return t[1].length-n.length})).reduce((function(e,t){var r=e[0],o=e[1],a=t[0],i=t[1],c=[[a,i]];return i.length+n(r).length<s.a?[r.concat(c),o]:[r,o.concat(c)]}),[[],[]]),a=r[0],i=r[1],c=n(a);if(Object(s.d)(Date.now()-t,"chunk"),Date.now()-t<500&&i[0]&&c.length<.1*s.a){var u=Date.now();try{var l=function(e,t){var n=t[0],r=t[1],o='{"'+n+'":['+JSON.parse(r).reduce((function(t,n,r){return t.length<s.a-e.length?t+(0===r?"":",")+JSON.stringify(n):t}),"")+"]}";return"{}"===e?o:Object(s.c)(e,o)||e}(c,i.reverse()[0]);return Object(s.d)(Date.now()-u,"batch"),l}catch(e){return Object(s.d)(Date.now()-u,"batch-fail"),""}}return c},g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=0,y=function(){return 1e4*v},O=function(){return!(Date.now()-Object(o.e)()>45e3+y())},w=function(){return f=void 0},E=function(){!0!==f&&(clearTimeout(f),f=window.setTimeout((function(){var e=Object(o.f)();w(),e.length>o.b.length&&j(e)}),Math.max(1e4,Object(o.e)()+45e3-Date.now()+y())))};function j(e,t){var n=e.length>=s.a,r=(null==t?void 0:t.force)||n;return!r&&(f||O()||e.length<=o.b.length)?(Object(a.a)("WebStats delayed.",f),E()):(f=!0,function(e,t){var n=function(t){return setTimeout((function(){return e()}),t)};return(null==t?void 0:t.force)?n(0):window.requestIdleCallback((function(){return n(1e4)}),{timeout:5e3})}((function(){var e=Object(o.f)();if(r||!0===f&&!O()&&e.length>o.b.length)return Object(o.k)(),function(e){var t=window.vk.wsTransport+"/web-stats/"+(window.vk.statsMeta.st?"s":"p"),n=e.length>s.a,r=n?b(e):e,a=!1;if(!r)return w(),Object(o.a)();var i=new XMLHttpRequest;i.withCredentials=t.includes("tau.vk.com"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var t=Date.now();i.status<500&&(n&&200===i.status?Object.keys(Object(o.d)()).forEach((function(e){return k(e,r)})):Object(o.a)(),v=0,a=!0),(n||400===i.status)&&Object(s.d)(Date.now()-t,(n?"prune":"clean")+(400===i.status?"-fail":""),(e.length>>>20)+"M "+(r.length>>>20)+"M"),w(),E()}},i.onerror=function(){return!a&&Object(o.a)()},i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.send(Object(h.b)(Object(s.b)(++v,r)))}(e);clearTimeout(Number(f)),w(),E()}),g(g({},t),{force:r})))}var D=n("tGJf"),P=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},k=function(e,t){var n=Object(o.h)(e,t);if("[]"!==n){var r=Object(o.f)().replace(n.slice(1,-1),"").replace(/\[\,/,"[");Object(o.l)((function(){return D.a.setItem(o.i,r)}))}},C=function(e,t,n,r){if(Object(i.b)("batchify_web_stats")){var s=function(e,t){var n=Object(o.h)(e);return Object(o.f)().replace('"'+e+'":'+n,'"'+e+'":'+n.replace(/]$/,("[]"===n?"":",")+JSON.stringify(t)+"]"))}(t,n);Object(o.l)((function(){return D.a.setItem(o.i,s)})),j(s,r)}else Object(o.l)((function(){var e=Object(o.c)().webStatsData;e[t].push(n),_(e)}));Object(a.a)(e,n)},T=function(e){return C("saveJsErrorLogs","jsErrorLogs",e)},x=function(e){var t=e.name,n=e.value,r=e.keys,o=P([Math.round(Number(Date.now())/1e3),t,n],r);return Object(i.b)("web_stats_transport_debugger")&&console.log("Data was transformed!"),C("saveStatlogEvents","statlogEvents",o)},I=function(e,t){return C("saveProductionStats","productionStats",e,t)},A=function(e){return C("saveNetworkStats","networkStats",e)},M=function(e){return C("saveCustomStats","customStats",e)},S=function(e){return C("saveStoryViewStats","storyViewStats",e)},L=function(e){return S(e)},B=function(e){return C("saveWebPerfStats","webPerfStats",e)}},mpRv:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("pIFo");var r=n("kcIO"),o=n("aong"),a=n("t7n3"),i=n("v+DW"),s=n("zxIV"),c=n("MJEz");class u{constructor(e,t){Object(c.c)().setInteractiveHandler("TransferVotesBox/check_user_message",()=>{this.transferCheckUserMessage()}),Object(c.c)().setInteractiveHandler("TransferVotesBox/clean_amount",e=>{this.transferCleanAmount(e.payload.event.target)}),Object(c.c)().setInteractiveHandler("TransferVotesBox/text_keydown",e=>{13===e.payload.event.keyCode&&this.transferSend()}),this.box=Object(r.b)(),extend(this,e,{votesTransferMaxTextLength:t,linkCache:{}}),this.uiTransferTo=new Dropdown(ge("transfer_to"),this.friends,{big:!0,introText:getLang("votes_transfer_start_typing_recipient"),noResult:"",placeholder:getLang("votes_transfer_choose_recipients"),placeholderColored:!0,multiselect:!1,enableCustom:!0,autocomplete:!0,selectedItems:this.friends_sel,imageId:"transfer_to_photo",indexkeys:[1,4],noImageSrc:"/images/blank.gif",onChange:e=>{var t=this.uiTransferTo.val_full();if(t[0]&&t[1]!==getLang("votes_transfer_choose_recipients"))if(-1===t[0]){for(var n=0;n<this.uiTransferTo.currentList.length;n++){var r=this.uiTransferTo.currentList[n];if(r[1]===t[1])return this.uiTransferTo.selectItem(r[0]),void this.transferCheckUserAmount(r[0])}this.transferGetUser(t[1])}else this.transferCheckUserAmount(t[0])}}),cur.destroy.push(this.uiTransferTo.destroy.bind(this.uiTransferTo)),this.box.setOptions({width:500,bodyStyle:"padding: 0;"}),this.box.setButtons(getLang("votes_transfer_send"),()=>{this.transferSend()},getLang("global_cancel"))}uiTransferToFocus(){this.uiTransferTo.focus()}transferCleanAmount(e){var t=e.value.replace(/[^0-9]/g,"");e.value!==t&&(e.value=t)}transferShowBoxError(e){ge("payments_box_error").innerHTML=e,show("payments_box_error"),this.box.hideProgress()}transferCheckUserMessage(){Object(o.b)(this.votesTransferMaxTextLength,ge("transfer_comment"),ge("transfer_comment_limit_message"),!1,!0)}transferSend(){hide("payments_box_error");var e={act:"a_votes_transfer_send",transfer_to:this.uiTransferTo.val(),transfer_amount:Object(a.r)(val("transfer_amount")),transfer_comment:Object(a.I)(val("transfer_comment")),hash:this.transfer_hash};if((parseInt(e.transfer_to)||0)<=0)return this.transferShowBoxError(getLang("votes_transfer_please_select_recipient")),void this.uiTransferTo.focus();e.transfer_amount<=0?Object(i.q)("transfer_amount"):this.user_limit<=0||e.transfer_amount>this.user_limit?this.transferShowBoxError(this.user_limit_err_msg):(this.box.showProgress(),ajax.post("al_payments.php",e,{onDone:(e,t)=>{this.box.hide(),Object(r.f)(e,{out:4e3});var n=ge("settings_votes_history");if(n&&n.parentNode){for(var o=n.parentNode;o.firstChild;)o.removeChild(o.firstChild);for(var a=Object(s.p)(Object(s.g)("div",{innerHTML:t})),i=0;i<a.length;i++)o.appendChild(a[i]);this.historyOffset=5}},onFail:e=>(e&&this.transferShowBoxError(e),this.box.hideProgress(),!0)}))}transferCheckUserAmount(e){this.box.showProgress(),hide("payments_box_error"),ajax.post("al_payments.php",{act:"a_votes_transfer_check",transfer_to:e},{onDone:e=>{this.box.hideProgress(),this.user_limit=e[0],this.user_limit_err_msg=e[2],ge("limit_message")&&(ge("limit_message").innerHTML=e[1],Object(s.H)("transfer_amount"))},onFail:e=>(this.transferShowBoxError(e),!0)})}transferGetUser(e){var t=t=>{this.box.hideProgress(),hide("payments_box_error");for(var n=this.uiTransferTo.currentList,r=!1,o=0;o<n.length;o++)n[o][0]===t[0]&&(r=!0);r||(n.push(t),this.uiTransferTo.setData(n)),this.uiTransferTo.selectItem(t[0]),this.user_limit=t[4],this.user_limit_err_msg=t[6],ge("limit_message").innerHTML=t[5],this.linkCache[e]=t,Object(s.H)("transfer_amount")};Object(a.I)(e).length&&(void 0!==this.linkCache[e]?t(this.linkCache[e]):(this.box.showProgress(),ajax.post("al_payments.php",{act:"a_votes_transfer_get_person",page:e},{onDone:t,onFail:e=>(this.transferShowBoxError(e),!0)})))}}},n3cE:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("91GP"),n("ioFf"),n("rGqo"),n("Btvt");var r=n("q1tI"),o=(n("17x9"),n("xt6h"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class s extends r.Component{render(){var e=this.props,t=e.onClick,n=e.hovered,s=e.className,c=e.children,u=i(e,["onClick","hovered","className","children"]),l=Object(o.a)("Link",{"Link--hovered":!!n},s);return this.props.href?r.createElement("a",a({onClick:t},u,{className:l}),c):r.createElement("span",a({onClick:t},u,{className:l}),c)}}s.defaultProps={href:void 0,hovered:!1,onClick:()=>{}}},nAFc:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));n("HEwt"),n("a1Th"),n("Btvt"),n("rGqo"),n("rE2o"),n("ioFf"),n("Oyvg"),n("pIFo");var r=n("yqpO"),o=n("vkmG");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=o.d,c=(o.b,o.c);function u(e){return s.reduce((e,t)=>{var n=a(t,2),r=n[0],o=n[1];return e.replace(new RegExp(r,"ig"),o)},e).replace(/&#(\d+);/g,(e,t)=>String.fromCodePoint(t))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lineBreak,o=void 0!==n&&n,a=t.convertEmoji,i=void 0===a||a,s=u(e);return s=s.replace(/\n\r/gi,"\n"),"oneline"===o?s=s.replace(/<br>/gi," ").replace(/\n/gi," "):"html"===o&&(s=s.replace(/\n/gi,"<br>")),s=c(s),i&&(s=Object(r.b)(s,!0)),s}},nCnK:function(e,t,n){n("7DDg")("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},nGyu:function(e,t,n){var r=n("K0xU")("unscopables"),o=Array.prototype;null==o[r]&&n("Mukb")(o,r,{}),e.exports=function(e){o[r][e]=!0}},nICZ:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},ne8i:function(e,t,n){var r=n("RYi7"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},ngxX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("91GP"),n("ioFf"),n("rGqo"),n("Btvt");var r=n("q1tI"),o=(n("17x9"),n("xt6h"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class s extends r.Component{constructor(){super(...arguments),this.onChange=e=>{var t=this.props.onChange;t&&(this.props.native?t(e):t(this.props.name,e.target.checked))}}render(){var e=this.props,t=e.children,n=e.checked,s=e.disabled,c=e.name,u=e.type,l=void 0===u?"checkbox":u,_=e.id,d=i(e,["children","checked","disabled","name","type","id"]),p=Object(o.a)("Switch",d.className,{"Switch--disabled":s,"Switch--last":!t});return r.createElement("label",{className:p,htmlFor:_,tabIndex:"-1","aria-checked":!!n,role:"checkbox"},r.createElement("input",a({},d,{className:"Switch__input",id:_,type:l,checked:n,name:c,disabled:s,onChange:this.onChange})),r.createElement("span",{className:"Switch__indicator","aria-hidden":!0}),t)}}},nh4g:function(e,t,n){e.exports=!n("eeVq")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},nqXl:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return i}));var r=0,o=3,a="is_donut_paid_member";t.e={GROUPS_ADMIN_LEVEL_USER:r,GROUPS_ADMIN_LEVEL_MODERATOR:1,GROUPS_ADMIN_LEVEL_EDITOR:2,GROUPS_ADMIN_LEVEL_ADMINISTRATOR:o,GROUPS_ADMIN_LEVEL_HOST:4,GROUPS_ADMIN_LEVEL_EVENT_CREATOR:5,GROUPS_ADMIN_LEVEL_CREATOR:6,GROUPS_ADMIN_PSEUDO_LEVEL_ADVERTISER:100,GROUPS_ADMIN_FLAG_ADS:8};var i=2},o5u5:function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.TYPE_NETWORK_AUDIO_ITEM="type_network_audio_item",e.TYPE_MODULE_NAVIGATION_STATS_ITEM="type_module_navigation_stats_item"}(r||(r={})),function(e){e.FRAGMENT_LOADED="fragment_loaded",e.FRAGMENT_STALLED="fragment_stalled"}(o||(o={}))},o7bv:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f}));n("SRfc");var r=n("zxIV"),o=n("Egk5"),a=n("7jxN"),i=n("t7n3"),s=n("gdug"),c=n("W9Tc");function u(){return document.activeElement&&(Object(r.e)(document.activeElement,"contenteditable")||"INPUT"===document.activeElement.tagName||"textarea"===document.activeElement.tagName)}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,c=e.phshown,u=e.phcont,l=n.back,_=n.editable,d=n.hideBackAfter,p=n.timeout,f=n.phColor,h=void 0===f?"#8C8E91":f,m=n.activeColor,b=void 0===m?"#C0C8D0":m,g=p||0===p?p:100,v=n.period||200;if(t=_?(void 0!==e.textContent?e.textContent:e.innerText)||Object(r.N)("img",e).length:e.value,c&&(l&&t||!l&&(o&&!o.type||t))?(Object(r.bb)(u),e.phshown=!1):c||t||!l&&!i||(Object(r.xb)(u),e.phshown=!0,s.a.opera&&i&&(e.setAttribute("placeholder",""),e.removeAttribute("placeholder",""))),l&&!t){if(o&&!o.type){var y=d?r.bb.pbind(u.firstChild.firstChild):null;clearTimeout(e.phanim),e.phanim=setTimeout((function(){Object(a.b)(u.firstChild.firstChild,{color:b},v,y)}),g)}i&&(clearTimeout(e.phanim),d&&Object(r.xb)(u.firstChild.firstChild),e.phanim=setTimeout((function(){Object(a.b)(u.firstChild.firstChild,{color:h},v)}),g))}}function _(e,t){var n=Object(r.J)(e);if(!n)return!1;if(!(n.getAttribute?n.getAttribute("contenteditable"):n.contenteditable)&&Object(c.b)("native_placeholder_enable"))return!1;var a=t?Object(i.d)(t):{};if(!n.phevents||a.reload){var u=n.getAttribute?n.getAttribute("placeholder"):n.placeholder;if(u){n.removeAttribute("placeholder");var _={},d=!1,p=["Top","Bottom","Left","Right"];if(a.pad)_=a.pad;else{if(a.fast){for(var f=0;f<4;f++)_["padding"+p[f]]=3,_["margin"+p[f]]=0,_["border"+p[f]+"Width"]=1;Object(i.i)(_,a.styles||{})}else{for(var h=[],m=0;m<4;m++)h.push("margin"+p[m]),h.push("padding"+p[m]),h.push("border"+p[m]+"Width");_=Object(r.T)(n,h)}for(var b=0;b<4;b++){var g="margin"+p[b],v="border"+p[b]+"Width";_[g]=Object(i.r)(_[g])+Object(i.r)(_[v])+"px",delete _[v]}}if(a.reload){var y=n.previousSibling;y&&Object(r.ab)(y,"input_back_wrap")&&Object(r.kb)(y)}var O=a.big?" big":"",w=Object(r.S)(n)[0]-20,E=n.phcont=n.parentNode.insertBefore(Object(r.g)("div",{className:"input_back_wrap no_select",innerHTML:`<div class="input_back"><div class="input_back_content${O}" style="width: ${w}px;">${u}</div></div>`}),n),j=Object(r.x)(E);Object(r.vb)(j,_);var D=l.pbind(n,a),P=s.a.mobile?D:(e,t)=>setTimeout(D.pbind(e,t),0);s.a.msie&&s.a.version<8&&Object(r.vb)(j,{marginTop:1}),n.phonfocus=function(e){d||(n.focused=!0,cur.__focused=n,!0===e&&(Object(r.vb)(n,{backgroundColor:"#FFF"}),Object(r.bb)(j)),P(!0,!1))},n.phonblur=function(){d||(cur.__focused=n.focused=!1,Object(r.xb)(j),P(!1,!0))},n.phshown=!0,n.phanim=null,(n.value||a.editable&&((void 0!==n.textContent?n.textContent:n.innerText)||Object(r.N)("img",n).length))&&(n.phshown=!1,Object(r.bb)(E)),s.a.opera_mobile||(Object(o.b)(E,"focus click",(function(e){d||(a.editableFocus?(setTimeout(a.editableFocus.pbind(n),0),n.phonfocus()):(n.blur(),n.focus()))})),Object(o.b)(n,"focus"+(a.editable?" click":""),n.phonfocus),Object(o.b)(n,"keydown paste cut input",P)),Object(o.b)(n,"blur",n.phonblur),n.check=P,n.getValue=()=>a.editable?n.innerHTML:n.value,n.setPlaceholder=e=>Object(r.L)("input_back_content",E).textContent=e,n.setDisabled=e=>d=e,n.setValue=function(e){a.editable?n.innerHTML=e:n.value=e,l(n,a)},n.phevents=!0,n.phonsize=function(){},a.global||a.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push(function(e){for(var t=0,n=e.length;t<n;t++)Object(r.ob)(e[t])}.pbind(cur.__phinputs))),cur.__phinputs.push(n))}}}function d(e,t){var n=Object(r.J)(e);if(!n)return!1;if(!(n.getAttribute?n.getAttribute("contenteditable"):n.contenteditable)&&Object(c.b)("native_placeholder_enable"))return!1;var a=t?Object(i.d)(t):{},u=void 0===Object(r.g)("input").placeholder||n&&n.getAttribute&&n.getAttribute("contenteditable");if(!n.phevents||a.reload){var l=n.getAttribute?n.getAttribute("placeholder"):n.placeholder;if(l&&(n.getValue=function(){return a.editable?n.innerHTML:n.value},n.setValue=function(e){a.editable?n.innerHTML=e:n.value=e,u&&h(n,a)},n.phonfocus=function(){},n.phonblur=function(){},u)){if(n.removeAttribute("placeholder"),a.reload){var _=Object(r.B)(n);_&&Object(r.ab)(_,"placeholder")&&Object(r.kb)(_)}var d=n.phcont=Object(r.y)(Object(r.g)("div",{className:"placeholder",innerHTML:'<div class="ph_input"><div class="ph_content">'+l+"</div></div>"}),n),p=h.pbind(n,a),f=s.a.mobile?p:(e,t)=>setTimeout(p.pbind(e,t),0);n.phonfocus=function(){n.focused=!0,cur.__focused=n,f(!0,!1)},n.phonblur=function(){cur.__focused=n.focused=!1,f(!1,!0)},n.phshown=!0,(n.value||a.editable&&((void 0!==n.textContent?n.textContent:n.innerText)||Object(r.N)("img",n).length))&&(n.phshown=!1,Object(r.bb)(d)),s.a.opera_mobile||(Object(o.b)(d,"focus click contextmenu",(function(e){a.editableFocus?(setTimeout(a.editableFocus.pbind(n),0),"contextmenu"===e.type&&s.a.msie&&a.editableFocus(n),n.phonfocus()):(n.blur(),n.focus())})),Object(o.b)(n,"focus"+(a.editable?" click":""),n.phonfocus),Object(o.b)(n,"keydown paste cut input",f)),Object(o.b)(n,"blur",n.phonblur),n.check=f,n.phevents=!0,n.phonsize=function(){},a.global||a.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push((function(){if(cur.__phinputs)for(var e=0,t=cur.__phinputs.length;e<t;++e)Object(r.ob)(cur.__phinputs[e])}))),cur.__phinputs.push(n))}}function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.phshown,a=e.phcont,i=n.editable;i?((t=void 0!==e.textContent?e.textContent:e.innerText)&&s.a.opera&&t.match(/^[ ]+$/)&&(t=""),t||(t=Object(r.N)("img",e).length>0),t||(t=Object(r.N)("br",e).length>1),t||(t=Object(r.N)("p",e).length>1)):t=e.value,o&&t?(Object(r.bb)(a),e.phshown=!1):o||t||(Object(r.xb)(a),e.phshown=!0)}}var p=e=>{var t=void 0===e.which?e.keyCode:e.which;String.fromCharCode(t).match(/^[0-9]+$/)||Object(o.c)(e)},f=e=>{Object(o.b)(e,"keypress",p)}},ofcU:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}));n("HEwt"),n("a1Th"),n("rE2o"),n("ioFf"),n("rGqo"),n("Btvt"),n("KKXr");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=new window.Map;function i(e){var t=a.get(e.currentTarget);if(t){var n=t[e.type];if(n)for(var o,i=0;i<n.length;i++){var s=r(n[i],2),c=s[0],u=s[1],l=void 0;if(hasClass(e.target,c)?l=u(e,e.target):(o=gpeByClass(c,e.target,e.currentTarget))&&(l=u(e,o)),!1===l)break}}}var s=n("Egk5"),c=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function u(e){return{callMutations:function(){if("function"==typeof e)throw console.trace(),new Error("Mutations are not initialized");return e},bindMutations:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if("function"!=typeof e)throw console.trace(),new Error("Mutations are already initialized");return e=e.apply(void 0,t)}}}function l(e,t,n,r){Object(s.b)(t,n,r),e._registeredHandlers.push({handlerType:"bind",elem:t,types:n,handler:r})}function _(e,t,n,r,o){!function(e,t,n,r){var o=a.get(e);o||(a.set(e,{}),o=a.get(e));for(var s=t.split(" "),c=0;c<s.length;c++){var u=s[c];o[u]||(o[u]=[],addEvent(e,u,i)),o[u].push([n,r])}}(t,n,r,o),e._registeredHandlers.push({handlerType:"delegate",elem:t,types:n,selector:r,handler:o})}function d(e){var t={_registeredHandlers:[]};return e.handlers((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l.apply(void 0,c([t],e))}),(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return _.apply(void 0,c([t],e))})),t}function p(e){e._registeredHandlers.forEach((function(e){var t=e.handlerType,n=e.elem,r=e.types,o=e.handler;"delegate"===t?function(e,t,n,r){var o=a.get(e);o&&(t.split(" ").forEach(t=>{o[t]&&(o[t]=o[t].filter(e=>e[0]!==n||e[1]!==r),0===o[t].length&&removeEvent(e,t,i))}),0===Object.keys(o).map(e=>o[e].length).reduce((e,t)=>e+t)&&a.delete(e))}(n,r,e.selector,o):Object(s.i)(n,r,o)})),e._registeredHandlers=[]}},ol8x:function(e,t,n){var r=n("dyZX").navigator;e.exports=r&&r.userAgent||""},pIFo:function(e,t,n){"use strict";var r=n("y3w9"),o=n("S/j/"),a=n("ne8i"),i=n("RYi7"),s=n("A5AN"),c=n("Xxuz"),u=Math.max,l=Math.min,_=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n("IU+Z")("replace",2,(function(e,t,n,f){return[function(r,o){var a=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,a,o):n.call(String(a),r,o)},function(e,t){var o=f(n,e,this,t);if(o.done)return o.value;var _=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var m=_.global;if(m){var b=_.unicode;_.lastIndex=0}for(var g=[];;){var v=c(_,d);if(null===v)break;if(g.push(v),!m)break;""===String(v[0])&&(_.lastIndex=s(d,a(_.lastIndex),b))}for(var y,O="",w=0,E=0;E<g.length;E++){v=g[E];for(var j=String(v[0]),D=u(l(i(v.index),d.length),0),P=[],k=1;k<v.length;k++)P.push(void 0===(y=v[k])?y:String(y));var C=v.groups;if(p){var T=[j].concat(P,D,d);void 0!==C&&T.push(C);var x=String(t.apply(void 0,T))}else x=h(j,d,D,P,C,t);D>=w&&(O+=d.slice(w,D)+x,w=D+j.length)}return O+d.slice(w)}];function h(e,t,r,a,i,s){var c=r+e.length,u=a.length,l=p;return void 0!==i&&(i=o(i),l=d),n.call(s,l,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=i[o.slice(1,-1)];break;default:var l=+o;if(0===l)return n;if(l>u){var d=_(l/10);return 0===d?n:d<=u?void 0===a[d-1]?o.charAt(1):a[d-1]+o.charAt(1):n}s=a[l-1]}return void 0===s?"":s}))}}))},pbhE:function(e,t,n){"use strict";var r=n("2OiF");function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},pdqG:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"d",(function(){return y}));var r=n("6x51"),o=n("ftTi"),a=n("kxld"),i=n("Czjj"),s=n("PEW9"),c=n("aong"),u=n("rudk"),l=n("W9Tc"),_=n("sp2a"),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e,t){Object(r.i)(t,e);var n=t.tabs[t.peer];return t.tabs=Object.keys(e).reduce((function(n,r){var a=Number(r),s=t.tabs[a]?t.tabs[a].msgs:{},c=Object.assign({},s||{},e[a].msgs||{});return n[a]=Object.assign({},t.tabs[a]||{},e[a]),c&&(n[a].msgs=c),e[a].lastmsg||(Object(o.p)(t)&&!1!==n[a].lastmsg&&(console.log(d({},e[a])),Object(i.a)()),n[a].lastmsg=!1),n}),t.tabs),n&&(t.tabs[t.peer]=n),Promise.resolve(t)}function f(e,t,n,o,a){t.deletedDialog||(e.dialog_tabs=Object.keys(e.dialog_tabs).reduce((function(e,i){var s=e[i];return!n&&!Object(r.e)(i)(t)||a&&!a(i,s,t)||(e[i]=Object(c.a)(o(s,i))),e}),e.dialog_tabs))}function h(e,t,n){var r=Object(a.e)(n,e);if(!r)return Promise.resolve(n);r.unread=r.unread?r.unread-t.length:0;var o=t.reduce((function(e,t){return e[t]=!0,e}),{});return m(e,(function(e){return!o[e]}),n),b(e,(function(e){return!o[e]}),n),Promise.resolve(n)}function m(e,t,n){var r=Object(a.e)(n,e);return r?(r.expiring_messages&&(r.expiring_messages=r.expiring_messages.filter(t),r.expiring_messages.length||delete r.expiring_messages),n):n}function b(e,t,n){var r=Object(a.e)(n,e);return r?(r.mentions&&(r.mentions=r.mentions.filter(t),r.mentions.length||delete r.mentions),n):n}function g(e){var t=e.peer,n=e.id;if(0===t)return Promise.resolve(e);var i=Object(a.e)(e,t);if(!i)return Promise.resolve(e);var c=Object(u.c)(t),d=Object(a.h)(i),p=Object(a.m)(i),f=Object(a.g)(i),h=Object(a.t)(i),m=c&&!Object(a.i)(i),b=!!i.offset,g=[];b&&g.push(s.b.MEDIA),b&&g.push(s.b.SEARCH),0===i.unread&&g.push(s.b.UNREAD),!Object(u.f)(t)&&!b||d||g.push(s.b.CLEAR),!Object(o.o)(e)||d||p||g.push(s.b.BLOCK),d&&!m&&g.push(s.b.SETTINGS),Object(u.d)(t)&&(i.can_send_notify?g.push(s.b.BLOCK_NOTIFY):g.push(i.blocked_community?s.b.ALLOW_COMMUNITY:s.b.BLOCK_COMMUNITY)),!(Object(l.b)("fav_dialog_with_yourself")&&n===t)&&!Object(o.o)(e)&&!Object(u.e)(t)&&(c||Object(u.j)(t)||Object(u.d)(t))&&(!c||!m)&&g.push(e.mutedPeers.includes(t)?s.b.UNMUTE:s.b.MUTE),!Object(o.o)(e)&&Object(u.j)(t)&&i.is_friend&&!i.block_error&&!e.isMRToChatEnabled&&g.push(s.b.CREATE_CHAT),c&&!m&&Object(_.x)(e,t)&&!Object(o.o)(e)&&g.push(s.b.CHAT_INVITE),!Object(o.o)(e)&&Object(u.j)(t)&&t!==window.vk.id&&!i.blacklisted&&!i.block_error&&i.canBeAddedToChat&&e.isMRToChatEnabled&&g.push(s.b.USER_INVITE),!c||m||Object(o.o)(e)||g.push(s.b.LEAVE),c&&i.data.closed&&!i.data.kicked&&g.push(s.b.RETURN),!Object(l.b)("pinned_conversations")||Object(o.o)(e)||!b||f||h||g.push(Object(u.h)(i.major_sort_id||0)?s.b.UNPIN_CONVO:s.b.PIN_CONVO),c&&i.pinned&&(g.push(Object(a.p)(i)?s.b.PIN_UNHIDE:s.b.PIN_HIDE),Object(_.A)(e)&&g.push(s.b.UNPIN));var v=Object(r.b)(i,Object(o.o)(e));return e.curActions=g.reduce((function(e,t){return e[t]=v[t],e}),{}),Promise.resolve(e)}function v(e,t,n,r){var o=e.recommendationList,a=o&&o.item_data[t];return a&&(a.online=n||r?1:0,a.online_info&&(a.online_info.is_online=n,a.online_info.is_mobile=r)),Promise.resolve(e)}function y(e,t,n){return n.tabs[e]&&(n.tabs[e].is_new=!!t),Promise.resolve(n)}},q1tI:function(e,t,n){"use strict";e.exports=n("viRO")},qOki:function(e,t,n){"use strict";n.r(t),n.d(t,"EMPTY",(function(){return r})),n.d(t,"UNSTARTED",(function(){return o})),n.d(t,"PLAYING",(function(){return a})),n.d(t,"PAUSED",(function(){return i})),n.d(t,"ENDED",(function(){return s})),n.d(t,"ERROR",(function(){return c}));var r="empty",o="unstarted",a="playing",i="paused",s="ended",c="error"},qYuU:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,o=n("jE6c");r=window.hasOwnProperty("__SHARED_STATE_KEY")?window.__SHARED_STATE_KEY:Object.create(null),Object.defineProperty(window,"__SHARED_STATE_KEY",{configurable:!0,value:r});var a=()=>window.__SHARED_STATE_KEY,i=e=>a()[e],s={persistIfInitialized:!0},c=(e,t,n)=>{var r=Object(o.a)({},n,s),c=e in a(),u=i(e),l=c&&r.persistIfInitialized?u:t(u);((e,t)=>{a()[e]=t})(e,l);return()=>i(e)}},quPj:function(e,t,n){var r=n("0/R4"),o=n("LZWt"),a=n("K0xU")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},r0fY:function(e,t,n){"use strict";var r,o,a,i,s,c,u,l,_,d,p,f,h,m,b,g,v,y,O,w,E,j,D;n.d(t,"d",(function(){return r})),n.d(t,"m",(function(){return o})),n.d(t,"l",(function(){return a})),n.d(t,"s",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"p",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return _})),n.d(t,"r",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"n",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"k",(function(){return w})),n.d(t,"e",(function(){return E})),n.d(t,"q",(function(){return j})),n.d(t,"j",(function(){return D})),function(e){e.NOWHERE="nowhere",e.OTHER="other",e.START="start",e.START_BOX="start_box",e.START_PROCEED_AS="start_proceed_as",e.REGISTRATION_COMPLETE="registration_complete",e.REGISTRATION_COUNTRY="registration_country",e.REGISTRATION_PHONE="registration_phone",e.REGISTRATION_PHONE_VERIFY="registration_phone_verify",e.REGISTRATION_PASSWORD="registration_password",e.REGISTRATION_EDUCATION="registration_education",e.REGISTRATION_EMAIL="registration_email",e.REGISTRATION_NAME="registration_name",e.REGISTRATION_INVITE_CONFIRM="registration_invite_confirm",e.REGISTRATION_LIST_FRIENDS_FACEBOOK="registration_list_friends_facebook",e.PHONE_2FA_VERIFY="phone_2fa_verify"}(r||(r={})),function(e){e.TYPE_NAVGO="type_navgo",e.TYPE_ACTION="type_action",e.TYPE_CLICK="type_click",e.TYPE_VIEW="type_view"}(o||(o={})),function(e){e.GO="go",e.BACK="back",e.TAB_OPEN="tab_open"}(a||(a={})),function(e){e.TYPE_DONUT_DESCRIPTION_NAV_ITEM="type_donut_description_nav_item",e.TYPE_MARKET_NAVGO="type_market_navgo",e.TYPE_YOULA_SNIPPET_NAVGO="type_youla_snippet_navgo"}(a||(a={})),function(e){e.TYPE_YOULA_SNIPPET_ITEM="type_youla_snippet_item"}(i||(i={})),function(e){e.TYPE_REGISTRATION_ITEM="type_registration_item",e.TYPE_MARKETING_TRANSITION_ITEM="type_marketing_transition_item",e.TYPE_DONUT_PAYMENT_ITEM="type_donut_payment_item",e.TYPE_CALL_ITEM="type_voip_call_item",e.TYPE_BRIDGE_EVENT_ITEM="type_bridge_event_item",e.TYPE_EASTER_EGGS_ITEM="type_easter_eggs_item",e.TYPE_CUSTOM_METRICS_ITEM="type_ab_custom_metrics_item",e.TYPE_MESSAGING_ACTION_ITEM="type_messaging_action_item"}(s||(s={})),function(e){e.TYPE_MARKET_CLICK="type_market_click",e.TYPE_WORKI_CLICK="type_worki_click",e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MINI_APP_ITEM="type_mini_app_item",e.TYPE_VKM_CONVERSATION_SUGGESTION_ITEM="type_vkm_conversation_suggestion_item"}(c||(c={})),function(e){e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MARKET_VIEW="type_market_view",e.TYPE_MINI_APPS_VIEW_ITEM="type_mini_app_view_item"}(u||(u={})),function(e){e.MARKETPLACE="marketplace",e.MARKETPLACE_BLOCK="marketplace_block",e.MARKETPLACE_SEARCH="marketplace_search"}(l||(l={})),function(e){e.TYPE_MARKET_ORDERS_ITEM="type_market_orders_item",e.TYPE_MARKET_CARTS_ITEM="type_market_carts_item",e.TYPE_MARKET_GOODS_ITEM="type_market_item",e.TYPE_MARKET_MARKETPLACE_ITEM="type_market_marketplace_item"}(_||(_={})),function(e){e.TYPE_WORKI_SNIPPET_ITEM="type_worki_snippet_item"}(d||(d={})),function(e){e.CATALOG_PROMO_BANNER_VIEWED="catalog_promo_banner_viewed"}(p||(p={})),function(e){e.ARTICLE="article",e.GROUP="group",e.PHOTO="photo",e.POST="post",e.STORY="story",e.USER="user",e.BROWSER="browser",e.NARRATIVE="narrative",e.MINI_APP="mini_app",e.GAME="game",e.VIDEO="video",e.MARKET_ITEM="market_item",e.MARKET_ITEM_ALBUM="market_item_album",e.MARKET_ORDER="market_order",e.CATALOG_BANNER="catalog_banner",e.AUDIO_FULLSCREEN_BANNER="audio_fullscreen_banner",e.WORKI_SNIPPET="worki_snippet",e.MINI_APPS_CATALOG_BANNER_VIEWED="catalog_promo_banner_viewed",e.MINI_APPS_CATALOG_BANNER="catalog_promo_banner",e.VKM_CONVERSATION_SUGGESTION_OPEN="vkm_conversation_suggestion_open"}(f||(f={})),function(e){e.SWITCH_ITEM_VARIANT_1="switch_item_variant_1",e.SWITCH_ITEM_VARIANT_2="switch_item_variant_2",e.OPEN_WIKI="open_wiki"}(h||(h={})),function(e){e.SCREEN_PROCEED="screen_proceed",e.SCREEN_SKIP="screen_skip",e.SCREEN_RETURN="screen_return",e.COMMON_SERVER_ERROR="common_server_error",e.RESEND_SMS_CODE="resend_sms_code",e.RESEND_SMS_CODE_FAILED="resend_sms_code_failed",e.INCORRECT_SMS_CODE="incorrect_sms_code",e.INCORRECT_PASSWORD="incorrect_password",e.INCORRECT_NAME="incorrect_name",e.INCORRECT_CAPTCHA="incorrect_captcha",e.INCORRECT_PHONE_NUMBER="incorrect_phone_number",e.INCORRECT_BDAY="incorrect_bday",e.INCORRECT_SEX="incorrect_sex",e.INCORRECT_EMAIL="incorrect_email",e.EXISTING_EMAIL="existing_email",e.INCORRECT_EDUCATION="incorrect_education",e.SUCCESS_2FA="success_2fa",e.LOGIN_TAP="login_tap",e.PASSWORD_TAP="passw_tap",e.START_REG_TAP="start_reg_tap",e.FIRST_COUNTRY="first_country",e.FIRST_EDUCATION="first_education",e.FIRST_EMAIL="first_email",e.FIRST_FRIEND_ASK="first_friend_ask",e.SELECT_COUNTRY="select_country",e.SELECT_COUNTRY_DONE="select_country_done",e.INPUT_NUMBER_INTERACTION="input_number_interaction"}(m||(m={})),function(e){e.PHONE_COUNTRY="phone_country",e.PHONE_NUMBER="phone_number",e.COUNTRY="country",e.CITY="city",e.EMAIL="email",e.UNIVERSITY="university",e.FACULTY="faculty",e.SCHOOL="school",e.CHAIR="chair",e.YEAR_FROM="year_from",e.YEAR_TO="year_to",e.CLASS="class",e.EDU_FORM="edu_form",e.EDU_STATUS="edu_status",e.GRADUATION="graduation",e.SPECIALIZATION="specialization",e.RULES_ACCEPT="rules_accept",e.SMS_CODE="sms_code",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.SEX="sex",e.BDAY="bday",e.PASSWORD="password",e.FACEBOOK_REGISTRATION="facebook_registration",e.FRIEND_ASK="friend_ask",e.SELECT_COUNTRY_NAME="select_country_name",e.VERIFICATION_TYPE="verification_type"}(b||(b={})),function(e){e.UNAUTH_BOTTOM_BANNER="unauth_bottom_banner",e.UNAUTH_ACTION_BOX="unauth_action_box"}(g||(g={})),function(e){e.OPEN="open",e.CLOSE="close",e.CLICK_SIGN_UP="click_sign_up",e.CLICK_SIGN_IN="click_sign_in",e.CLICK_OPEN_IN_APP="click_open_in_app"}(v||(v={})),function(e){e.LIKE="like",e.SHARE="share",e.MORE="more"}(y||(y={})),function(e){e.ACTION_MENU_SHARE="action_menu_share",e.ACTION_MENU_ADD_TO_FAVOURITES="action_menu_add_to_favourites",e.ACTION_MENU_REMOVE_FROM_FAVOURITES="action_menu_remove_from_favourites",e.ACTION_MENU_ENABLE_NOTIFICATIONS="action_menu_enable_notifications",e.ACTION_MENU_DISABLE_NOTIFICATIONS="action_menu_disable_notifications",e.ACTION_MENU_ALL_APPS="action_menu_all_apps",e.ACTION_MENU_ALL_GAMES="action_menu_all_games",e.ACTION_MENU_COPY="action_menu_copy",e.ACTION_MENU_DELETE="action_menu_delete"}(O||(O={})),function(e){e.CLICK_GAME_CARD="cloud_games_game_click",e.CLICK_DOWNLOAD_GAME="cloud_games_client_download",e.OPEN_SECTION="cloud_games_section_open"}(w||(w={})),function(e){e.EGG_SHOW="egg_show",e.POPUP_SHOW="popup_show",e.POPUP_ACTION="popup_action"}(E||(E={})),function(e){e.OPEN="vkm_conversation_suggestion_open"}(j||(j={})),function(e){e.OPEN_MR="OPEN_MR"}(D||(D={}))},rDjD:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return _})),n.d(t,"c",(function(){return d}));var r=n("eaP7"),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e){return o(o({},e),{type:r.i})}function i(e){return{type:r.kb,state:e}}function s(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),{type:r.gb,cancelSearch:e,removeActivePeer:t}}function c(e,t,n,o,a){return void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===a&&(a=""),{type:r.b,peerId:e,msgid:t,forward:n,cancelSearch:o,entryPoint:a}}function u(e){return{type:r.c,tab:e}}function l(e,t,n){return{type:r.k,message:t,peerId:e,error:n}}function _(e,t){return{type:r.db,message:t,peerId:e}}function d(e){var t=!1;return e.reduceRight((function(e,n){var o=n.type===r.mb,a=!t&&o;return o&&!a||e.unshift(n),a&&(t=!0),e}),[])}},rE2o:function(e,t,n){n("OnI7")("asyncIterator")},rEJs:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={CURRENT_CHANGED:"curr",PLAY:"start",PLAY_REQUESTED:"request_play",PAUSE:"pause",STOP:"stop",UPDATE:"update",LOADED:"loaded",ENDED:"ended",FAILED:"failed",BUFFERED:"buffered",PROGRESS:"progress",VOLUME:"volume",PLAYLIST_CHANGED:"plchange",ADDED:"added",REMOVED:"removed",FREQ_UPDATE:"freq",SEEK:"seek",PLAY_NEXT:"play_next",AD_READY:"ad_ready",AD_DEINITED:"ad_deinit",AD_STARTED:"ad_started",AD_COMPLETED:"ad_completed",START_LOADING:"start_load",CAN_PLAY:"actual_start",SELECT:"select",DESELECT:"deselect",EMPTY_PLAYLIST:"empty_playlist",NOT_FOUND_PLAYLIST:"not_found_playlist",INIT:"init",REQUEST_EXPANDED:"request_expanded",MUSIC_AUDIOS_ADD:"music_audios_add",MUSIC_PLAYLISTS_ADD:"music_playlists_add"}},rFFZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("D8Gg"),o=n("EasH"),a=null,i=function(e){return new Promise((function(t){var n={imgSrc:e.captcha_img,onSubmit:function(e,n){t({captcha_sid:e,captcha_key:n}),a&&a.hide()},onHide:function(){return a=null}};a=Object(o.c)(e.captcha_sid,a,null,n)}))},s=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Object(r.d)(i,window.vk.apiConfigDomains.apiDomain).then((function(){return e.apply(void 0,t)}))}};t.b=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Object(r.c)(i,window.vk.apiConfigDomains.apiDomain,window.vk.apiConfigDomains.loginDomain).then((function(){return e.apply(void 0,t)}))}}},rGqo:function(e,t,n){for(var r=n("yt8O"),o=n("DVgA"),a=n("KroJ"),i=n("dyZX"),s=n("Mukb"),c=n("hPIQ"),u=n("K0xU"),l=u("iterator"),_=u("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=o(p),h=0;h<f.length;h++){var m,b=f[h],g=p[b],v=i[b],y=v&&v.prototype;if(y&&(y[l]||s(y,l,d),y[_]||s(y,_,b),c[b]=d,g))for(m in r)y[m]||a(y,m,r[m],!0)}},rHUl:function(e,t,n){"use strict";n.d(t,"h",(function(){return h})),n.d(t,"Q",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"r",(function(){return v})),n.d(t,"n",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"P",(function(){return w})),n.d(t,"l",(function(){return E})),n.d(t,"k",(function(){return j})),n.d(t,"e",(function(){return D})),n.d(t,"m",(function(){return P})),n.d(t,"p",(function(){return k})),n.d(t,"B",(function(){return C})),n.d(t,"K",(function(){return T})),n.d(t,"G",(function(){return x})),n.d(t,"f",(function(){return I})),n.d(t,"V",(function(){return A})),n.d(t,"I",(function(){return M})),n.d(t,"J",(function(){return S})),n.d(t,"v",(function(){return L})),n.d(t,"T",(function(){return B})),n.d(t,"C",(function(){return R})),n.d(t,"a",(function(){return N})),n.d(t,"R",(function(){return U})),n.d(t,"q",(function(){return F})),n.d(t,"S",(function(){return W})),n.d(t,"N",(function(){return K})),n.d(t,"o",(function(){return H})),n.d(t,"c",(function(){return q})),n.d(t,"w",(function(){return V})),n.d(t,"i",(function(){return z})),n.d(t,"t",(function(){return G})),n.d(t,"u",(function(){return $})),n.d(t,"Y",(function(){return J})),n.d(t,"bb",(function(){return Y})),n.d(t,"Z",(function(){return X})),n.d(t,"X",(function(){return Q})),n.d(t,"M",(function(){return Z})),n.d(t,"ab",(function(){return ee})),n.d(t,"d",(function(){return te})),n.d(t,"L",(function(){return ne})),n.d(t,"D",(function(){return re})),n.d(t,"x",(function(){return oe}));n("hhXQ"),n("Vd3H"),n("rGqo"),n("Btvt");var r=n("MhhX"),o=n("eaP7"),a=n("h++7"),i=n("86+7"),s=n("rjmT"),c=n("aong"),u=n("sp2a"),l=n("rudk");n.d(t,"F",(function(){return l.d}));var _=n("kxld");n.d(t,"H",(function(){return _.o})),n.d(t,"s",(function(){return _.f})),n.d(t,"U",(function(){return _.s})),n.d(t,"z",(function(){return _.h})),n.d(t,"A",(function(){return _.i})),n.d(t,"y",(function(){return _.g}));var d=n("ftTi");n.d(t,"E",(function(){return d.o})),n.d(t,"O",(function(){return d.r}));var p=n("/rNY");n.d(t,"W",(function(){return p.a}));var f=n("PEW9");function h(e,t){var n=Object(c.s)(e),o=n.tabs[n.peer];return Object.keys(o.msgs).filter(n=>{var a=P(e,t,n);return!Object(r.r)(a)&&intval(n)>o.in_up_to})[0]}function m(e){return Object(c.s)(e).searchShown}function b(e){return g(e,Object(d.i)(e))}function g(e,t){var n=(Object(_.f)(e,t)||{}).keyboard;if(!n||!n.buttons||n.buttons.length)return n}function v(e){return Object(c.s)(e).selectedMessages}function y(e,t,n){var o=Object(_.f)(e,t),a=v(e)[0];if(void 0===a)return[n];var i=Math.min(n,a),s=Math.max(n,a);return Object.keys(o.msgs).filter(e=>e>=i&&e<=s).filter(t=>{var n=P(e,e.get().peer,t);return!Object(r.s)(n)&&!Object(r.h)(n)}).map(intval)}function O(e,t){var n=Object(c.s)(t),o=Object(_.f)(n,e),a=0;for(var i in o.msgs)if(o.msgs.hasOwnProperty(i)){var s=P(t,e,i);Object(r.r)(s)||(a+=Object(r.u)(o,s)?1:0)}return a}function w(e,t,n){return!!function(e,t,n){var r=Object(_.f)(e,t);return Object.keys(r.msgs).filter(r=>intval(P(e,t,r).randomId)===n).length>0}(e,t,n)}function E(e,t){var n=Object(c.s)(e),r=n.msg_local_ids_sort&&n.msg_local_ids_sort[t];return void 0!==r?2e9+r:t}function j(e,t,n){var r=Object(_.f)(e,t),a=P(e,t,n),i=Object.keys(e.msg_local_ids_sort||{}).length>1?Object.values(r.msgs).sort((t,n)=>{var r=Object(p.a)(t).messageId,o=Object(p.a)(n).messageId;return E(e,r)-E(e,o)}):Object.values(r.msgs);if(!a)return Object(p.a)(i[i.length-1]);for(var s=a.local,c=i.length-1;c>=0;c--){var u=Object(p.a)(i[c]),l=u.local&&u.type!==o.i;if(!(!s&&l))if(s&&!l||E(e,a.messageId)>E(e,u.messageId))return u}}function D(e,t,n){var o=Object(_.f)(e,t),a=P(e,t,n),s=Object(c.s)(e);return Object(r.r)(a)?Object(i.c)(e,s.id).name:a.userId!==a.peerId?!!Object(i.b)(e,a.userId)&&Object(i.c)(e,a.userId).name:o.tab}function P(e,t,n){var r=Object(_.f)(e,t),o=r&&r.msgs&&r.msgs[n];return o?Object(p.a)(o):null}function k(e,t,n){var r=Object(_.f)(e,t),o=r&&r.msgs&&Object.keys(r.msgs).sort((e,t)=>+e-t);if(!o)return null;var a=o&&o.indexOf(""+n),i=a>-1?o[a-1]:null;return r.msgs[i]}function C(e){var t=Object(c.s)(e);return t.gid||t.isClassic}function T(e){return Object(c.s)(e).gid}function x(e){return Object(c.s)(e).gid}function I(e,t){var n=Object(c.s)(t);return n.tabs[e]||n.mapped_index[e]}function A(e,t){var n=Object(_.f)(e,t);n&&(n.msgs=void 0,n.msgid=void 0,n.scrollTop=void 0,n.scrollBottom=void 0,n.contHeight=void 0,n.offset=void 0,n.skipped=void 0)}function M(e){var t=e.get().go_to_end_visible;return!!t&&t[0]}function S(e){var t=e.get().go_to_mentions_visible;return!!t&&t[0]}function L(e){var t=e.get().go_to_end_visible;return t?t[1]:0}function B(e){return!Object(c.s)(e).lockedSending}function R(e,t){return!!Object(l.d)(t)&&!!Object(_.f)(e,t).blocked_community}function N(e){return Object(c.s)(e).voice_message_available}function U(e){var t=Object(c.s)(e);return!(!F(t)&&!t.recentSearch)}function F(e){return Object(c.s)(e).searchText}function W(e,t){var n=Object(c.s)(e);return!!(t&&t!==F(e)||n.recentSearch)}function K(e){return Object(c.s)(e).recentSearch}function H(e){var t=Object(_.b)(e);return t&&t.pinned&&Object(p.a)(t.pinned)}function q(e){var t=e.get().popular_sugg;return t&&t.length>0}function V(e){return 1==Object(c.s)(e).isEditing}function z(e){return Object(c.s)(e).gid}function G(e){return e.draft||(e.draft=Object(s.b)(cur.imDb,e.peerId)),e.draft}function $(e){return(Object(c.s)(e).templates||[]).filter(e=>!e.deleted)}function J(e){return!!e&&Object(_.t)(e)}function Y(e){return Boolean(e.folders&a.j[a.l])}function X(e){return Object(l.c)(e.peerId)&&J(e)}function Q(e){return e&~a.j[a.k]&~a.j[a.l]&~a.j[f.k]}function Z(e){return Object(c.s)(e).active_tab===a.k}function ee(e){return e.peerId>19e8&&e.peerId<2e9}function te(e){return!!Object(c.s)(e).dialog_tab_cts[a.k]}function ne(e){var t=e.type,n=e.updateType;return t===o.e&&(n===o.H||n===o.D)}function re(e,t){var n=Object(_.f)(e,t);return!!n&&Object(_.m)(n)}function oe(e,t){return Object(_.a)(Object(_.f)(e,t),u.c)}},rjmT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));n("HEwt"),n("a1Th"),n("rGqo"),n("rE2o"),n("ioFf"),n("KKXr"),n("VRzm"),n("Btvt"),n("OEbY"),n("pIFo");var r=n("ER42"),o=n("eaP7"),a=n("vT4u");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){this._db=e,this._key=t,this.dData={txt:"",attaches:[],urlBinds:[],cancelled:[]},this.load()}function u(e){switch(e.type){case"mail":case"reply":return e.id<0&&1==e.object.fwd_count;default:return!e.object}}function l(e,t){return new c(e,"draft_"+t)}c.prototype.dump=function(){if(this._key){var e,t={txt:(e=this.dData).txt,attaches:e.attaches.length?e.attaches:void 0,urlBinds:e.urlBinds.length?e.urlBinds:void 0,cancelled:e.cancelled.length?e.cancelled:void 0},n=0===t.txt.length&&!t.attaches&&!t.urlBinds&&!t.cancelled;this._db.updateByKey(this._key,n?void 0:t)}},c.prototype.load=function(){if(this._key){var e=this._db.selectByKey(this._key);e&&(this.dData=function(e){return{txt:e.txt,attaches:e.attaches||[],urlBinds:e.urlBinds||[],cancelled:e.cancelled||[]}}(e))}},c.prototype.clear=function(){this.dData={txt:"",attaches:[],urlBinds:[],cancelled:[]},this.dump()},c.prototype.setText=function(e){this.dData.txt=trim(e),this.dump()},c.prototype.addAttach=function(e,t,n){if(("share"===e&&this.removeAttachByType(e),"mail"!==e&&"reply"!==e||(this.removeAttachByType("mail"),this.removeAttachByType("reply")),"audio_playlist"===e||"artist"===e)&&this.dData.attaches.find(t=>t.type===e))return!1;if(!e||!t&&"poll"!==e)return!1;var r=this.dData.attaches.findIndex(n=>n.type===e&&n.id===t);-1===r?(this.dData.attaches.push({type:e,id:t,object:n}),this.dump()):"video"!==e&&"poll"!==e||(this.dData.attaches[r]={type:e,id:t,object:n},this.dump())},c.prototype.syncWithSelector=function(e){var t=this.getFwdRaw();this.dData.attaches=(t?[t]:[]).concat(e.getMedias().map(e=>{var t=i(e,2),n=t[0],r=t[1];return this.dData.attaches.find(e=>e.type==n&&e.id==r)||{type:n,id:r}})),this.dump()},c.prototype.removeAttachByType=function(e){for(var t=this.dData.attaches.length;t--;)this.dData.attaches[t].type===e&&this.dData.attaches.splice(t,1);this.dump()},c.prototype.removeAllAttaches=function(){this.dData.attaches=[],this.dData.cancelled=[],this.dump()},c.prototype.addBindUrl=function(e,t,n){this.getBoundAttach(e)||(this.dData.urlBinds.push({url:e,type:t,id:n}),this.dump())},c.prototype.getBoundAttach=function(e){var t=this.dData.urlBinds.find(t=>t.url===e);return t&&this.dData.attaches.find(e=>e.type===t.type&&e.id===t.id)||null},c.prototype.getShareUrl=function(){var e=this.dData.attaches.find(e=>"share"===e.type);if(e&&e.object)return e.object.url.replace(/&amp;/g,"&")},c.prototype.hasOnlyReplies=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?e.flags&o.o&&!this.dData.attaches.find(e=>"mail"!==e.type):this.hasAttaches()&&!this.dData.attaches.find(e=>"reply"!==e.type)},c.prototype.getCancelledShares=function(){return this.dData.cancelled.length?this.dData.cancelled:void 0},c.prototype.hasAttaches=function(){return this.dData.attaches.length>0},c.prototype.destroy=function(){this.dData={},this._key=this._db=null},c.prototype.prepareObjects=function(e,t){return this.dData.attaches.find(u)?Object(r.b)(a.e,{act:"draft_medias",gid:e,messageId:t||0,media:t?void 0:this.dData.attaches.map(e=>[e.type,e.id]).join("*")}).then(e=>{var t=i(e,1)[0];this.dData.attaches=t.map(e=>({type:e[0],id:e[1],object:e[2]}))}):Promise.resolve()},c.prototype.getFwdRaw=function(){return this.dData.attaches.find(e=>"mail"===e.type||"reply"===e.type)},c.prototype.getFwdCount=function(){var e=this.getFwdRaw();return e?e.id<0?e.object.fwd_count:e.id.split(";").length:0}},ruCf:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"f",(function(){return _})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return g}));var r=n("tGJf"),o=n("Iwtw"),a="XHR_STATS_TRANSPORT_DATA_web",i="XHR_STATS_TRANSPORT_META_web",s="XHR_STATS_TRANSPORT_DATA_LOCK_web",c=function(){return{jsErrorLogs:[],statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[]}},u=JSON.stringify(c());function l(e){if("locked"!==r.b.getItem(s)){Object(o.a)("writeLocked","lock"),r.b.setItem(s,"locked");try{e()}catch(e){}return Object(o.a)("writeLocked","free"),void r.b.setItem(s,"free")}setTimeout((function(){return l(e)}),100)}var _=function(){return r.a.getItem(a)||u},d=function(e){return r.a.setItem(a,JSON.stringify(e))},p=function(e,t){var n;void 0===t&&(t=_());var r,o=Object.keys(c()).filter((function(t){return t!==e})).join("|"),a=(null===(n=null==t?void 0:t.match(new RegExp('"'+e+'":(\\[.*?\\])(?:,"('+o+')":\\[|}$)')))||void 0===n?void 0:n[1])||"";return(r=a).startsWith("[")&&r.endsWith("]")?a:"[]"};function f(){var e,t=!0;try{var n=_();if(!n)throw new Error("empty data");e=c();var r=JSON.parse(n);Object.keys(e).forEach((function(n){Array.isArray(r[n])&&(t=!1,e[n]=r[n])}))}catch(t){e=c()}return{webStatsData:e,isEmpty:t}}function h(e){e&&Object(o.a)("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),l((function(){return r.a.setItem(a,"")}))}function m(e){void 0===e&&(e=Number(new Date)),r.b.setItem(i,e.toString())}function b(){return parseInt(""+(r.b.getItem(i)||0))}function g(e){return Object.values(e).reduce((function(e,t){return e+=t.length}),0)}},rudk:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return b}));var r=n("jE6c"),o=n("hC3G");function a(e,t){void 0===t&&(t=[]);var n=e.split("_");return[n[0],n[1],t]}var i={};function s(e){if(i[e])return i[e];for(var t=e?e.length:0,n=[],r=[],o="",s=0;s<t;s++){var c=e[s],u=c.charCodeAt(0);u>=48&&u<=57||"_"===c||"-"===c?o+=c:"("!==c&&")"!==c&&":"!==c&&","!==c||(""!==o&&(r.push(o),n.push("id"),o=""),r.push(c),n.push(c))}o.length>0&&(r.push(o),n.push("id"));var l=function e(t,n,r,o){if(void 0===r&&(r=0),void 0===o&&(o=0),o>50)return[[],t.length];for(var i=[],s="";r<t.length;){var c=t[r];if("id"===c)s=n[r];else if(","===c&&s)i.push(a(s)),s="";else if("("===c){var u=e(t,n,r+1,o+1),l=u[0];r=u[1],i.push(a(s,l)),s=""}else if(")"===c)return""!==s&&i.push(a(s)),[i,r];r++}return s&&i.push(a(s)),[i,r]}(n,r)[0];return Object.keys(i).length>300&&(i={}),i[e]=l,l}function c(e,t){var n=[];e.fwd_count?n.push({type:"mail",id:-t,object:{fwd_count:e.fwd_count}}):e.fwd&&n.push({type:"mail",id:-t,object:{fwd_count:s(e.fwd).length}});for(var o=1;e["attach"+o+"_type"];++o)"call"===e["attach"+o+"_type"]?n.push({type:e["attach"+o+"_type"],id:e["attach"+o],initiatorId:Object(r.f)(e["attach"+o+"_call_initiator_id"]),state:e["attach"+o+"_call_state"],duration:Object(r.f)(e["attach"+o+"_call_duration"]),receiverId:Object(r.f)(e["attach"+o+"_call_receiver_id"])}):n.push({type:e["attach"+o+"_type"],id:e["attach"+o],kind:e["attach"+o+"_kind"],productId:e["attach"+o+"_product_id"]});return e.geo&&n.push({type:"geo",id:e.geo}),n}function u(e){return 0==e}function l(e){return e>0&&e<2e9}function _(e){return e>2e9}function d(e){return e<-2e9}function p(e){return e>19e8&&e<2e9}function f(e){return e>-2e9&&e<0}function h(e){return e.map((function(e){var t="audiomsg"===e[2]?"audio_message":e[2];return e[0]+":"+e[1]+":"+t})).join(",")}function m(e){return e>0&&(e|o.c)===o.c}function b(e){return/(^(https?:\/\/)?([a-z0-9_\-.]+\.)?vk.com)?\/onboarding_find_friends/.test(decodeURIComponent(e))}},ryw6:function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return topMsg})),__webpack_require__.d(__webpack_exports__,"c",(function(){return topError})),__webpack_require__.d(__webpack_exports__,"b",(function(){return showMsg})),__webpack_require__.d(__webpack_exports__,"a",(function(){return showGlobalPrg}));var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a1Th"),core_js_modules_es6_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Btvt"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("pIFo"),_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("zxIV"),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("W9Tc"),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("HLtZ"),_utils_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("t7n3");function topMsg(e,t,n){if(n||(n="#D6E5F7"),e){clearTimeout(window.topMsgTimer);var r=Object(_dom__WEBPACK_IMPORTED_MODULE_3__.J)("system_msg");r.style.backgroundColor=n,r.innerHTML=e,Object(_dom__WEBPACK_IMPORTED_MODULE_3__.xb)(r),t&&(window.topMsgTimer=setTimeout(topMsg.pbind(!1),1e3*t))}else Object(_dom__WEBPACK_IMPORTED_MODULE_3__.bb)("system_msg")}function topError(text,opts){var prefix="VK error: ";if(opts||(opts={}),text.message){var error=text;text="<b>JavaScript error</b>"+(Object(_shared_user_user_env__WEBPACK_IMPORTED_MODULE_4__.b)("extended_client_logging")?": "+error.message:""),opts.stack=error.stack,error.stack&&__debugMode&&(text+="<br/>"+error.stack.replace(/\n/g,"<br/>"));try{console.error(prefix,error.message),console.log(error.stack)}catch(e){}}else try{console.error(prefix,text)}catch(e){}if(!opts.stack)try{eval("0 = 1")}catch(e){opts.stack=e.stack}if(-1!=opts.dt&&topMsg(text,opts.dt,"#FFB4A3"),1!==opts.type&&!__dev&&!Object(_dom__WEBPACK_IMPORTED_MODULE_3__.J)("debuglogwrap")){delete opts.dt;var breadcrumb={message:text,data:{msg:opts.msg||text,module:(window.cur||{}).module,id:vk.id,host:locHost,lang:vk.lang,loc:(window.nav||{}).strLoc,realloc:location.toString()}};Object(_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_5__.c)(opts,{environment:"genericVkError",breadcrumb})}}function showMsg(e,t,n,r){var o="msg"+("msg"!==n?" "+n:"");r&&(o+=" msg_appear"),e=Object(_dom__WEBPACK_IMPORTED_MODULE_3__.J)(e);var a=Object(_dom__WEBPACK_IMPORTED_MODULE_3__.L)(n,e),i=a||Object(_dom__WEBPACK_IMPORTED_MODULE_3__.x)(e),s=e.insertBefore(Object(_dom__WEBPACK_IMPORTED_MODULE_3__.g)("div",{className:o,innerHTML:'<div class="msg_text">'+t+"</div>"}),i);a&&Object(_dom__WEBPACK_IMPORTED_MODULE_3__.kb)(a),setTimeout(_dom__WEBPACK_IMPORTED_MODULE_3__.mb.pbind(s,"msg_appear"),0)}function showGlobalPrg(e,t){var n=Object(_dom__WEBPACK_IMPORTED_MODULE_3__.V)(e),r=Object(_dom__WEBPACK_IMPORTED_MODULE_3__.S)(e),o=t||{},a=o.w,i=void 0===a?32:a,s=o.h,c=void 0===s?13:s,u=Object(_dom__WEBPACK_IMPORTED_MODULE_3__.J)("global_prg");u.className=o.cls||"progress",Object(_dom__WEBPACK_IMPORTED_MODULE_3__.vb)(u,{left:n[0]+Math.floor((r[0]-i)/2)+Object(_utils_common__WEBPACK_IMPORTED_MODULE_6__.r)(o.shift?o.shift[0]:0),top:n[1]+Math.floor((r[1]-c)/2)+Object(_utils_common__WEBPACK_IMPORTED_MODULE_6__.r)(o.shift?o.shift[1]:0),width:i,height:c,display:"block","z-index":o.zIndex?o.zIndex:null}),o.hide&&(e.style.visibility="hidden")}},s0Wt:function(e,t,n){"use strict";n.r(t);var r,o=n("q1tI"),a=n("i8i4"),i=n("xt6h"),s=n("OhIt"),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(e){var t=e.position,n=e.align,r=e.text,o=e.rect,a=e.marginTop,i=e.marginLeft,s=e.maxWidth,c=e.appearance,u=e.className,l=o.left,_=o.top;switch(t){case"t":l+=.5*o.width;break;case"r":l+=o.width,_+=.5*o.height;break;case"b":l+=.5*o.width,_+=o.height;break;case"l":_+=.5*o.height}return{tooltip:{position:t,align:n,text:r,x:l=Math.round(l+(i||0)),y:_=Math.round(_+(a||0)),maxWidth:s,appearance:c,className:u}}},_=function(e){function t(t){var n=e.call(this,t)||this;return n.tooltipRef=o.createRef(),n.onMouseEnter=function(){n.state.tooltip?(clearTimeout(n.closeDelayTimeout),n.state.tooltip.removed&&n.setState(u(u({},n.state),{tooltip:u(u({},n.state.tooltip),{removed:!1})}))):n.props.delay?n.openDelayTimeout=window.setTimeout((function(){n.openDelayTimeout=0,n.drawTooltip()}),n.props.delay):n.drawTooltip()},n.onMouseLeave=function(){if(n.state.tooltip)n.props.delayHide?n.closeDelayTimeout=window.setTimeout((function(){n.update()}),n.props.delayHide):n.update();else if(n.openDelayTimeout)return clearTimeout(n.openDelayTimeout),void(n.openDelayTimeout=0)},n.onTransitionEnd=function(e){"visibility"===e.propertyName&&n.state.tooltip&&n.setState({tooltip:void 0})},n.state={el:null},n}return c(t,e),t.prototype.componentDidMount=function(){var e=a.findDOMNode(this);this.setState({el:e}),null==e||e.addEventListener("mouseenter",this.onMouseEnter),null==e||e.addEventListener("mouseleave",this.onMouseLeave)},t.prototype.componentDidUpdate=function(e,t){var n,r;!t.tooltip&&this.state.tooltip&&this.props.allowMouseOverTooltipContent&&(null===(n=this.tooltipRef.current)||void 0===n||n.addEventListener("mouseenter",this.onMouseEnter),null===(r=this.tooltipRef.current)||void 0===r||r.addEventListener("mouseleave",this.onMouseLeave))},t.prototype.componentWillUnmount=function(){var e,t,n,r;null===(e=this.state.el)||void 0===e||e.removeEventListener("mouseenter",this.onMouseEnter),null===(t=this.state.el)||void 0===t||t.removeEventListener("mouseleave",this.onMouseLeave),null===(n=this.tooltipRef.current)||void 0===n||n.removeEventListener("mouseenter",this.onMouseEnter),null===(r=this.tooltipRef.current)||void 0===r||r.removeEventListener("mouseleave",this.onMouseLeave),clearTimeout(this.closeDelayTimeout),clearTimeout(this.openDelayTimeout)},t.getDerivedStateFromProps=function(e,t){return t.tooltip&&(e.text!==t.tooltip.text||e.position!==t.tooltip.position||e.align!==t.tooltip.align||e.maxWidth!==t.tooltip.maxWidth||e.appearance!==t.tooltip.appearance)?l(u(u({},e),{rect:Object(i.f)(t.el instanceof HTMLElement?t.el:null)})):null},t.prototype.drawTooltip=function(){if(this.state.el&&!this.state.tooltip){var e=this.props,t=e.text,n=e.position,r=e.align,o=e.marginTop,a=e.marginLeft,s=e.maxWidth,c=e.appearance,u=e.className,l=Object(i.f)(this.state.el instanceof HTMLElement?this.state.el:null);this.update({text:t,position:n,align:r,rect:l,marginTop:o,marginLeft:a,maxWidth:s,appearance:c,className:u})}},t.prototype.update=function(e){e?this.setState(l(e)):this.setState({tooltip:Object.assign({},this.state.tooltip,{removed:!0})})},t.prototype.render=function(){var e=this.state.tooltip?u(u({},this.state.tooltip),{className:Object(i.a)(this.state.tooltip.className,{"Tooltip--noPointerEvents":!this.props.allowMouseOverTooltipContent})}):null;return e&&"undefined"!=typeof window?o.createElement(o.Fragment,null,this.props.children,o.createElement(s.a,u({tooltipInRef:this.tooltipRef},e,{onTransitionEnd:this.onTransitionEnd}))):this.props.children},t.defaultProps={position:"b",align:"center",marginTop:0,marginLeft:0,appearance:"dark",delay:0,delayHide:0,allowMouseOverTooltipContent:!1},t}(o.Component);t.default=_},s1Gz:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));n("91GP"),n("ioFf"),n("rGqo"),n("Btvt");var r=n("q1tI"),o=(n("17x9"),n("xt6h"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class s extends r.Component{constructor(e){super(e),this.getRef=e=>{this.element=e},this.resize=()=>{var e=this.element;if(e){var t=e.offsetHeight,n=e.scrollHeight,r=0;n+r<=t&&(r=0),e.value&&this.setState({height:n-r}),this.setState({height:0},()=>{var t=e.scrollHeight-r;this.setState({height:t}),this.props.onResize(e)})}},this.onChange=e=>{this.props.grow&&this.resize(),this.isControlledOutside||this.setState({value:e.target.value}),this.props.onChange&&this.props.onChange(e)},this.state={value:void 0===e.value?e.initialValue||"":void 0},void 0!==e.value&&(this.isControlledOutside=!0)}componentDidMount(){this.props.grow&&this.resize()}render(){var e=this.props,t=e.className,n=(e.initialValue,e.grow,e.style),s=(e.onResize,e.value),c=i(e,["className","initialValue","grow","style","onResize","value"]),u=this.isControlledOutside?s:this.state.value,l=this.state.height||n.height||66;return r.createElement("textarea",a({},c,{value:u,onChange:this.onChange,onInput:this.onChange,onPaste:this.onChange,ref:this.getRef,style:a({},n,{height:l}),className:Object(o.a)("Textarea",t)}))}}s.defaultProps={initialValue:"",grow:!0,onResize:()=>{},style:{}}},sMXx:function(e,t,n){"use strict";var r=n("Ugos");n("XKFU")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},shih:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return v}));var r=n("07n8"),o=n("Iqrf"),a=n("4edV"),i=n("Wfj7"),s=n("pdqG"),c=n("XzvV"),u=n("8/qD"),l=n("DM26"),_=n("RdBX"),d=n("ftTi"),p=n("kxld"),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},h=Object(r.b)((function(e,t,n,r){return Object(o.c)(e.writeHash,e.gid,t,n,r).then((function(e){return e[0]}))}));function m(e,t,n,r,u){return void 0===n&&(n=o.a.ALL),Object(o.e)(e,r.hidegid?0:u.gid,n,t).then((function(e){var t=e[0],n=e[1],o=e[2];return r.skipStoreUpdate||(n.forEach((function(e){return Object(i.a)(u,e)})),Object(a.i)(o,u).then((function(){}),(function(){})),Object(s.a)(t,u).then((function(){}),(function(){}))),t})).then((function(t){if(e){var n=t&&Object.keys(t).length;Object(c.t)(c.M,0,n,e)}return Object.keys(t).sort((function(e,n){return t[+e].order-t[+n].order})).map((function(e){return t[+e]}))}))}var b=Object(r.b)((function(e,t){var n;return Object(o.j)(t,(null===(n=e.tabs[t])||void 0===n?void 0:n.hash)||"")})),g=Object(r.b)((function(e,t){var n;return Object(o.l)(t,(null===(n=e.tabs[t])||void 0===n?void 0:n.hash)||"")})),v=Object(r.b)((function(e,t){var n=Object(p.e)(e,t);if(!n||!Object(p.j)(n))return Promise.resolve(e);if(n.isDonutChat){function r(e){return e.map((function(e){return{name:e.first_name+" "+e.last_name,id:e.id,photo:e.photo_100,peerId:e.id}}))}var o=n.ownerId,a=Object(d.o)(e);return n.customChatMemberServerSearch=Object(l.b)((function(e){var t={q:e,from_list:"donut",group_id:-o,fields:"photo_100"};return a&&(t=f(f({},t),{from_list:"donut_friends"})),Object(u.c)(t).then((function(e){var t=e.items;return Array.isArray(t)?r(t):[]}))}),400),(a?Object(u.b)({group_id:String(-o),filter:"donut",fields:"photo_100"}):Object(u.a)({owner_id:o,fields:"photo_100"})).then((function(t){var o=r(t.items),a=new _.a(o,(function(e){return e.name}));return n.customChatMemberSearch=function(e){return Promise.resolve(e?a.search(e):a.list)},e}))}return Promise.resolve(e)}))},smNX:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HLtZ");function o(e){try{return JSON.parse(e)}catch(n){var t={environment:"parseJsonError",breadcrumb:{message:"Uncaught json parse error",data:{json:e},category:"custom"}};return Object(r.c)(n,t),{}}}},sp2a:function(e,t,n){"use strict";n.d(t,"i",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"h",(function(){return _})),n.d(t,"a",(function(){return d})),n.d(t,"s",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"p",(function(){return y})),n.d(t,"o",(function(){return O})),n.d(t,"n",(function(){return w})),n.d(t,"q",(function(){return E})),n.d(t,"l",(function(){return j})),n.d(t,"r",(function(){return D})),n.d(t,"g",(function(){return P})),n.d(t,"m",(function(){return k})),n.d(t,"C",(function(){return T})),n.d(t,"z",(function(){return x})),n.d(t,"u",(function(){return I})),n.d(t,"t",(function(){return A})),n.d(t,"x",(function(){return M})),n.d(t,"y",(function(){return S})),n.d(t,"A",(function(){return L})),n.d(t,"E",(function(){return B})),n.d(t,"v",(function(){return R})),n.d(t,"B",(function(){return N})),n.d(t,"D",(function(){return U})),n.d(t,"w",(function(){return F})),n.d(t,"F",(function(){return K})),n.d(t,"G",(function(){return H}));var r,o,a=n("rudk"),i=n("aong"),s=n("kxld"),c=n("ftTi"),u=1,l=4,_=8,d=16,p=64,f=1024,h=16384,m=32768,b=1<<17,g=1<<18,v=1<<19,y=1<<20,O=1<<21,w=1<<22,E=1<<23,j=1<<24,D=1<<25,P=1<<26,k=1<<27;!function(e){e.SEE_INVITE_LINK="see_invite_link",e.CHANGE_INVITE_LINK="change_invite_link",e.INVITE_USER="invite_user",e.PIN_OR_UNPIN="pin_unpin",e.CHANGE_TITLE="change_title",e.ADD_ADMIN="add_admin",e.MASS_MENTION="mass_mention",e.START_GROUP_CALL="call"}(o||(o={}));var C=((r={})[o.CHANGE_INVITE_LINK]=[32,32],r[o.ADD_ADMIN]=[d,d],r[o.SEE_INVITE_LINK]=[j,D],r[o.INVITE_USER]=[u,O],r[o.PIN_OR_UNPIN]=[l,E],r[o.CHANGE_TITLE]=[_,w],r[o.MASS_MENTION]=[v,y],r[o.START_GROUP_CALL]=[P,k],r);function T(e,t,n){return W(e,o.SEE_INVITE_LINK,t,n)}function x(e,t,n){return W(e,o.MASS_MENTION,t,n)}function I(e,t,n){return W(e,o.CHANGE_INVITE_LINK,t,n)}function A(e,t,n,r){var a=Object(i.s)(e),c=n||a.peer,u=Object(s.e)(a,c);return!(!u||!Object(s.j)(u))&&(!H(u,t)&&W(e,o.ADD_ADMIN,c,r))}function M(e,t,n){return W(e,o.INVITE_USER,t,n)}function S(e,t,n,r){if(function(e,t){var n=Object(i.s)(e);return void 0!==n.service&&(n.service&t)>0}(e,1))return!0;var o=Object(i.s)(e),a=n||o.peer,c=void 0===r?o.viewer_id:r,u=Object(s.e)(o,a);return!(!u||!Object(s.k)(u))&&(!(u.data.kicked&&!u.data.closed)&&(!Object(s.h)(u)&&(!H(u,t)&&(!!H(u,c)||(K(u,c)||function(e,t){return e.invitedByMe.includes(t)}(u,t))&&!K(u,t)))))}function L(e,t,n){return W(e,o.PIN_OR_UNPIN,t,n)}function B(e,t,n){return W(e,o.START_GROUP_CALL,t,n)}function R(e,t,n){return W(e,o.CHANGE_TITLE,t,n)}function N(e,t,n){var r=Object(i.s)(e),o=n||r.viewer_id,u=t||Object(c.i)(e);if(!Object(a.d)(o))return!0;var l=Object(s.e)(e,u);return!(!l||!Object(s.k)(l))&&!!l.caccess[o]}function U(e,t,n){var r=Object(i.s)(e),o=n||r.viewer_id,a=t||Object(c.i)(e),u=Object(s.e)(e,a);if(!u||!Object(s.k)(u))return!1;var l=Object(s.h)(u);if(!Object(s.m)(u))return H(u,o)&&!l;var _=Object(s.i)(u),d=H(u,-r.gid)&&_||K(u,o)&&_,p=(u.allowedUpdateFlags||[]).filter((function(e){return e!==h}));return d&&p.length>0}function F(e,t,n){var r=Object(i.s)(e),o=n||r.viewer_id,a=t||Object(c.i)(e),u=Object(s.e)(e,a);if(!u||!Object(s.k)(u))return!1;var l=Object(s.m)(u),_=Object(s.n)(u),d=Object(s.i)(u),p=H(u,-r.gid)&&d||K(u,o)&&d;return l&&!_&&p&&(u.allowedUpdateFlags||[]).includes(h)}function W(e,t,n,r){var a,u,l=Object(i.s)(e),_=Object(c.o)(e)?l.id:l.viewer_id,d=void 0===r?_:r,p=void 0===n?l.peer:n,f=Object(s.e)(l,p);if(!f||!Object(s.j)(f))return!1;var h=Object(s.i)(f),m=C[t],b=m[0],g=m[1],v=g|b,y=Object(s.h)(f),O=H(f,d)&&h,w=O||K(f,d)&&h;if(y)switch(t){case o.ADD_ADMIN:case o.INVITE_USER:return!1;case o.SEE_INVITE_LINK:return h;default:return Object(c.o)(l)}if(Object(s.m)(f)){if(Object(s.l)(f))return!1;switch(t){case o.SEE_INVITE_LINK:return Object(s.r)(f)?h:Object(s.a)(f,v)?Object(s.a)(f,g)?h:w:O;case o.CHANGE_INVITE_LINK:return O||w;case o.ADD_ADMIN:return Object(s.a)(f,v)?w:O;case o.MASS_MENTION:case o.START_GROUP_CALL:return Object(s.r)(f)?h:!O&&(Object(s.a)(f,v)?w:h);case o.INVITE_USER:return Object(s.r)(f)?h:!(O&&!f.isDonutChat)&&("chats"!==(null===(u=null===(a=window.nav)||void 0===a?void 0:a.objLoc)||void 0===u?void 0:u.act)&&(Object(s.a)(f,v)?w:h));case o.PIN_OR_UNPIN:case o.CHANGE_TITLE:return Object(s.r)(f)?h:w;default:return!1}}switch(t){case o.CHANGE_INVITE_LINK:return Object(s.a)(f,b)?w:O;case o.ADD_ADMIN:return Object(s.a)(f,v)?w:O;case o.SEE_INVITE_LINK:return Object(s.a)(f,v)?Object(s.a)(f,g)?h:w:O;case o.INVITE_USER:case o.PIN_OR_UNPIN:case o.MASS_MENTION:case o.START_GROUP_CALL:case o.CHANGE_TITLE:return Object(s.a)(f,v)?Object(s.a)(f,b)?w:O:h}return!1}function K(e,t){return(e.adminIds||[]).includes(t)}function H(e,t){return e.ownerId===t}},svpG:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n("qYuU"),o=n("uQjJ"),a=n("HLtZ"),i=Object(r.a)("ajax-extra-handlers",(function(){return new o.a}),{}),s=function(e,t){return i().removeAllListeners(e),function(e,t){i().addListener(e,t);return function(){i().removeListener(e,t)}}(e,t)},c=function(e){"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){try{r=t,o=e[t],i().emit(r,o)}catch(e){var n={message:"Extra response error",data:{extraKey:t}};Object(a.c)(e,{environment:"ajax_request",breadcrumb:n}),console.error(e)}var r,o}))}},"t/FQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return D})),n.d(t,"p",(function(){return P})),n.d(t,"m",(function(){return k})),n.d(t,"n",(function(){return C})),n.d(t,"l",(function(){return T})),n.d(t,"o",(function(){return x})),n.d(t,"k",(function(){return I})),n.d(t,"g",(function(){return A}));n("HEwt"),n("a1Th"),n("Btvt"),n("rGqo"),n("rE2o"),n("ioFf"),n("pIFo");var r=n("FWc3"),o=n("v+DW"),a=n("zxIV"),i=n("7jxN"),s=n("Egk5"),c=n("t7n3"),u=n("EasH"),l=n("gdug"),_=n("4+be"),d=n("W9Tc");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={maxHeight:300,tabs:{},counters:{},showFriends:function(){curFastChat.clistBox.visible?curFastChat.clistBox.options.fixed?FastChat.clistHide():curFastChat.clistBox.show():(FastChat.clistShow(),h.cont.tt&&h.cont.tt.destroy&&h.cont.tt.destroy())},showTT:function(){if(!document.querySelector(".WideScreenAppPage")&&!Object(a.ab)(h.wrap,"chat_active")&&!Object(a.ab)(h.wrap,"chat_expand")){var e=l.a.mac?"Cmd":"Ctrl";Object(r.c)(h.cont,{text:`${Object(_.d)("head_fr_online_tip")} (${e}+?)`,shift:[-2,4,0],showdt:0,black:1})}},init:function(){h.wrap=Object(a.g)("div",{id:"chat_onl_wrap",className:"chat_onl_wrap",innerHTML:'\n<div class="chat_tt_wrap"></div>\n<div class="chat_onl_inner">\n  <div class="chat_cont_scrolling"><div class="chat_onl_height"></div></div>\n  <div class="chat_cont_sh_top"></div>\n  <div class="chat_cont_sh_bottom"></div>\n  <a class="chat_tab_wrap" id="chat_tab_wrap" onclick="Chat.showFriends()" onmouseover="Chat.showTT();">\n    <div class="chat_onl_cont">\n      <div class="chat_onl" id="chat_onl"></div>\n    </div>\n  </a>\n</div>'}),utilsNode.appendChild(h.wrap),h.scrollNode=Object(a.L)("chat_cont_scrolling",h.wrap),h.ttNode=Object(a.L)("chat_tt_wrap",h.wrap),h.itemsCont=h.scrollNode.firstChild,h.onl=Object(a.J)("chat_onl"),h.cont=h.onl.parentNode.parentNode,Object(a.bb)(h.wrap),h.inited=!0,stManager._addCss(".layers_shown .chat_onl_wrap {margin-right: "+Object(o.t)()+"px;}")}};function m(e,t,n,r){var o=Object(c.r)(l.a.version);if(e&&(l.a.chrome&&o>14||l.a.mozilla&&o>13||l.a.opera&&o>2)){var u="all "+n.duration+"ms "+(n.func||"ease-out");e.style.WebkitTransition=u,e.style.MozTransition=u,e.style.OTransition=u,e.style.transition=u;var _=function t(){return l.a.opera&&Object(c.r)(l.a.version)<=12?e.removeEventListener("oTransitionEnd",t):Object(s.i)(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",t),e.style.WebkitTransition="",e.style.MozTransition="",e.style.OTransition="",e.style.transition="",r&&r(),!1};r&&(l.a.opera&&Object(c.r)(l.a.version)<=12?e.addEventListener("oTransitionEnd",_):Object(s.b)(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",_)),setTimeout(a.vb.pbind(e,t),0)}else Object(i.b)(e,t,Object(c.i)(n,{onComplete:r}))}function b(e,t){var n=[],r=0,o=null,i=Object(c.i)({top_load:0,bottom_load:2,load_limit:10,need_load_class:"__need_load",skip_process_load:!1,use_iframe:!1},t),s={};function u(e,t){n[e]&&(--r,delete n[e]),t||s.processLoad()}function l(t){var n=0,r=t;if(r&&r.offsetParent)do{if(n+=r.offsetTop,e&&r.offsetParent===e)break}while(r=r.offsetParent);return n}return s.processLoad=function(){if(Object(c.f)(n,(e,t)=>{var r=p(t,2),o=r[0],a=r[1];(a.width||a.height||Object(c.M)()-o>2e4)&&n[e]&&u.call(a,e,!0)}),clearTimeout(o),r&&(o=setTimeout(s.processLoad,500)),!(r>=i.load_limit)){var t,_,d=Object(a.K)(i.need_load_class,e||bodyNode),f=[];if(e&&d.length){var h=e.offsetHeight;t=e.scrollTop-h*i.top_load,_=e.scrollTop+h*i.bottom_load}for(var m=0,b=d.length;m<b&&r<i.load_limit;m++){var g=d[m];if("IMG"===g.tagName){var v=g.getAttribute("data-src");if(v){if(e){var y=l(g),O=y+g.parentNode.offsetHeight;if(y>_)continue;if(O<t)continue}f.push([g,v])}}}Object(c.f)(f,(e,t)=>{var o=p(t,2),l=o[0],_=o[1];s.iloader&&s.iloader.add(_,u,l),l.src=_,l.removeAttribute("data-src"),Object(a.mb)(l,i.need_load_class),n[_]||(r++,n[_]=[Object(c.M)(),l])}),clearTimeout(o),r&&(o=setTimeout(s.processLoad,500))}},s.destroy=function(){n=[],r=0,clearTimeout(o)},i.use_iframe&&(s.iloader=new g),i.skip_process_load||s.processLoad(),s}function g(){var e,t,n,r,o,i;function s(e){return t&&t.body?'<img id="___img'+e+'" />':'<img class="___img'+e+'" />'}function u(e){return t&&t.body?t.getElementById("___img"+e):Object(a.L)("___img"+e,n)}function _(){e=utilsNode.appendChild(Object(a.g)("iframe")),t=function(e){if(l.a.mozilla)return!1;try{return e.contentDocument?e.contentDocument:e.contentWindow&&e.contentWindow.document?e.contentWindow.document:e.document}catch(e){}return!1}(e),n=t&&t.body?t.body:utilsNode.appendChild(Object(a.g)("div",{},{display:"none"})),r=0,o=[]}function d(e,t,i){var c=r++;o[c]={src:e,onLoad:t,that:i},n.appendChild(Object(a.g)("div",{innerHTML:s(c)}));var l=u(c);return l.src=e,l.onload=function(){var e=o[c];e&&(e.onLoad&&e.onLoad.call(e.that||window,e.src),delete o[c],n.removeChild(u(c).parentNode))},l}return _(),{add:d,abort:function(){Object(a.kb)(e),i=[...o.filter(e=>void 0!==e)],_()},repeat:function(e){if(!i)return[];var t=[];if(Object(c.f)(i,(e,n)=>{d(n.src,n.onLoad,n.that),t.push(n.that)}),i=null,e){var n=[];Object(c.f)(t,(function(){n.push([this,this.src]),this.src="",Object(a.bb)(this)})),setTimeout((function(){Object(c.f)(n,(e,t)=>{var n=p(t,2),r=n[0],o=n[1];r.src=o,Object(a.xb)(r)})}),10)}return t}}}function v(e,t){var n={act:"hide_block",block:e,hash:t};ajax.post("al_index.php",n),Object(a.bb)("news_announce_"+e)}function y(e,t,n){Object(a.vb)("left_hide"+e,{visibility:"hidden"}),Object(d.b)("ads_new_reports_web_tgb")?function(e,t,n){var r="",i=Object(u.b)("reports.php",{act:"hide_ad_box",ad_data:n},{onDone:function(){var e=Object(a.K)("radiobtn","ad_hide");window.radioBtns.ad_hide={val:0,els:e};var t=Object(a.J)("ad_csrf");r=t?t.value:r},params:{width:370,onClean:()=>{delete window.radioBtns.ad_hide}},stat:["reports.css"]});i.removeButtons(),i.addButton(Object(_.d)("box_send"),a=>{Object(o.o)(a),ajax.post("reports.php",{act:"hide_ad",reason_id:window.radioBtns.ad_hide.val,ad_data:n,hash:r}),O(e,t,()=>{Object(o.w)(a),i.hide()})}),i.addButton(Object(_.d)("global_cancel"),!1,"no")}(e,t,n):O(e,t)}function O(e,t,n){function r(){Object(i.b)("ads_ad_close_info_"+e,{opacity:1},200,o)}function o(){Object(a.vb)("ads_ad_box2_"+e,{visibility:"hidden"})}ajax.post(t,{},{noAds:!0,onDone:function(t){if(!t.done)return;"function"==typeof n&&n();if("ya_direct"===e)return Object(i.b)(e,{opacity:0},200,(function(){Object(a.kb)("ya_direct"),setTimeout((function(){AdsLight.updateBlock("force_hard",2)}),5e3)})),void(window.vk__adsLight.yaDirectAdActive=!1);var o=Object(a.J)("ads_ad_close_info_"+e);if(!o)return!1;Object(a.vb)(o,{opacity:0}),o.style.setProperty("display","block","important"),setTimeout(r,0)}})}function w(e,t,n,r,o){r&&stManager.add(["tooltips.css",jsc("web/tooltips.js")]),cur.mfid=e,ajax.post("al_friends.php",{act:r?"add":"remove",mid:e,mf_type:t,hash:n,from:"leftblock"},{onDone:function(t,n,r){if(!t)return nav.reload();var o=Object(a.J)("left_friend_status_"+e);Object(a.i)(o.firstChild),t?(Object(a.xb)(o),Object(a.Cb)(o,t)):Object(a.bb)(o),n&&(ajax.preload("al_friends.php",{act:"friend_tt",mid:e},[n,r]),setTimeout(E,0))},showProgress:function(){var t=(Object(a.J)("left_friend_subscribed")||{}).tt;t&&(t.hide({fasthide:1}),t.destroy()),Object(a.J)("left_friend_status_"+e).innerHTML='<img src="/images/upload'+(window.devicePixelRatio>=2?"_2x":"")+'.gif" width="32" />'},hideProgress:()=>Object(a.bb)("left_friend_status_"+e),onFail:function(e){if(e)return Object(u.d)({title:Object(_.d)("global_error")},e),!0}}),Object(s.c)(o)}function E(){return Object(r.c)(Object(a.J)("left_friend_subscribed"),{url:"al_friends.php",params:{act:"friend_tt",mid:cur.mfid,from:"leftblock"},slide:15,hidedt:500,shift:[40,-1,3],className:"preq_tt",forcetodown:!0})}function j(){var e=[];Object(c.f)(l.a,(function(t,n){n&&!Object(c.o)(t,["version","mac","search_bot"])&&"flash"!==t.substr(0,5)&&e.push(t)})),e=e.join(" "),bodyNode.setAttribute("data-useragent",e)}function D(){clearTimeout(window.__qlTimer),setTimeout(()=>clearTimeout(window.__qlTimer),2e3)}function P(e){if(l.b.cmaEnabled&&window.ResizeObserver&&Object(a.Cb)("quick_email")&&void 0!==window.PasswordCredential){var t=new PasswordCredential({id:Object(a.J)("quick_email").value,password:Object(a.J)("quick_pass").value,name:e.name,iconURL:e.photo_50});navigator.credentials.store(t)}}function k(e,t){D(),P(t),nav.reload({force:!0,from:6})}function C(e,t){switch(D(),e){case-1:location.href=location.href.replace(/^http:/,"https:");break;case 4:var n="/login?m=1"+(t.expire?"&s=0":"");Object(c.f)(["email","ul","pch","to"],(function(e,r){t[r]&&(n+="&"+r+"="+t[r])})),location.href=n;break;default:location.href="/login"}}function T(e,t){D(),Object(o.w)(window.__qfBtn),window.qloginBox=Object(u.c)(e,t,window.qloginBox,{onSubmit:function(e,t){Object(a.J)("quick_captcha_sid").value=e,Object(a.J)("quick_captcha_key").value=t,Object(a.J)("quick_login_form").submit()},onHide:()=>window.qloginBox=!1})}function x(e,t){D(),Object(o.w)(window.__qfBtn),window.qloginBox=Object(u.e)(e,t,window.qloginBox,{onSubmit:function(e){Object(a.J)("quick_recaptcha").value=e,Object(a.J)("quick_login_form").submit()},onHide:()=>window.qloginBox=!1})}function I(e,t){Object(a.vb)(e,{backgroundColor:"#F5F7FA"}),Object(i.b)(e,{backgroundColor:"#FFF"},t||6e3,(function(e){Object(a.vb)(e,{backgroundColor:null})}))}function A(){window._postsSeen={},window._postsSaved={},window._postsSaveTimer=void 0,window._postsSendTimer=void 0,window._postsCleanTimer=void 0,window._postsSeenModules={},window._postsExtras={}}},t7n3:function(e,t,n){"use strict";n.d(t,"L",(function(){return c})),n.d(t,"C",(function(){return u})),n.d(t,"K",(function(){return l})),n.d(t,"I",(function(){return _})),n.d(t,"H",(function(){return d})),n.d(t,"r",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"D",(function(){return h})),n.d(t,"x",(function(){return m})),n.d(t,"w",(function(){return b})),n.d(t,"N",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"J",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"o",(function(){return w})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return j})),n.d(t,"i",(function(){return D})),n.d(t,"a",(function(){return P})),n.d(t,"n",(function(){return k})),n.d(t,"G",(function(){return C})),n.d(t,"j",(function(){return T})),n.d(t,"z",(function(){return x})),n.d(t,"m",(function(){return I})),n.d(t,"l",(function(){return A})),n.d(t,"g",(function(){return N})),n.d(t,"e",(function(){return U})),n.d(t,"q",(function(){return F}));n("HEwt"),n("rGqo"),n("rE2o"),n("ioFf"),n("a1Th"),n("Btvt"),n("SRfc"),n("pIFo");var r=n("zxIV"),o=n("4+be"),a=n("gdug"),i=n("jE6c");function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t=PageID;return function(){t===PageID&&e.apply(this,arguments)}}function u(e,t){return setTimeout(c(e),t)}n.d(t,"E",(function(){return i.p})),n.d(t,"F",(function(){return i.q})),n.d(t,"t",(function(){return i.h})),n.d(t,"u",(function(){return i.i})),n.d(t,"v",(function(){return i.j})),n.d(t,"y",(function(){return i.l})),n.d(t,"A",(function(){return i.m})),n.d(t,"B",(function(){return i.n})),n.d(t,"s",(function(){return i.g})),n.d(t,"h",(function(){return i.d})),n.d(t,"f",(function(){return i.b})),n.d(t,"M",(function(){return i.s}));var l=()=>window.Image?new Image:Object(r.g)("img"),_=e=>(e||"").replace(/^\s+|\s+$/g,""),d=e=>e?e.replace(/<(?:.|\n|\r|\u2028|\u2029)*?>/g,""):"";function p(e){return!0===e?1:parseInt(e)||0}function f(e){return!0===e?1:parseFloat(e)||0}function h(e){return(e=p(e))<0?0:e}function m(e){return!isNaN(e)}function b(e){return"number"==typeof e&&(e===Number(e)&&(e!==1/0&&e!==-1/0))}function g(e){return e.replace(/&#(\d\d+);/g,(function(e,t){return(t=p(t))>=32?String.fromCharCode(t):e})).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}function v(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function y(e){return Object(i.q)(e.replace(/\t/g,"\n"))}function O(e,t,n){for(var r=n||0,o=(e||[]).length;r<o;r++)if(e[r]==t)return r;return-1}function w(e,t){return-1!==O(t,e)}function E(e,t){var n=Object(i.l)(e)||void 0===e.length?{}:[];for(var r in e)(!/webkit/i.test(_ua)||"layerX"!=r&&"layerY"!=r&&"webkitMovementX"!=r&&"webkitMovementY"!=r)&&(t&&"object"==typeof e[r]&&"prototype"!==r&&null!==e[r]?n[r]=E(e[r]):n[r]=e[r]);return n}function j(e){var t={},n=arguments.length,r=arguments;for(var o in e)if(e.hasOwnProperty(o)){for(var a=!1,i=1;i<n;i++)r[i][o]&&r[i][o]===e[o]&&(a=!0);a||(t[o]=e[o])}return t}function D(){var e=arguments,t=e.length,n=e[0]||{},r=1,o=!1;for("boolean"==typeof n&&(o=n,n=e[1]||{},r=2),"object"==typeof n||Object(i.j)(n)||(n={});r<t;r++){var a=e[r];if(null!=a)for(var s in a)if(a.hasOwnProperty(s)){var c=n[s],u=a[s];n!==u&&(o&&u&&"object"==typeof u&&!u.nodeType?n[s]=D(o,c||(null!=u.length?[]:{}),u):void 0!==u&&(n[s]=u))}}return n}function P(e){window.templates=window.templates||{},D(window.templates,e)}function k(e,t){var n=(window.templates=window.templates||{})[e];return"function"==typeof n&&(n=n()),n&&t?Object(r.qb)(n,t):n||""}function C(e){if("object"!=typeof e)return!1;var t={},n=t=>Object(r.N)(t,e),o=function(n,o){if(o.name)if("text"!==o.type&&o.type)if(o.getAttribute("bool")){var i=Object(r.Cb)(o);if(!i||"0"===i)return;t[o.name]=1}else t[o.name]=a.a.msie&&!o.value&&e[o.name]?e[o.name].value:o.value;else t[o.name]=Object(r.Cb)(o)};return Object(i.b)(n("input"),(function(e,t){if("radio"!==t.type&&"checkbox"!==t.type||t.checked)return o(0,t)})),Object(i.b)(n("select"),o),Object(i.b)(n("textarea"),o),t}function T(e,t){for(var n,r=t?/(?:([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$)))/i:/(?:([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0]))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0])))/i,o=[];e&&(n=e.match(r));){e=e.substr(n.index+n[0].length);var a=0;n[4]||(a=7),o.push({url:n[2+a],query:n[5+a]||"",domain:n[4+a]})}return o}var x=()=>window.devicePixelRatio>=2;function I(e){if(!e)return[0,0];var t=0,n=0,r=e.ownerDocument||e.document,o=r.defaultView||r.parentWindow;if(o.getSelection().rangeCount>0){var a=o.getSelection().getRangeAt(0),i=a.cloneRange();i.selectNodeContents(e),i.setEnd(a.startContainer,a.startOffset),t=i.toString().length,i.setEnd(a.endContainer,a.endOffset),n=i.toString().length}return[t,n]}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.kLimit||1e3,r=t.mLimit||1e6;return e>=r&&!t.noCheck?A(e=(e=p(e/1e5))>1e3?p(e/10):e/10,D(t,{noCheck:!0}),!0)+"M":e>=n&&!t.noCheck?A(e=(e=p(e/100))>100?p(e/10):e/10,D(t,{noCheck:!0}),!0)+"K":Object(o.j)(e,"%s",!0).replace(/,/g,".")}var M,S,L,B=(L=null,[function(e){return L||(L=Object(r.rb)("<span> </span>")),L.innerText=e,L.innerHTML},function(e){return L||(L=Object(r.rb)("<span> </span>")),L.innerHTML=e.replace(/<br\s*\/?>/gim,"\n"),L.innerText}]),R=(S=2,function(e){if(Array.isArray(e))return e}(M=B)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(M,S)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(M,S)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),N=R[0],U=R[1];function F(){window.PageID=window.PageID||1}},tEBl:function(e,t,n){e.exports=function(){"use strict";class e{constructor(e=0,t=0){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.size=0,this.ttl=t}has(e){return e in this.items}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){const t=this.items[e];delete this.items[e],this.size--,null!==t.prev&&(t.prev.next=t.next),null!==t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}return this}evict(){const e=this.first;return delete this.items[e.key],this.first=e.next,this.first.prev=null,this.size--,this}get(e){let t;if(this.has(e)){const n=this.items[e];this.ttl>0&&n.expiry<=(new Date).getTime()?this.delete(e):(t=n.value,this.set(e,t,!0))}return t}keys(){return Object.keys(this.items)}set(e,t,n=!1){let r;if(n||this.has(e)){if(r=this.items[e],r.value=t,!1===n&&(r.expiry=this.ttl>0?(new Date).getTime()+this.ttl:this.ttl),this.last!==r){const e=this.last,t=r.next,n=r.prev;this.first===r&&(this.first=r.next),r.next=null,r.prev=this.last,e.next=r,null!==n&&(n.next=t),null!==t&&(t.prev=n)}}else this.max>0&&this.size===this.max&&this.evict(),r=this.items[e]={expiry:this.ttl>0?(new Date).getTime()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t},1==++this.size?this.first=r:this.last.next=r;return this.last=r,this}}return function(t=1e3,n=0){if(isNaN(t)||t<0)throw new TypeError("Invalid max value");if(isNaN(n)||n<0)throw new TypeError("Invalid ttl value");return new e(t,n)}}()},tEnI:function(e,t,n){"use strict";var r,o,a,i,s,c;n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),function(e){e.AUDIO="ok_audio",e.AUDIO_TO_VIDEO="ok_video",e.VIDEO="ok_started_as_video",e.GROUP_AUDIO="group_audio",e.GROUP_AUDIO_TO_VIDEO="group_video",e.GROUP_VIDEO="group_started_as_video"}(r||(r={})),function(e){e.SUCCESS="success",e.FAIL="fail"}(o||(o={})),function(e){e.REMOTE_NO_CONNECT="push_not_delivered",e.REMOTE_FAILED_ACCEPT="cant_connect",e.REMOTE_DECLINE="declined_remote",e.LOCAL_DECLINE="declined_local",e.REMOTE_TIMEOUT="declined_timeout",e.REMOTE_BUSY="busy",e.CONNECTION_LOST="lost_connection"}(a||(a={})),function(e){e.CONVO_HEADER="im_header",e.CONVO_SNIPPET="im_message",e.CONVO_LIST="im_create",e.CONVO_JOIN_SNIPPET="im_join_message",e.CONVO_JOIN_HEADER="im_join_header",e.CONVO_JOIN_BANNER="im_join_header",e.FRIENDS_LIST="friends_list",e.LINK_JOIN_SNIPPET="join_deeplink",e.LINK_JOIN_PAGE="join_deeplink",e.PROFILE="profile",e.FAST_CHAT="fast_chat"}(i||(i={})),function(e){e.OUTGOING_CALL_STARTED_VIDEO="OutgoingCallStartedVideo",e.OUTGOING_CALL_STARTED_AUDIO="OutgoingCallStartedAudio",e.OUTGOING_CALL_ADD_PARTICIPANTS_SENT="OutgoingCallAddParticipantsSent",e.OUTGOING_CALL_REMOTE_RINGING="OutgoingCallRemoteRinging",e.OUTGOING_CALL_ACCEPTED_REMOTELY="OutgoingCallAcceptedRemotely",e.OUTGOING_CALL_FAILED="OutgoingCallFailed",e.OUTGOING_CALL_COMPLETED="OutgoingCallCompleted",e.INCOMING_CALL_RECEIVED="IncomingCallReceived",e.INCOMING_CALL_ACCEPTED="IncomingCallAccepted",e.CALL_DECLINED_OR_HANGED_LOCALLY="CallDeclinedOrHangedLocally",e.CALL_DECLINED_OR_HANGED_REMOTELY="CallDeclinedOrHangedRemotely",e.CALL_CONNECTED="CallConnected",e.CALL_DISCONNECTED="CallDisconnected",e.VIDEO_ENABLED="VideoEnabled",e.VIDEO_DISABLED="VideoDisabled",e.RELAY_CONNECTION_ESTABLISHED="RelayConnectionEstablished",e.USER_FEEDBACK_RECEIVED="UserFeedbackReceived",e.SYSTEM_STAT="SystemStat",e.GROUP_CALL_JOINED="GroupCallJoined",e.HAND_RAISED="HandRaised",e.HAND_LOWERED="HandLowered",e.SCREEN_SHARING_STARTED="ScreenSharingStarted",e.SCREEN_SHARING_STOPPED="ScreenSharingStopped",e.ALL_MICS_DISABLED="AllMicsDisabled",e.MIC_OFF_WHILE_TALKING_ALERT="MicOffWhileTalkingAlert",e.MIC_OFF_WHILE_TALKING_ENABLE_CLICK="MicOffWhileTalkingEnableClick",e.VIDEO_DISABLED_DUE_TO_BAD_CONNECTION_ALERT="VideoDisabledDueToBadConnectionAlert",e.ALL_MICS_AND_VIDEO_DISABLED="AllMicsAndVideoDisabled",e.USER_MICS_AND_VIDEO_DISABLED="UserMicsAndVideoDisabled",e.ASK_ALL_TO_UNMUTE="AskAllToUnmute",e.ASK_USER_TO_UNMUTE="AskUserToUnmute",e.ASSIGN_ADMIN="AssignAdmin",e.RETRIEVE_ADMIN="RetrieveAdmin",e.ADMIN_PIN="AdminPin",e.ADMIN_UNPIN="AdminUnpin"}(s||(s={})),function(e){e[e.ONCE=0]="ONCE",e[e.PERMANENT=1]="PERMANENT"}(c||(c={}))},tGJf:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r,o=function(){function e(){var e=this;this.data={},this.getItem=function(t){return e.data.hasOwnProperty(t)?e.data[t]:null},this.keys=function(){return Object.keys(e.data)}}return e.prototype.setItem=function(e,t){this.data[e]=String(t)},e.prototype.removeItem=function(e){delete this.data[e]},e.prototype.clear=function(){this.data={}},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.data).length},enumerable:!1,configurable:!0}),e.prototype.key=function(e){return Object.keys(this.data)[e]},e}(),a="vk-ls-dummy";function i(){if(r)return r;try{if(window.localStorage.setItem(a,"test"),"test"!==window.localStorage.getItem(a))throw new Error("localStorage is broken");window.localStorage.removeItem(a),r=window.localStorage}catch(e){r=new o}return r}var s,c={setItem:function(e,t){return i().setItem(e,t)},getItem:function(e){return i().getItem(e)},removeItem:function(e){return i().removeItem(e)},clear:function(){return i().clear()},length:function(){return i().length},key:function(e){return i().key(e)},keys:function(){var e=i();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return c.keys().filter((function(t){return t.startsWith(e)}))}};function u(){if(s)return s;try{if(window.sessionStorage.setItem(a,"test"),"test"!==window.sessionStorage.getItem(a))throw new Error("sessionStorage is broken");window.sessionStorage.removeItem(a),s=window.sessionStorage}catch(e){s=new o}return s}var l={setItem:function(e,t){return u().setItem(e,t)},getItem:function(e){return u().getItem(e)},removeItem:function(e){return u().removeItem(e)},clear:function(){return u().clear()},length:function(){return u().length},key:function(e){return u().key(e)},keys:function(){var e=u();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return l.keys().filter((function(t){return t.startsWith(e)}))}}},tbKy:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Iqrf");function o(e,t,n){return Object(r.k)(e,t.hidegid?void 0:n.gid)}},uQjJ:function(e,t,n){"use strict";var r=n("4O8T");window.EventEmitter=r,t.a=r},uXh7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("t7n3");function o(e){var t=e.text,n=e.title,o=e.photo;window.Notifier&&window.Notifier.showEvent({text:Object(r.c)(t),title:n,author_photo:o})}},uk5P:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={AUDIO_ITEM_INDEX_ID:0,AUDIO_ITEM_INDEX_OWNER_ID:1,AUDIO_ITEM_INDEX_URL:2,AUDIO_ITEM_INDEX_TITLE:3,AUDIO_ITEM_INDEX_PERFORMER:4,AUDIO_ITEM_INDEX_DURATION:5,AUDIO_ITEM_INDEX_ALBUM_ID:6,AUDIO_ITEM_INDEX_AUTHOR_LINK:8,AUDIO_ITEM_INDEX_LYRICS:9,AUDIO_ITEM_INDEX_FLAGS:10,AUDIO_ITEM_INDEX_CONTEXT:11,AUDIO_ITEM_INDEX_EXTRA:12,AUDIO_ITEM_INDEX_HASHES:13,AUDIO_ITEM_INDEX_COVER_URL:14,AUDIO_ITEM_INDEX_ADS:15,AUDIO_ITEM_INDEX_SUBTITLE:16,AUDIO_ITEM_INDEX_MAIN_ARTISTS:17,AUDIO_ITEM_INDEX_FEAT_ARTISTS:18,AUDIO_ITEM_INDEX_ALBUM:19,AUDIO_ITEM_INDEX_TRACK_CODE:20,AUDIO_ITEM_INDEX_RESTRICTION:21,AUDIO_ITEM_INDEX_ALBUM_PART:22,AUDIO_ITEM_ACCESS_KEY:24,AUDIO_ITEM_CHART_INFO_INDEX:25,AUDIO_ITEM_HAS_LYRICS_BIT:1,AUDIO_ITEM_CAN_ADD_BIT:2,AUDIO_ITEM_CLAIMED_BIT:4,AUDIO_ITEM_QUEUE_BIT:8,AUDIO_ITEM_HQ_BIT:16,AUDIO_ITEM_LONG_PERFORMER_BIT:32,AUDIO_ITEM_UMA_BIT:128,AUDIO_ITEM_REPLACEABLE:512,AUDIO_ITEM_EXPLICIT_BIT:1024,AUDIO_ENOUGH_LOCAL_SEARCH_RESULTS:500,AUDIO_RECOMS_TYPE_LISTENED:"recoms6",AUDIO_PLAYING_CLS:"audio_row__playing",AUDIO_CURRENT_CLS:"audio_row__current",AUDIO_DURATION_CLS:"audio_row__duration",AUDIO_LAYER_HEIGHT:550,AUDIO_LAYER_MIN_WIDTH:400,AUDIO_LAYER_MAX_WIDTH:1e3,AUDIO_HQ_LABEL_CLS:"audio_hq_label_show",AUDIO_MAX_AUDIOS_IN_SNIPPET:5,AUDIO_ROW_COVER_SIZE:40,AUDIO_ROW_PLAY_SIZE:24,AUDIO_ROW_ACTION_ROW_ITEM:'<button class="audio_row__more_action audio_row__more_action_%0% _audio_row__more_action_%0% %3%">%2%</button>',LOG_LS_KEY:"audiolog"}},upKx:function(e,t,n){"use strict";var r=n("S/j/"),o=n("d/Gc"),a=n("ne8i");e.exports=[].copyWithin||function(e,t){var n=r(this),i=a(n.length),s=o(e,i),c=o(t,i),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?i:o(u,i))-c,i-s),_=1;for(c<s&&s<c+l&&(_=-1,c+=l-1,s+=l-1);l-- >0;)c in n?n[s]=n[c]:delete n[s],s+=_,c+=_;return n}},uytb:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return d}));n("HEwt"),n("a1Th"),n("Btvt"),n("rGqo"),n("rE2o"),n("ioFf");var r=n("BJj/");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i="recent_search",s="pin_hide";function c(e){return"im_store_"+e}function u(e){return ls.get(c(e))||{}}function l(e,t,n){if(ls.checkVersion()){var r=JSON.stringify(t);rand(0,1e5)<=1&&statlogsValueEvent("im_local_store_size",r.length),n(c(e),r)}}function _(e,t,n){n.key===c(e)&&(t.db=JSON.parse(n.newValue),t.checkTime=Date.now())}function d(e){var t=Object(r.a)((e,t)=>{localStorage.setItem(e,t)},300);ls.checkVersion()&&function(e,t){for(var n=["fwd","draft","bind_attach"],r=u(e),o=!1,a=n.length;a--;)n[a]in r&&(delete r[n[a]],o=!0);o&&l(e,r,t)}(e,t);var n={db:u(e),checkTime:Date.now()},a=_.bind(null,e,n);return window.addEventListener("storage",a,!1),{select:(t,r)=>(Date.now()-n.checkTime>1e3&&(n.db=u(e)),function(e,t,n){return t===i?e[t]||[]:t===s?e[t]&&e[t][n]:e[t]?extend(!0,{},e[t][n]):null}(n.db,t,r)),selectByKey:t=>(Date.now()-n.checkTime>1e3&&(n.db=u(e)),n.db[t]),update(r,a){var c=function(e,t,n){switch(e[t]||(e[t]={}),t){case i:var r=n;r&&r.length>0?e[t]=r:delete e[t];break;case s:var a=o(n,2),c=a[0],u=a[1];u?e[t][c]=+u:delete e[t][c]}return e}(n.db,r,a);return n.db=c,n.checkTime=Date.now(),l(e,c,t)},updateByKey:(r,o)=>(n.db[r]=o,n.checkTime=Date.now(),l(e,n.db,t)),unmount(){window.removeEventListener("storage",a,!1)}}}},"v+DW":function(e,t,n){"use strict";n.d(t,"q",(function(){return l})),n.d(t,"y",(function(){return _})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"n",(function(){return f})),n.d(t,"v",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"x",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"w",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"k",(function(){return w})),n.d(t,"f",(function(){return E})),n.d(t,"t",(function(){return j})),n.d(t,"l",(function(){return D})),n.d(t,"c",(function(){return P})),n.d(t,"e",(function(){return k})),n.d(t,"s",(function(){return C})),n.d(t,"r",(function(){return T})),n.d(t,"u",(function(){return x})),n.d(t,"i",(function(){return I})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return M})),n.d(t,"j",(function(){return S}));var r=n("zxIV"),o=n("Egk5"),a=n("t7n3"),i=n("lXE5"),s=n("7jxN"),c=n("gdug"),u=n("4+be");function l(e,t,n){if(e=Object(r.J)(e)){n||Object(r.H)(e),void 0===Object(r.l)(e,"backstyle")&&Object(r.l)(e,"backstyle",e.style.backgroundColor||"");var o=Object(r.l)(e,"back")||Object(r.l)(e,"back",Object(r.T)(e,"backgroundColor")),a={notice:"#FFFFE0",warning:"#FAEAEA"};Object(r.vb)(e,"backgroundColor",a[t]||t||a.warning),setTimeout(()=>Object(s.b)(e,{backgroundColor:o},300,(function(){e.style.backgroundColor=Object(r.l)(e,"backstyle")})),400)}}function _(e){if(window.scrollNode&&!c.a.mobile&&window._tbLink){var t=Object(r.J)("page_body");if(t){var n=Object(r.V)(t),o=Object(i.e)(),a=bodyNode.scrollLeft,l=Object(r.J)("side_bar"),_=Object(r.fb)(l);if(window._stlSideTop=Math.max((_?Object(r.S)(l)[1]:0)-o-(c.a.mozilla?Object(r.V)(pageNode)[1]:0),n[1]),e||a!=__scrLeft){var d=Object(r.J)("page_layout"),p=vk.rtl?d.offsetLeft+d.offsetWidth:0,f=vk.rtl?(window.lastWindowWidth||0)-p:d.offsetLeft;Object(r.vb)(_stlLeft,{width:Math.max(f-1,0)});var h=vk.rtl?n[0]+t.offsetWidth+5:f,m=vk.rtl?p-h:n[0]-5-h;Object(r.vb)(_stlSide,{left:h-a,width:Math.max(m,0)}),__scrLeft=a}Object(r.vb)(_stlSide,{top:_stlSideTop,height:Math.max((window.lastWindowHeight||0)-_stlSideTop,0)}),__adsUpdate();var b=_tbLink.loc||_stlWas||o>200,g=o>250&&cur._regBar,v=0,y=!1;if(b){1!==_stlShown&&(Object(r.xb)(_stlLeft,_stlSide),Object(r.c)(_stlLeft,"stl_active"),Object(r.c)(_stlSide,"stl_active"),_stlShown=1),_tbLink.loc&&cur._noUpLink&&(o=0),_stlWas&&o>500&&(_stlWas=0),o>200?(v=(o-200)/200,(_stlWasSet||_stlBack)&&(_stlWasSet=_stlBack=0,y=1,Object(r.Cb)(_stlText,Object(u.d)("global_to_top")),Object(r.mb)(_stlText,"down"),Object(r.mb)(_stlText,"back"))):(v=(200-o)/200,_stlWas?_stlWasSet||(_stlWasSet=1,y=0,Object(r.Cb)(_stlText,""),Object(r.c)(_stlText,"down"),_stlBack&&(_stlBack=0,Object(r.mb)(_stlText,"back"))):_tbLink.loc&&(_stlBack||(_stlBack=1,y=_tbLink.fast?1:0,Object(r.Cb)(_stlText,Object(u.d)("global_back")),Object(r.c)(_stlText,"back"),_stlWasSet&&(_stlWasSet=0,Object(r.mb)(_stlText,"down"))))),!1!==y&&Object(r.zb)(_stlLeft,"over_fast",Object(r.ab)(_stlLeft,"over")&&y);var O={opacity:Math.min(Math.max(v,0),1)};vk.staticheader&&(O.top=-Math.min(Object(r.S)("page_header_cont")[1],o)),Object(r.vb)(_stlLeft,O)}else 0!==_stlShown&&(Object(r.bb)(_stlLeft,_stlSide),_stlShown=0);vk.id||(!_regBar&&g?(_regBar=1,Object(r.Cb)(Object(r.J)("reg_bar_content"),cur._regBar),Object(s.b)(Object(r.J)("reg_bar"),{top:0,transition:s.a.Transitions.sineInOut},400),Object(s.b)(Object(r.J)("stl_bg"),{paddingTop:60,transition:s.a.Transitions.sineInOut},400)):_regBar&&!g&&(_regBar=0,Object(s.b)(Object(r.J)("reg_bar"),{top:-56,transition:s.a.Transitions.sineInOut},400),Object(s.b)(Object(r.J)("stl_bg"),{paddingTop:13,transition:s.a.Transitions.sineInOut},400)))}}}function d(e,t){if((e=Object(r.J)(e))&&!e.btnevents)if(Object(r.ab)(e,"flat_button"))Object(a.v)(t)&&(e.onclick=t.pbind(e));else{var n=e.parentNode;if(Object(r.ab)(n,"button_blue")||Object(r.ab)(n,"button_gray"))Object(a.v)(t)&&(e.onclick=t.pbind(e));else{var i=!1;Object(o.b)(e,"click mousedown mouseover mouseout",(function(a){if(!Object(r.ab)(n,"locked"))switch(a.type){case"click":if(!i)return;return e.className="button_hover",t(e),Object(o.c)(a);case"mousedown":e.className="button_down";break;case"mouseover":i=!0,e.className="button_hover";break;case"mouseout":e.className="button",i=!1}})),e.btnevents=!0}}}function p(e){var t=Object(r.J)(e);if(t)return Object(r.ab)(t,"ui_actions_menu_item_lock")}function f(e){if((e=Object(r.J)(e))&&Object(r.ab)(e,"ui_actions_menu_item")&&!Object(r.ab)(e,"ui_actions_menu_item_lock")){Object(r.l)(e,"inner",e.innerHTML),Object(r.c)(e,"ui_actions_menu_item_lock");var t=Object(r.g)("div",{className:"ui_actions_menu_item_lock_text"});Object(r.Cb)(t,e.innerHTML),e.appendChild(t),x(e)}}function h(e){(e=Object(r.J)(e))&&Object(r.ab)(e,"ui_actions_menu_item")&&Object(r.ab)(e,"ui_actions_menu_item_lock")&&(Object(r.mb)(e,"ui_actions_menu_item_lock"),e.innerHTML=Object(r.l)(e,"inner"))}function m(e){var t=Object(r.J)(e);if(t)return Object(r.ab)(t,"link_lock")}function b(e,t){var n=Object(r.J)(e);n&&"a"===n.tagName.toLowerCase()&&!m(n)&&(Object(r.c)(n,"link_lock"),t&&Object(a.f)(t,(e,t)=>Object(r.c)(n,t)))}function g(e,t){var n=Object(r.J)(e);n&&m(n)&&(Object(r.mb)(n,"link_lock"),t&&Object(a.f)(t,(e,t)=>Object(r.mb)(n,t)))}function v(e){var t=Object(r.J)(e);if(t&&("button"===t.tagName.toLowerCase()||Object(r.ab)(t,"flat_button")||Object(r.ab)(t,"wr_header"))&&!w(t)){var n=Object(r.S)(t);Object(r.c)(t,"flat_btn_lock"),Object(r.l)(t,"inner",t.innerHTML),Object(r.vb)(t,{width:n[0],height:n[1]}),t.innerHTML="",x(t,"btn_lock")}}function y(e){var t=Object(r.J)(e);t&&w(t)&&(I(t),t.innerHTML=Object(r.l)(t,"inner"),Object(r.mb)(t,"flat_btn_lock"),Object(r.vb)(t,{width:null,height:null}))}function O(e){return w(e)}function w(e){var t=Object(r.J)(e);if(t)return Object(r.ab)(t,"flat_btn_lock")}function E(e,t){var n=Object(r.J)(e);if(n&&"button"===n.tagName.toLowerCase())if(t){if(!Object(r.fb)(n))return;n.parentNode.insertBefore(Object(r.g)("button",{innerHTML:n.innerHTML,className:n.className+" button_disabled"}),n),Object(r.bb)(n)}else{var o=Object(r.D)(n);o&&Object(r.ab)(o,"button_disabled")&&Object(r.kb)(o),Object(r.xb)(n)}}function j(e){if(void 0===window._sbWidth||e){var t=Object(r.g)("div",{innerHTML:'<div style="height: 75px;">1<br>1</div>'},{overflowY:"scroll",position:"absolute",width:"50px",height:"50px"});bodyNode.appendChild(t),window._sbWidth=Math.max(0,t.offsetWidth-t.firstChild.offsetWidth-1),bodyNode.removeChild(t)}return window._sbWidth}function D(e){return e=Object(r.J)(e),Object(r.ab)(e,"on")?1:""}function P(e,t){var n=Object(r.J)(e);if(n&&!Object(r.ab)(n,"disabled"))return void 0===t&&(t=!D(n)),Object(r.zb)(n,"on",t),n.setAttribute("aria-checked",t?"true":"false"),!1}function k(e,t){return e=Object(r.J)(e),void 0===t&&(t=!Object(r.ab)(e,"disabled")),Object(r.zb)(e,"disabled",t),"INPUT"===e.tagName&&(t?e.setAttribute("readonly","readonly"):e.removeAttribute("readonly")),!1}function C(e){return!!radioBtns[e]&&radioBtns[e].val}function T(e,t,n){if(radioBtns[n]&&!Object(r.ab)(e,"disabled"))return Object(a.f)(radioBtns[n].els,(function(){this&&(this==e?(Object(r.c)(this,"on"),this.setAttribute("aria-checked","true"),this.setAttribute("tabindex","0")):(Object(r.mb)(this,"on"),this.setAttribute&&(this.setAttribute("aria-checked","false"),this.setAttribute("tabindex","-1"))))})),radioBtns[n].val=t}function x(e,t,n,o){var a;if(e=Object(r.J)(e))return Object(r.ab)(e,"pr")?a=e:(a=Object(r.rb)(Object(r.qb)(vk.pr_tpl,{id:t||"",cls:n||""})),o?Object(r.z)(a,e):e.appendChild(a)),setTimeout((function(){Object(r.vb)(a,{opacity:1})})),a}function I(e){e&&(Object(r.ab)(e,"pr")?Object(r.vb)(e,{opacity:0}):Object(r.kb)(Object(r.L)("pr",e)))}function A(e){Object(r.vb)(e,"pointer-events","none")}function M(e){Object(r.vb)(e,"pointer-events","")}function S(){window.__scrLeft=0,window.radioBtns={}}},vKrd:function(e,t,n){var r=n("y3w9"),o=n("0/R4"),a=n("pbhE");e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},vT4u:function(e,t,n){"use strict";n.d(t,"e",(function(){return O.a})),n.d(t,"lb",(function(){return E.a})),n.d(t,"k",(function(){return j.a})),n.d(t,"qc",(function(){return k.d})),n.d(t,"hd",(function(){return T.i})),n.d(t,"Db",(function(){return I.a})),n.d(t,"wb",(function(){return A.c})),n.d(t,"J",(function(){return A.e})),n.d(t,"Cc",(function(){return I.c})),n.d(t,"b",(function(){return V})),n.d(t,"d",(function(){return z})),n.d(t,"c",(function(){return G})),n.d(t,"a",(function(){return Q})),n.d(t,"Rc",(function(){return ee})),n.d(t,"Ec",(function(){return te})),n.d(t,"ub",(function(){return ne})),n.d(t,"jc",(function(){return re})),n.d(t,"Vb",(function(){return oe})),n.d(t,"Ub",(function(){return ae})),n.d(t,"xc",(function(){return se})),n.d(t,"yc",(function(){return ue})),n.d(t,"r",(function(){return le})),n.d(t,"sd",(function(){return _e})),n.d(t,"hc",(function(){return de})),n.d(t,"sb",(function(){return pe})),n.d(t,"ob",(function(){return fe})),n.d(t,"Ob",(function(){return me})),n.d(t,"Pb",(function(){return be})),n.d(t,"xb",(function(){return ge})),n.d(t,"pb",(function(){return ve})),n.d(t,"qb",(function(){return ye})),n.d(t,"Mc",(function(){return Oe})),n.d(t,"dc",(function(){return we})),n.d(t,"i",(function(){return De})),n.d(t,"Cd",(function(){return Pe})),n.d(t,"H",(function(){return ke})),n.d(t,"j",(function(){return Ce})),n.d(t,"Bb",(function(){return xe})),n.d(t,"Cb",(function(){return Ie})),n.d(t,"X",(function(){return Ae})),n.d(t,"Nb",(function(){return Me})),n.d(t,"ud",(function(){return Se})),n.d(t,"Dc",(function(){return Le})),n.d(t,"gd",(function(){return Be})),n.d(t,"Ed",(function(){return Re})),n.d(t,"zc",(function(){return Ue})),n.d(t,"F",(function(){return Fe})),n.d(t,"E",(function(){return We})),n.d(t,"l",(function(){return Ke})),n.d(t,"v",(function(){return He})),n.d(t,"G",(function(){return qe})),n.d(t,"cc",(function(){return Ve})),n.d(t,"rb",(function(){return ze})),n.d(t,"h",(function(){return Ge})),n.d(t,"g",(function(){return $e})),n.d(t,"Hc",(function(){return Je})),n.d(t,"Kc",(function(){return Ye})),n.d(t,"Gc",(function(){return Xe})),n.d(t,"rc",(function(){return Qe})),n.d(t,"wc",(function(){return et})),n.d(t,"sc",(function(){return tt})),n.d(t,"tc",(function(){return nt})),n.d(t,"Jb",(function(){return rt})),n.d(t,"kb",(function(){return ot})),n.d(t,"uc",(function(){return at})),n.d(t,"bb",(function(){return it})),n.d(t,"cb",(function(){return st})),n.d(t,"o",(function(){return ct})),n.d(t,"x",(function(){return ut})),n.d(t,"vc",(function(){return _t})),n.d(t,"mb",(function(){return dt})),n.d(t,"gb",(function(){return pt})),n.d(t,"Zb",(function(){return ft})),n.d(t,"Yb",(function(){return ht})),n.d(t,"Xb",(function(){return mt})),n.d(t,"ac",(function(){return bt})),n.d(t,"kc",(function(){return gt})),n.d(t,"lc",(function(){return vt})),n.d(t,"f",(function(){return Ot})),n.d(t,"Qb",(function(){return wt})),n.d(t,"Bc",(function(){return Et})),n.d(t,"Ac",(function(){return jt})),n.d(t,"M",(function(){return Dt})),n.d(t,"Lb",(function(){return Pt})),n.d(t,"D",(function(){return kt})),n.d(t,"K",(function(){return Ct})),n.d(t,"kd",(function(){return Tt})),n.d(t,"ib",(function(){return xt})),n.d(t,"jb",(function(){return It})),n.d(t,"u",(function(){return At})),n.d(t,"tb",(function(){return Mt})),n.d(t,"jd",(function(){return St})),n.d(t,"eb",(function(){return Bt})),n.d(t,"nc",(function(){return Rt})),n.d(t,"cd",(function(){return Nt})),n.d(t,"bd",(function(){return Ut})),n.d(t,"Nc",(function(){return Ft})),n.d(t,"Jc",(function(){return Wt})),n.d(t,"I",(function(){return Kt})),n.d(t,"md",(function(){return Ht})),n.d(t,"rd",(function(){return qt})),n.d(t,"vb",(function(){return Vt})),n.d(t,"L",(function(){return zt})),n.d(t,"Fc",(function(){return Gt})),n.d(t,"S",(function(){return $t})),n.d(t,"O",(function(){return Jt})),n.d(t,"Mb",(function(){return Yt})),n.d(t,"y",(function(){return Xt})),n.d(t,"mc",(function(){return Qt})),n.d(t,"dd",(function(){return Zt})),n.d(t,"Ic",(function(){return en})),n.d(t,"Z",(function(){return tn})),n.d(t,"s",(function(){return nn})),n.d(t,"ld",(function(){return rn})),n.d(t,"oc",(function(){return on})),n.d(t,"q",(function(){return an})),n.d(t,"Pc",(function(){return sn})),n.d(t,"od",(function(){return cn})),n.d(t,"Zc",(function(){return un})),n.d(t,"yb",(function(){return ln})),n.d(t,"Ab",(function(){return _n})),n.d(t,"zb",(function(){return dn})),n.d(t,"R",(function(){return pn})),n.d(t,"Rb",(function(){return fn})),n.d(t,"Xc",(function(){return hn})),n.d(t,"A",(function(){return mn})),n.d(t,"ic",(function(){return bn})),n.d(t,"Qc",(function(){return gn})),n.d(t,"Ad",(function(){return vn})),n.d(t,"ab",(function(){return yn})),n.d(t,"w",(function(){return On})),n.d(t,"Sc",(function(){return wn})),n.d(t,"pd",(function(){return En})),n.d(t,"qd",(function(){return jn})),n.d(t,"Wc",(function(){return Dn})),n.d(t,"Tc",(function(){return Pn})),n.d(t,"n",(function(){return kn})),n.d(t,"Oc",(function(){return Cn})),n.d(t,"Yc",(function(){return Tn})),n.d(t,"zd",(function(){return xn})),n.d(t,"Y",(function(){return In})),n.d(t,"db",(function(){return An})),n.d(t,"P",(function(){return Mn})),n.d(t,"ec",(function(){return Sn})),n.d(t,"fb",(function(){return Ln})),n.d(t,"pc",(function(){return Bn})),n.d(t,"fc",(function(){return Rn})),n.d(t,"Wb",(function(){return Nn})),n.d(t,"Ib",(function(){return Un})),n.d(t,"fd",(function(){return Fn})),n.d(t,"Hb",(function(){return Wn})),n.d(t,"ed",(function(){return Kn})),n.d(t,"U",(function(){return Hn})),n.d(t,"Q",(function(){return qn})),n.d(t,"N",(function(){return zn})),n.d(t,"nd",(function(){return Gn})),n.d(t,"Tb",(function(){return $n})),n.d(t,"Vc",(function(){return Jn})),n.d(t,"Uc",(function(){return Yn})),n.d(t,"t",(function(){return Xn})),n.d(t,"V",(function(){return Qn})),n.d(t,"Dd",(function(){return Zn})),n.d(t,"W",(function(){return er})),n.d(t,"m",(function(){return tr})),n.d(t,"hb",(function(){return nr})),n.d(t,"Lc",(function(){return rr})),n.d(t,"B",(function(){return or})),n.d(t,"ad",(function(){return ar})),n.d(t,"nb",(function(){return ir})),n.d(t,"p",(function(){return sr})),n.d(t,"C",(function(){return cr})),n.d(t,"z",(function(){return ur})),n.d(t,"Bd",(function(){return lr})),n.d(t,"gc",(function(){return _r})),n.d(t,"td",(function(){return dr})),n.d(t,"id",(function(){return pr})),n.d(t,"Kb",(function(){return fr})),n.d(t,"Gb",(function(){return hr})),n.d(t,"Eb",(function(){return mr})),n.d(t,"Fb",(function(){return br})),n.d(t,"Sb",(function(){return gr})),n.d(t,"T",(function(){return vr})),n.d(t,"bc",(function(){return yr})),n.d(t,"xd",(function(){return Or})),n.d(t,"wd",(function(){return wr})),n.d(t,"yd",(function(){return Er})),n.d(t,"vd",(function(){return jr}));n("HEwt"),n("rE2o"),n("ioFf"),n("hhXQ"),n("a1Th"),n("OG14"),n("OEbY"),n("Vd3H"),n("rGqo"),n("91GP"),n("VRzm"),n("Btvt");var r=n("ER42"),o=n("bIHZ"),a=n("eaP7"),i=n("DM26"),s=n("rudk"),c=n("aong"),u=n("uytb"),l=n("P13b"),_=n("h++7"),d=n("hC3G"),p=n("rHUl"),f=n("MhhX"),h=n("86+7"),m=n("ERyv"),b=n("sp2a"),g=n("O8ze"),v=n("zxIV"),y=n("ambf"),O=n("PEW9"),w=n("07n8"),E=n("tbKy"),j=n("zjLC"),D=n("rDjD"),P=n("3qfP"),k=n("shih"),C=n("kxld"),T=n("4edV"),x=n("UIlX"),I=n("pdqG"),A=n("6x51"),M=n("Iqrf"),S=n("RdBX"),L=n("ftTi"),B=n("MNOG"),R=n("y/eL"),N=n("rFFZ"),U=n("Db7M"),F=n("cYwl"),W=n("W9Tc");function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=5,z="typing",G="audiomessage",$=Object(o.a)(),J=$.scheduleNav,Y=$.commitNav,X=$.scheduleNavWithTimeOut,Q={[O.b.SEARCH]:0,[O.b.MEDIA]:1,[O.b.CHAT_INVITE]:2,[O.b.USER_INVITE]:2,[O.b.CREATE_CHAT]:2,[O.b.SETTINGS]:3,[O.b.PIN_HIDE]:10,[O.b.PIN_UNHIDE]:10,[O.b.UNPIN]:11,[O.b.UNREAD]:20,[O.b.MUTE]:21,[O.b.UNMUTE]:21,[O.b.PIN_CONVO]:22,[O.b.UNPIN_CONVO]:22,[O.b.CLEAR]:30,[O.b.BLOCK]:31,[O.b.BLOCK_COMMUNITY]:32,[O.b.ALLOW_COMMUNITY]:32,[O.b.BLOCK_NOTIFY]:33,[O.b.LEAVE]:34,[O.b.RETURN]:34};function Z(e){return"string"==typeof e?Object(v.rb)(`<div>${e}</div>`):e}function ee(e){return"string"==typeof e?e:e.innerHTML}function te(e,t){return t.tabs[e].can_start_call=Object(b.E)(t,e),Promise.resolve(t)}function ne(e,t,n,o,a){return a.tabHistoryNotChanged=!1,Object(i.e)(r.b,3,e=>e-1)(O.a,{act:"a_start",peer:e,msgid:n,history:t,prevpeer:a.prevPeer,gid:a.gid,block:o}).then(t=>{var r=H(t,6),o=r[0],i=r[1],s=r[2],c=r[3],u=r[4],d=r[5];if(i.forEach(e=>Object(h.a)(a,e)),a.tabs||(a.tabs={}),a.dialog_tab_cts=Object.assign({},u,{[_.k]:a.dialog_tab_cts[_.k]}),a.tabs[e]||(a.tabs[e]=Object(l.vc)(a,o)),Object(T.i)(c,a),n){if(a.tabs[e]){var p=a.tabs[e].lastmsg,f=a.tabs[e].lastmsg_meta;extend(a.tabs[e],o),a.tabs[e].lastmsg=p,a.tabs[e].lastmsg_meta=f}}else extend(a.tabs[e],o);return a.admins=extend(a.admins,s),a.imQueue(e,!1),Zn(),d&&(a.tabs[e].peer_profile_info=d),re(e,a)}).catch(e=>Object(m.a)("loadPeer",e))}function re(e,t){var n=t.imQueue(e,!1),r=t.tabs[e],o=n.filter(n=>!Object(p.P)(t,e,n.rid));return r.msgs=o.reduce((e,t)=>(e["rid"+t.rid]=t.mess,e),r.msgs),t.imQueueSet(e,o),t.tabs[e].history=Object(l.cd)(o,t,Z(t.tabs[e].history)),Promise.resolve(t)}function oe(e,t,n,r,o){var a=o.imQueue(n),i=[],s=[];a.forEach(e=>{e.failed&&r&&e.mess.messageId!==r&&s.push(e),!e.failed||r&&e.mess.messageId!==r||i.push("rid"+e.rid)}),o.imQueueSet(n,s);var c=Object(p.s)(o,n);if(!c)return Promise.resolve(o);var u=s.length?s[s.length-1].mess:Object(p.k)(e,n,i[0]);return c.lastmsg=u&&u.messageId,c.lastmsg_meta=u,i.forEach(e=>delete c.msgs[e]),c.history=Object(l.Bc)(i,Z(c.history)),Object(l.Bc)(i,t),Promise.resolve(o)}function ae(e,t,n){var r=n.imQueue(t),o=[],a=[],i=Date.now();return r.forEach(e=>{e.failed&&i-e.ts<864e5&&a.push(e),e.failed&&i-e.ts>=864e5&&o.push("rid"+e.rid)}),n.imQueueSet(t,a),n.tabs[t].history=Object(l.Bc)(o,Z(n.tabs[t].history)),Object(l.Bc)(o,e),Promise.resolve(n)}function ie(e,t){return!1===(t.block_states[e]||{}).free?Promise.resolve(t):Object(r.b)(O.a,{act:"a_block",peer:e,prevPeer:t.prevPeer,gid:t.gid}).then(e=>{var n=H(e,1)[0];return Object(T.i)(n,t)})}function se(e,t){var n=t.peer;return Promise.resolve(t).then(t=>(t.tabHistoryNotChanged=!1,Object(l.Tb)(t,n)&&!t.tabs[n].msgid?(t.gid&&ie(n,t),Promise.resolve(t).then(I.c)):(Object(l.Tb)(t,n)&&(t.tabs[n].msgid=!1),ne(n,e,!1,!0,t)))).then(I.c).then(ce.bind(null,n))}function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(l.jc)(t,e)&&(t.tabs[e].last_touched=Date.now()),Object(l.jc)(t,e)&&n&&(t.tabs[e].last_visited=Date.now()),t}function ue(e,t,n){var r=n.msgid,o=n.peer;return!e&&Object(l.Tb)(n,o)&&n.tabs[o].msgs[r]?(t===n.peer?n.tabHistoryNotChanged=!0:n.tabHistoryNotChanged=!1,n.gid&&ie(o,n),Promise.resolve(n).then(I.c).then(ce.bind(null,o))):ne(o,!0,r,!0,n).then(I.c).then(()=>(Object(p.s)(n,o).msgid=r,n)).then(ce.bind(null,o))}function le(e,t,n,r){if(tn(r))throw Object(l.Dd)(),new Error("Cant change peer while loading something");var o=r.gid?"gim"+r.gid:"im";if(r.prevPeer=r.peer,r.peer=e,r.msgid=t||"",r.currentEntryPoint=n,cur.peer=e,J({sel:e?Object(l.bb)(e):null,msgid:r.msgid,email:"",0:o}),0!==r.prevPeer&&ce(r.prevPeer,r,!0),0!==e){Object(l.jc)(r,e)&&ce(e,r,!0),vn(r.tabbedPeers.map(e=>e.peer).indexOf(e)<0?[{peer:e,type:"perm"}].concat(r.tabbedPeers):r.tabbedPeers.map(t=>(t.peer===e&&"perm"!==t.type&&(t.type="perm"),t)),!1,r);var a=Object(p.s)(r,e);a&&Object(C.t)(a)&&Object(F.f)(e)}else vn(r.tabbedPeers,!1,r);return Y(),Object(R.a)(location.href,document.referrer),ct(r.prevPeer,r)}function _e(e){var t=e.isMassMentionsMessageAllowed;cur.wallMentions=()=>new Promise((n,r)=>{if(cur.wallMentions=[],!Object(l.Mb)(e.peer)||!Object(l.Tb)(e,e.peer)||Object(l.Ub)(e,e.peer))return r();var o=e.tabs[e.peer];function a(){var r=[];Object.keys(o.msgs||{}).reverse().forEach(e=>{var t=Object(p.W)(o.msgs[e]),n=t&&t.userId;n&&n!=vk.id&&-1===r.indexOf(n)&&Object(l.nc)(o,n)&&r.push(n)}),(o.memberIds||[]).forEach(e=>{-1===r.indexOf(e)&&r.push(e)});var a=[];r.forEach(t=>{if(Object(h.b)(e,t)){var n=Object(h.c)(e,t),r=n.link.substring(1);a.push([n.id,n.name,"@"+r,n.photo,void 0,void 0,void 0,r,n.first_name,"",n.note])}});var i=getLang("mail_im_mention_all"),s=getLang("mail_im_mention_online");t&&Object(b.z)(e)&&a&&a.length>1&&(d.a.online.forEach(e=>a.push(["online",s,"@"+e,"/images/mention_online.svg",void 0,void 0,void 0,e,e,""])),d.a.all.forEach(e=>a.push(["all",i,"@"+e,"/images/mention_all.svg",void 0,void 0,void 0,e,e,""]))),n(a)}o.membersLoaded?a():Vn(e.peer,e).then(a)})}function de(){return Object(r.b)(O.a,{act:"a_reset_top_counter"})}function pe(e,t,n){var o=n.tabs[n.peer];return Object(r.b)(O.a,{peer:n.peer,whole:e,act:"a_history",offset:o.offset+(o.skipped||0),toend:t,gid:n.gid}).then(e=>{var t=H(e,4),r=t[0],a=t[1],i=t[2],s=t[3];return o.allShown=i,n.admins=extend(n.admins,s),o.history=r+ee(o.history),o.historyToAppend=r,o.offset+=Object.keys(a).length,o.msgs=extend(o.msgs,a),n})}function fe(e){var t=e.tabs[e.peer];return Object(r.b)(O.a,{peer:e.peer,act:"a_history",rev:1,offset:t.skipped,gid:e.gid}).then(n=>{var r=H(n,5),o=r[0],a=r[1],i=r[2];r[3],r[4];t.allShown=t.allShown||i,t.history=ee(t.history)+o,t.historyToAppend=o;var s=Object.keys(a).length;return t.skipped-=s,t.offset+=s,t.msgs=extend(t.msgs,a),e})}function he(e,t,n,r){var o=e.tabs[t];return r===a.q&&o.out_up_to>n||(r===a.q?o.out_up_to=n:o.in_up_to=n),e}var me=Object(w.a)((function(e,t){if(Object(C.t)(t.tabs[e]))return Promise.resolve(t);var n=t.tabs[e],o=n.msgs||{},i=Object.keys(o).map(n=>Object(p.m)(t,e,n)).filter(e=>!Object(f.r)(e)).map(e=>e.messageId).sort((e,t)=>t-e);return n.skipped>0&&(i=i.filter(e=>intval(e)<=n.lastmsg-n.skipped)),(i=intval(i.shift()))<=n.in_up_to?Promise.resolve(t):(t.longpoll.push([a.rb([6,e,i,null])]),Object(r.b)(O.a,{peer:e,ids:[i],hash:n.hash,act:"a_mark_read",gid:t.gid}).then(()=>he(t,e,i,a.q)).catch(()=>t))})),be=Object(w.a)((function(e,t,n){var o=n.tabs[t];return!Object(W.b)("simplified_start_conversation")&&Object(C.t)(o)||Object(l.Kd)(o)||e<=o.in_up_to?Promise.resolve(n):(n.longpoll.push([a.rb([6,t,e,null])]),Object(r.b)(O.a,{peer:t,ids:[e],hash:o.hash,act:"a_mark_read",gid:n.gid}).then(()=>he(n,t,e,a.q)))})),ge=Object(w.a)((function(e,t,n){var o=n.tabs[e];return Object(r.b)(O.a,{peer:e,msg_id:t,hash:o.hash,act:"a_mark_listened",gid:n.gid})}));function ve(e){return Object(r.b)(O.a,{act:"a_get_key",uid:e.id,gid:e.gid}).then(t=>{var n=H(t,3),r=n[0],o=n[1],a=n[2];return extend({},e,{imKey:r,imUrl:o,imPart:a})})}function ye(e){return Object(r.b)(O.a,{act:"a_get_ts",gid:e.gid}).then(t=>{var n=H(t,1)[0];return extend({},e,{imTs:n})})}function Oe(e,t,n){var r=n.tabs[e];return r.msgs[t.messageId]&&(r.msgs[t.messageId].errored=1,r.history=Object(l.id)(e,t,Z(r.history))),Promise.resolve(n)}function we(e,t,n,r){var o=r.tabs[e];return o.msgs[t]&&(o.msgs[t].errored=0,o.lastmsg_meta=n,o.lastmsg=t,o.history=Object(l.Hd)(e,t,Z(o.history))),Promise.resolve(r)}function Ee(e,t){return 0===e.length?Promise.resolve(t):Object(r.b)(O.a,{act:"a_get_admin",admins:e.join(","),gid:t.gid}).then(e=>{var n=H(e,1)[0];return t.admins=extend(t.admins,n),t})}function je(e,t){if(!inArray(e,t.tabbedPeers.map(e=>e.peer))&&(0!==t.peer||t.searchText)&&!inArray(e,t.mutedPeers)){var n={peer:e,type:"temp"};vn(t.tabbedPeers.concat([n]),!1,t)}}function De(e,t,n){return Object(l.hc)(n)?t.concat([e]):[e].concat(t)}function Pe(e,t){var n=e.get().peer,r=Object(p.s)(e,n);if(Object(l.Tb)(e,n)){var o=Z(r.history);r.history=Object(l.Pd)(e,o,t)}}function ke(e,t){var n=Object(p.s)(t,e.peerId);if(Object(l.Tb)(t,e.peerId)){var r=Z(n.history);n.msgs[e.messageId]=extend(!0,{},e),n.history=Object(l.db)(t,e,r)}n&&n.lastmsg===e.messageId&&(n.lastmsg_meta=e);var o=n&&n.pinned&&Object(p.W)(n.pinned);if(o&&o.messageId===e.messageId&&(n.pinned=e),Object(l.jc)(t,e.peerId)&&!Object(f.r)(e)&&Object(f.u)(n,e)){var a=Object(P.b)(e,t.id),i=n.mentions&&n.mentions.includes(e.messageId);a&&!i?(n.mentions||(n.mentions=[]),n.mentions.push(e.messageId)):!a&&i&&Object(I.f)(e.peerId,t=>t!==e.messageId,t)}return Promise.resolve(t)}function Ce(e,t){var n=e.flags&a.q,r=e.peerId,o=K({},e);if(delete o.minorSortId,Object(l.jc)(t,r)){var i=t.tabs[r];if("number"==typeof e.messageId&&i.lastmsg>e.messageId)return Promise.resolve(t);i.deletedDialog=!1,e.local&&(t.msg_local_ids_sort=t.msg_local_ids_sort||{lastSortId:0},t.msg_local_ids_sort[e.messageId]=++t.msg_local_ids_sort.lastSortId);var s=Object(W.b)("simplified_start_conversation")?!Object(C.u)(i):!Object(C.t)(i);if(!n&&s?(e.messageId>i.in_up_to&&(i.lastmsg===e.messageId&&i.unread?Te(t,1,e.peerId):(!i.unread&&Te(t,1,e.peerId),i.unread++)),y.g.has(e.messageId)&&!Object(p.y)(i)&&(i.expiring_messages||(i.expiring_messages=[]),i.expiring_messages.push(e.messageId)),Object(P.b)(e,t.id)&&(i.mentions||(i.mentions=[]),i.mentions.push(e.messageId)),je(e.peerId,t)):i.unread=0,Object(l.Tb)(t,r)){var c=Object(f.o)(i,e),u=c||0===i.offset;c&&(i.blocked_community=0),i.skipped>0&&i.skipped++,i.offset++,i.msgs[e.messageId]=o;var _=Z(i.history);i.history=Object(l.N)(t,e,_,!0,!0,!0),u&&Object(I.c)(t)}if(i.typing){var d=i.typing.userIds.indexOf(e.userId);d>=0&&i.typing.userIds.splice(d,1)}return i.lastmsg=e.messageId,i.lastmsg_meta=o,i.minor_sort_id=e.minorSortId,ce(e.peerId,t),Object(I.g)(t,i,!1,De.bind(null,r),sn.bind(null,t)),Promise.resolve(t)}return e.flags&a.s?Promise.resolve(t):ne(r,0,0,0,t).then(t=>{var o=t.tabs[r];return Object(I.g)(t,o,!1,De.bind(null,r),sn.bind(null,t)),ce(e.peerId,t),n||je(e.peerId,t),t})}function Te(e,t,n){e.cur_unread_cnt||(e.cur_unread_cnt={}),-1===t&&delete e.cur_unread_cnt[n],Object(T.a)(t,n,e).then(B.a)}function xe(e,t){var n=Object(p.s)(t,e.peerId);if(Object(l.Tb)(t,e.peerId)){var r=n.unread;if(t=he(t,e.peerId,e.upToId,0),null!==e.unread?n.unread=e.unread:n.unread=e.upToId>=n.lastmsg?0:Object(p.b)(e.peerId,t)+(n.unread>0?+n.skipped:0),r>0&&!n.unread&&Te(t,-1,e.peerId),!n.skipped){var o=Z(n.history);n.history=Object(l.Ec)(t,o,e.peerId)}}else Object(l.jc)(t,e.peerId)&&(t.tabs[e.peerId].unread>0&&0===e.unread&&Te(t,-1,e.peerId),t.tabs[e.peerId].unread=e.unread||0,t.tabs[e.peerId].in_up_to=e.upToId);return Object(l.jc)(t,e.peerId)&&e.upToId>=n.lastmsg&&(t.dialog_tabs[_.n]=t.dialog_tabs[_.n].filter(t=>intval(t)!==e.peerId)),Object(l.jc)(t,e.peerId)&&(Object(I.e)(e.peerId,t=>t>e.upToId,t),Object(I.f)(e.peerId,t=>t>e.upToId,t)),0!==Object(L.n)(t)||t.active_tab!==_.n||t.gid?Promise.resolve(t):an(_.g,t)}function Ie(e,t){var n=t.tabs[e.peerId];if(Object(l.jc)(t,e.peerId)&&he(t,e.peerId,e.upToId,a.q),Object(l.Tb)(t,e.peerId)){var r=Z(n.history);n.history=Object(l.uc)(t,e.peerId,r)}return Promise.resolve(t)}function Ae(e,t,n,r,o){return o.text={},o.imQueue=e,o.imQueueResend=t,o.imQueueSet=n,o.imQueueComplete=r,Promise.resolve(o)}function Me(e,t,n){function r(e,t){return{id:e.messageId,text:e.text,date:e.date,kludges:e.kludges,authorName:t}}if(1===e.length){var o=e[0],a=Object(p.m)(n,t,o),i=Object(p.e)(n,t,o);return!1===i?n.set(It.bind(null,{[t]:[a.userId]})).then(n=>{var i=Object(p.e)(n,t,o);return{msgIds:e,object:r(a,i)}}):Promise.resolve({msgIds:e,object:r(a,i)})}return Promise.resolve({msgIds:e})}function Se(e,t,n,r){var o=Object(p.s)(r,e);if(o&&o.last_seen&&o.last_seen.can_see){var a=!1!==t?mobPlatforms[t]?1:0:o.last_seen.mobile;o.online=t,o.last_seen={platform:t,time:n||o.last_seen.time,mobile:a,can_see:o.last_seen.can_see}}var i=Object(l.ab)(t),s=i.is_online,c=i.is_mobile;return Object(I.h)(r,e,s,c)}function Le(e,t,n){var r=Object(p.s)(n,e.peerId);return r&&(e.ts=Date.now()/1e3,r.activity||(r.activity={}),r.activity[t]=e,r.typing===z&&(r.typing=e)),Promise.resolve(n)}function Be(e,t){var n=Object(p.s)(t,e.peerId),r=Object(f.g)(e)?"audiomessage":"typing";return n&&n.activity&&n.activity[r]&&(n.activity[r].userIds=n.activity[r].userIds.filter(t=>t!==e.userId)),Promise.resolve(t)}function Re(e,t,n){var r=e.peerId;return Object(i.c)(V+2).then(()=>{if(Object(l.jc)(n,r)){var e=n.tabs[r];if((e.activity||{})[t])Date.now()-1e3*e.activity[t].ts>=1e3*V&&(delete e.activity[t],0===Object.keys(e.activity).length&&delete e.activity);if(e.typing)Date.now()-1e3*e.typing.ts>=1e3*V&&(e.typing=void 0)}return n})}function Ne(e){var t={},n=e.find(e=>"poll"===e[0]);if(n){var r=H(n,3)[2];Object.assign(t,r)}return t}var Ue=function(e,t,n,o){var a=Date.now()+rand(0,100).toFixed(0),i=o.ref_id,c=o.ref_source;o.ref_source=void 0,o.ref_id=void 0,(c||i)&&(J({ref_source:null,ref:null}),Y()),Object(g.i)(o);var u=t.attaches.length>0,l=Object(g.k)(o,"send","server",u),_=Object.assign({act:"a_send",to:e,hash:n.hash,ref_source:c,ref:i,msg:t.message,payload:t.payload,media:Object(s.a)(t.attaches),guid:a,share_url:t.share_url,cancelled_shares:t.cancelled_shares,random_id:t.rid,gid:n.hidegid?void 0:o.gid,entrypoint:o.currentEntryPoint||"",sticker_referrer:t.sticker_referrer,module:cur.module},n.external,Ne(t.attaches));return Object(r.b)(O.a,_,2e4).then(e=>{var t=H(e,1)[0];return l(),o.version!==t.version&&nav.reload({force:!0}),o}).catch(e=>{throw Object(g.h)(o,e,"send","server_send"),e})},Fe=Object(w.a)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=r.tabs[e];return Ue(e,t,K({hash:o.hash},n),r)})),We=Object(w.a)((function(e,t,n){var o=t.attaches.length>0,a=Object(g.k)(n,"edit","server",o);return Object(r.b)(O.a,Object.assign({act:"a_edit_message",module:cur.module,hash:e.hash,id:t.messageId,peerId:e.peerId,gid:n.gid,msg:t.origText,media:Object(s.a)(t.attaches),share_url:t.share_url,cancelled_shares:t.cancelled_shares},Ne(t.attaches)),2e4).then(e=>{H(e,1)[0];return a(),n}).catch(e=>{throw Object(g.h)(n,e,"edit","server_send"),e})}));function Ke(e,t){if(t.selectedMessages||(t.selectedMessages=[]),1===e.length&&inArray(e[0],t.selectedMessages))t.selectedMessages=t.selectedMessages.filter(t=>t!==e[0]);else{var n=t.selectedMessages.concat(e);t.selectedMessages=Object(c.a)(n).sort((e,t)=>e-t)}return Promise.resolve(t)}function He(e){return e.selectedMessages=[],Promise.resolve(e)}function qe(e){return e.selectedMessages=[],Promise.resolve(e)}function Ve(e,t){if(Object(l.Tb)(t,e.peerId)){var n=t.tabs[e.peerId],r=K({},e);delete r.minorSortId;var o=t.imQueue(e.peerId).filter(t=>t.failed&&t.rid!==e.randomId);t.imQueueSet(e.peerId,o),t.imQueueComplete(e.peerId,e.randomId),n.lastmsg_meta=r,n.lastmsg=e.messageId,n.minor_sort_id=e.minorSortId,n.msgs["rid"+e.randomId]&&(n.msgs[e.messageId]=r,delete n.msgs["rid"+e.randomId]),t.msg_local_ids_sort&&delete t.msg_local_ids_sort["rid"+e.randomId],n.history=Object(l.Zc)(t,Z(n.history),r)}return Promise.resolve(t)}function ze(e,t){var n=Object(g.k)(t,"unknown","attach"),o={act:"a_get_media",id:e.messageId,gid:t.gid};return Object(i.e)(r.b,3,e=>e*e)(O.a,o).then(r=>(n(),$e(e,r,t))).catch(n=>(Object(g.h)(t,n,"unknown","server_load_attach"),$e(e,null,t)))}function Ge(e,t){return(n=e.peerId,r=e.chat_local_id,Object(N.b)(U.a)("messages.getByConversationMessageId",{peer_id:n,conversation_message_ids:r,extended:1,fields:"kludges"})).then(n=>{var r=t.tabs[e.peerId],o=n.items[0].template;return o&&r.msgs&&(r.msgs[e.messageId].kludges.template=o),Promise.resolve(t)}).then(t=>function(e,t){var n=t.tabs[e.peerId];n.history&&(n.history=Object(l.Wc)(Z(n.history),e,t));return Promise.resolve(t)}(e,t));var n,r}function $e(e,t,n){var r=n.tabs[e.peerId],o=t&&t[2];return r.mediacontent||(r.mediacontent={}),r.mediacontent[e.messageId]=t||[getTemplate("im_retry_link")],o&&(o.no_forward&&(r.msgs[e.messageId].kludges.no_forward=!0),o.no_pin&&(r.msgs[e.messageId].kludges.no_pin=!0)),function(e,t){var n=t.tabs[e.peerId];return n.history=Object(l.Vc)(Z(n.history),e,t),Promise.resolve(t)}(e,n)}function Je(e,t,n){var r=Object(l.cb)(t),o=n.tabs[e];return o.searchDay=r,o.searchOffset=0,o.searchAllLoaded=!1,o.searchMsgs=[],Promise.resolve(n)}function Ye(e,t,n){return n.tabs[t].searchText=e,lt(t,n),n}function Xe(e,t,n){if(t){var r=n.tabs[t];r.searchText=e,r.searchOffset=0,r.searchAllLoaded=!1}else n.searchText=e,n.searchOffset=0,n.searchAllLoaded=!1;return Promise.resolve(n)}function Qe(e,t,n,r){return Object(k.d)(e,t,n,{},r).then(e=>e.map(e=>({peerId:e.peerId,name:e.tab,photo:e.photo,online:e.online,is_friend:"friends"===n})))}function Ze(e){return(t,n)=>e(n).then(e=>{var r=(t?e.search(t):e.list).map(A.c);return n.mapped_index||(n.mapped_index={}),r.forEach(e=>{n.mapped_index[e.peerId]=e}),r})}var et=Ze(e=>e.topConvTree),tt=Ze(e=>e.imTopConvTree),nt=Ze(e=>e.hintsTree);function rt(e,t){var n,o,a;t.topConvTree=new Promise(e=>{n=e}),t.hintsTree=new Promise(e=>{o=e}),t.imTopConvTree=new Promise(e=>{a=e});var s=e?e.select(u.b):[];return Object(i.e)(r.b,1,()=>4)(O.a,{act:"a_dialogs_preload",rs:s.join(","),gid:t.gid}).catch(e=>[[],[],[]]).then(e=>{var r=H(e,4),i=r[0],s=r[1],c=r[2],u=r[3];return t.popular_sugg=c,new S.a(i,e=>e[1],n),new S.a(s,e=>e[1],o),u&&u.length>0?new S.a(u,e=>e[1],a):a(),t})}function ot(e){var t,n,o=e.active_tab,a=e.dialog_tabs[o];return a.length>0?a.forEach(r=>{var o=e.tabs[r],a=o.minor_sort_id,i=o.major_sort_id;(a||i)&&(void 0===t||t>i?(t=i,n=a):t===i&&n>a&&(n=a))}):(t=0,n=0),Object(r.b)(O.a,{act:"a_get_dialogs",start_message_id:n,major_sort_id:t,tab:o,gid:e.gid,tags:o===_.m&&e.peer_tags_filter?e.peer_tags_filter.mask:null}).then(t=>{var n=H(t,4),r=n[0],i=n[1],s=n[2],c=n[3];return s.forEach(t=>Object(h.a)(e,t)),Object(T.i)(c,e),Object(I.a)(i,e),e.dialog_tabs[o]=a.filter(e=>!i[e]).concat(Object.keys(i).map(intval)),e.dialog_tabs_all[o]=!r.has_more,Promise.resolve(e)})}var at=Object(w.a)((function(e,t){return Object(r.b)(O.a,{act:"a_search",q:e,from:"all",gid:t.gid,hash:t.writeHash,offset:t.searchOffset||0}).then(n=>{var r=H(n,5),o=r[0],a=r[1],i=r[2],s=r[3],c=r[4];return a.forEach(e=>Object(h.a)(t,e)),Object(l.wc)(t,o),e===t.searchText&&(t.searchOffset=s,t.searchAllLoaded=c),Object.keys(o).filter(e=>!t.tabs[e]).forEach(e=>{t.tabs[e]=o[e]}),[o,i]})}));function it(e,t){return t.tabs[e].searchAllLoaded}function st(e,t){return!(t.peer!==e||!Object(l.Tb)(t,e))&&t.tabs[e].inplaceSearch}function ct(e,t){if(Object(l.Tb)(t,e)){var n=t.tabs[e];delete n.inplaceSearch,delete n.searchOffset,delete n.searchAllLoaded,delete n.searchText,delete n.searchDay,delete n.searchMsgs,J({st:""}),Y()}return Promise.resolve(t)}function ut(e,t){if(Object(l.Tb)(t,e)){var n=t.tabs[e];delete n.searchDay,n.searchOffset=0,n.searchAllLoaded=!1,n.searchMsgs=[]}return Promise.resolve(t)}function lt(e,t){return t.tabs[e].inplaceSearch=!0,Promise.resolve(t)}var _t=Object(w.a)((function(e,t){var n=t.tabs[e],o="";if(lt(e,t),n.searchDay&&(o="day:"+n.searchDay),!o&&!n.searchText)return Promise.reject();var a=`in:${e} ${o} ${n.searchText||""}`;return J({st:n.searchText}),Y(),Object(r.b)(O.a,{act:"a_search",q:a,from:"in",gid:t.gid,hash:t.writeHash,offset:n.searchOffset||0}).then(e=>{var t=H(e,4),r=t[0],o=t[1],a=t[2],i=t[3];return n.searchOffset=o,n.searchAllLoaded=a,n.searchMsgs=(n.searchMsgs||[]).concat(i),r})}));function dt(e){return Object(r.b)(O.a,{act:"a_important",offset:e,part:e>0})}function pt(e,t){var n=Object(p.s)(e,t);return Object(r.b)(O.a,{act:"a_load_lastmsg",peerId:t,gid:e.get().gid}).then(r=>{var o=H(r,4),a=o[0],i=o[1],s=o[2],c=o[3],u=intval(a[0]);Object(l.Xb)(e)&&!u&&!1!==n.lastmsg&&(console.log(K({},n)),Object(l.nd)(!0)),n.lastmsg=u||!1,n.lastmsg_meta=a;var d=H(i,3);n.unread=d[0],n.in_up_to=d[1],n.out_up_to=d[2],s?n.mentions=s:n.mentions&&delete n.mentions,c?n.expiring_messages=c:n.expiring_messages&&delete n.expiring_messages,n.unread||(e.get().dialog_tabs[_.n]=e.get().dialog_tabs[_.n].filter(e=>e!=t)),Object(I.g)(e.get(),n,!1,De.bind(null,t),sn.bind(null,e.get()))})}function ft(e,t,n){if(Object(l.Tb)(n,t)){var r=n.tabs[t];r.deleted=r.deleted?r.deleted.concat(e):e}return Promise.resolve(n)}function ht(e,t,n){if(Object(l.Tb)(n,t)){var r=n.tabs[t];if(r.history=Object(l.Bc)(e,Z(r.history)),r.offset-=e.filter(e=>r.msgs[e]).length,e.forEach(e=>delete r.msgs[e]),e.forEach(e=>{var t=(n.selectedMessages||[]).indexOf(e);-1!=t&&n.selectedMessages.splice(t,1)}),r.inplaceSearch){var o=e.reduce((e,t)=>(e[t]=!0,e),{});r.searchMsgs=r.searchMsgs.filter(e=>!o[e]),r.searchOffset=r.searchMsgs.length}}return Promise.resolve(n)}var mt=Object(w.a)((function(e,t,n,o,a){return Object(r.b)(O.a,{act:"a_mark",peer:t,hash:n||a.tabs[t].hash,gid:a.gid,msgs_ids:e.join(","),mark:o})}));function bt(e,t,n,r){if(Object(l.Tb)(r,t)){var o=r.tabs[t];o.deleted=o.deleted?o.deleted.concat(e):e,o.history=Object(l.Cc)(e,t,n,Z(o.history)),o.offset-=e.filter(e=>o.msgs[e]).length}return Promise.resolve(r)}function gt(e,t,n){if(Object(l.Tb)(n,t)){var r=n.tabs[t];r.deleted&&(r.deleted=r.deleted.filter(t=>t!==e)),r.history=Object(l.bd)(e,t,Z(r.history)),r.offset++}return Promise.resolve(n)}function vt(e,t,n,o){return Object(r.b)(O.a,{act:"a_restore",id:e,peer:t,hash:n,gid:o})}var yt=Object(w.a)((function(e,t,n){return Object(C.t)(n.tabs[e])?Promise.resolve(n):(n.tabs[e].lastTyping=Date.now(),Object(r.b)(O.a,{act:"a_activity",type:t,peer:e,gid:n.gid,hash:n.tabs[e].hash}).then(()=>n,()=>n))})),Ot=Object(w.a)((e,t)=>Object(r.b)(O.a,{act:"a_accept_message_request",peer_id:e,hash:t.tabs[e].hash}).then(()=>{var n=t.tabs[e];return n.is_message_request=!1,n.folders=Object(p.X)(n.folders),t})),wt=Object(w.a)((e,t,n)=>Object(r.b)(O.a,{act:"a_reject_message_request",peer_id:e,is_spam:Number(t),hash:n.tabs[e].hash}).then(()=>(Object(I.g)(n,n.tabs[e],!0,t=>t.filter(t=>t!==Number(e))),vn(n.tabbedPeers.filter(t=>t.peer!==e),!0,n),n))),Et=Object(w.a)((function(e,t){return yt(e,z,t)})),jt=Object(w.a)((function(e,t){return yt(e,G,t)}));function Dt(e,t,n,r){return t&&(r.pendingForward=null,e||(e={msgIds:[]}),t.addAttach(n?"reply":"mail",e.msgIds.join(";"),e.object||null)),Promise.resolve(r)}function Pt(e,t){return t.pendingForward=e,Promise.resolve(t)}function kt(e,t,n){if(!Object(l.jc)(n,e))return n;n.blockedFlagUpdates||(n.blockedFlagUpdates={}),n.blockedFlagUpdates[e]=!0;var r=n.tabs[e];return Object(I.g)(n,r,!0,t=>t.filter(t=>t!==e)),r.unread>0&&(Object(W.b)("simplified_start_conversation")?!Object(C.u)(r):!Object(C.t)(r))&&Te(n,-1,e),r.deletedDialog=!0,vn(n.tabbedPeers.filter(t=>t.peer!==e),!0,n),t.then(t=>{var o=H(t,2);o[0],o[1];return delete n.blockedFlagUpdates[e],r.msgs=null,r.history=null,r.unread=0,r.lastmsg=!1,r.lastmsg_meta=null,n})}var Ct=Object(w.a)((function(e,t){return kt(e,Object(r.b)(O.a,{act:"a_flush_history",id:e,from:"im",gid:t.gid,hash:t.tabs[e].hash}),t)})),Tt=Object(w.a)((function(e,t,n){return Object(r.b)(O.a,{act:"a_set_chat_title",peer:e,new_title:t,gid:n.gid,hash:n.tabs[e].hash}).then(()=>(n.onUpdate&&n.onUpdate(),n))})),xt=Object(w.a)((function(e,t){return Object(r.b)(O.a,{act:"a_load_chat_info",peer:e,gid:t.gid,hash:t.tabs[e].hash}).then(n=>{var r=H(n,1)[0];return t.tabs[e]=extend(t.tabs[e],r),t})}));function It(e,t){if(isEmpty(e))return Promise.resolve(t);var n=Object.keys(e).map(t=>`${t}:${e[t].join(",")}`).join(";");return Object(r.b)(O.a,{act:"a_load_member",need:n,gid:t.gid}).then(e=>(H(e,1)[0].forEach(e=>Object(h.a)(t,e)),t))}function At(e,t,n){var r={},o=n.get();function i(e,t){Object(l.Mb)(e)&&t&&!Object(h.b)(o,t)&&(r[e]?-1===r[e].indexOf(t)&&r[e].push(t):r[e]=[t])}var s=t.filter(e=>!Object(l.jc)(o,e.peerId)).map(e=>e.peerId);t.forEach(e=>{i(e.peerId,e.userId)}),e.forEach(e=>{i(e.peerId,Number(e.kludges.source_mid)),i(e.peerId,Number(e.kludges.from))});var c=t.filter(e=>e.flags&a.q&&!e.local).map(e=>e.kludges.from_admin).filter(e=>e&&!o.admins[e]);return 0===Object.keys(r).length&&0===c.length&&0===s.length?Promise.resolve(o):{shouldLoad:Object.keys(r).length>0||c.length>0||s.length>0,needMembers:r,needAdminIds:c,needPeers:s}}function Mt(e,t,n){var r=e.needMembers,o=e.needAdminIds,a=e.needPeers;return t.pause(),Promise.all([It(r,n),Ee(o,n),Promise.all(a.map(e=>ne(e,0,0,0,n)))]).catch(()=>n).then(()=>t.resume()).then(()=>n)}var St=Object(w.a)((function(e,t){return e.kludges.source_act===l.n?(delete t.tabs[e.peerId].photo,delete t.tabs[e.peerId].photoLarge,Promise.resolve(t)):(t.onUpdate&&t.onUpdate(),Object(r.b)(O.a,{act:"a_get_chat_photo",msg_id:e.messageId}).then(n=>{var r=H(n,2),o=r[0],a=r[1];t.chat_photo_msg=a;var i=t.tabs[e.peerId];if(t.tabs[e.peerId].photo=o[0],t.tabs[e.peerId].photoLarge=o[1],Object(l.Tb)(t,e.peerId)){var s=e.kludges.source_act;i.history=Object(l.M)(e,s,t,Z(i.history))}return t}))}));function Lt(e,t,n,r){return t!==vk.id||Object(l.jc)(r,n)&&r.peer==n&&(r=Object(I.c)(r)),Promise.resolve(r)}var Bt=Object(w.a)((function(e,t){return Object(r.b)(O.a,{act:"a_leave_chat",chat:e-2e9,gid:t.gid,hash:t.tabs[e].hash}).then(Lt.bind(null,l.l,vk.id,e,t))})),Rt=Object(w.a)((function(e,t){return Object(r.b)(O.a,{act:"a_return_to_chat",chat:e-2e9,gid:t.gid,hash:t.tabs[e].hash}).then(Lt.bind(null,l.j,vk.id,e,t))})),Nt=Object(w.a)((function(e,t,n,o){return Object(r.b)(O.a,{act:"a_mute",peer:e,hash:o.tabs[e].hash,gid:o.gid,value:Number(t),until:n}).then(()=>{var n=t?"mute":"unmute";return window.Notifier&&Notifier.lcSend("im",{act:n,peer:e}),o}).then(Ft.bind(null,e,t))})),Ut=Object(w.a)((function(e,t,n){return Object(r.b)(O.a,{act:"a_mute_mentions",peer:e,hash:n.tabs[e].hash,gid:n.gid,value:Number(t)}).then(()=>n)}));function Ft(e,t,n){var r=n.mutedPeers.filter(t=>t!==e);return t&&r.push(e),n.mutedPeers=r,cur.mutedPeers=n.mutedPeers,Object(I.c)(n)}function Wt(e,t){return t.stack=e,Promise.resolve(t)}var Kt=Object(w.a)((function(e,t,n,o){return Ht(e,n,t,o),Object(r.b)(O.a,{act:"a_mark_important",ids:e,val:t?1:0,from:"im",gid:o.gid,peer:n,hash:o.tabs[n].hash}).then(()=>o)}));function Ht(e,t,n,r){if(Object(l.Tb)(r,t)){var o=r.tabs[t];e.filter(e=>o.msgs[e]).forEach(e=>{var i=Object(p.m)(r,t,e),s=n?i.flags|a.p:i.flags&~a.p;i.flags=s,o.msgs[e]=i,o.history=Object(l.Rd)(e,n,Z(o.history))})}return Promise.resolve(r)}function qt(e,t,n){return n.importants||(n.importants={}),(n.importants[t]||0)!==e&&(n.important_cnt+=e,n.importants[t]=e),Promise.resolve(n)}function Vt(e,t){return Object(r.b)(O.a,{act:"a_spam",offset:e,gid:t,part:e>0})}function zt(e,t){return Object(r.b)(O.a,{act:"a_flush_spam",gid:t,hash:e})}function Gt(e,t,n){return n.creationType=e,n.creationFilter=t,Promise.resolve(n)}function $t(e,t){return Object(M.h)(JSON.parse(e).data[0],t)}function Jt(e){return Object(r.b)(O.a,{act:"a_get_contacts"}).then(t=>{var n=H(t,1)[0];return e.contactsList=n,e})}function Yt(e,t){return t.next_chat_avatar=e,Promise.resolve(t)}var Xt=Object(w.a)((function(e,t,n,o){return o.creating=!0,Object(r.b)(O.a,{act:"a_multi_start",hash:o.writeHash,peers:[],title:t,gid:o.gid,is_community_chat:1,is_donut_chat:n?1:0}).then(t=>{var n=H(t,1)[0].peer_id;if(!n)throw new Error("No peer_id");return o.peer=n,e?Object(j.e)(o,n,e):o}).then(e=>(e.creating=!1,e)).catch(e=>{throw o.creating=!1,e})}));function Qt(e){var t;e.resync_in_process=new Promise(e=>{t=e});var n=Object.keys(e.tabs).length,o=e.active_tab;return Object(c.i)("Resync started"),Object(r.b)(O.a,{act:"a_resync",sel:e.peer,gid:e.gid,loaded:n,tab:o,add_peers:e.tabbedPeers.map(e=>e.peer).join(",")}).then(n=>{var r=H(n,5),a=r[0],i=r[1],s=r[2],u=r[3],d=r[4];i.forEach(t=>Object(h.a)(e,t)),Object(l.wc)(e,a),Object(c.i)("Resync success","success");var p,f=e.peer;if(Object(l.gc)(f))p=Promise.resolve(!1);else{var m={tabs:{[f]:e.tabs[f]},oCache:{}};p=Object(I.a)({[f]:a[f]},m)}return p.then(n=>{e.tabs=a,e.admins=extend(e.admins,u),n&&(e.tabs[f]=n.tabs[f],e.tabs[f].history=Object(l.cd)(f,e,Z(e.tabs[f].history))),e.loadingDialogs=!1,e.mutedPeers=s.mutedPeers,e.lastDialogsOptions={has_more:s.has_more},e.dialog_tab_cts=Object.assign({},s.folder_cts,{[_.k]:e.dialog_tab_cts[_.k]}),e.dialog_tabs[o]=d.map(intval);var r=e.dialog_tabs[o].map(t=>e.tabs[t]);return Object.keys(e.dialog_tabs).filter(e=>e!=o).forEach(t=>{o==_.g?e.dialog_tabs[t]=r.filter(Object(A.e)(t)).map(e=>e.peerId):e.dialog_tabs[t]=[]}),delete e.resync_in_process,setTimeout(t.bind(null,!0),0),Object(T.f)({count:intval(s.unread),countNotMuted:intval(s.unreadNotMuted)},e)})}).then(e=>(Object(B.a)(e),e)).catch(t=>(Object(c.i)("Resync error: "+t.message+" "+t.stack,"error"),Object(i.c)(2).then(Qt.bind(null,e))))}function Zt(e,t){return t.lockedSending=e,Promise.resolve(t)}function en(e,t,n){return e&&!n.delayed_message?(n.delayed_message=e,n.delayed_ts=t):e||(n.delayed_message=e,n.delayed_ts=t),Promise.resolve(n)}function tn(e){return!!e.textMediaSelector.urlAttachmentLoading||!!(window.Upload&&Upload.options&&Upload.isSomethingUploading)&&Object.keys(Upload.options).filter(e=>Upload.isSomethingUploading(e)).length>0}function nn(e,t){return t.ctrl_submit=!!e,Object(r.b)(O.a,{act:"a_save_ctrl_submit",to:t.peer,hash:t.tabs[t.peer].hash,value:e?1:0}).then(e=>t)}function rn(e,t,n){n.cur_unread_cnt||(n.cur_unread_cnt={}),t&&!inArray(e,n.mutedPeers)&&(n.cur_unread_cnt[e]=!0);var r=document.title,o=window.devicePixelRatio>=2?"_2x":"";if(t&&!n.update_title_to){var a=function(e,t,n){return function(){n.update_old_title=e;var r=Object.keys(n.cur_unread_cnt).length;if(0===r)return Object(v.tb)(e||document.title),setFavIcon("/images/icons/favicons/fav_im"+t+".ico"),clearInterval(n.update_title_to),void(n.update_title_to=!1);e?(Object(v.tb)(e),setFavIcon("/images/icons/favicons/fav_im"+t+".ico"),e=!1):(e=document.title,setFavIcon("/images/icons/favicons/fav_im"+(r>9?10:r)+t+".ico"),Object(v.tb)(winToUtf(getLang("mail_im_new_messages",r))))}}(r,o,n);n.update_title_to=setInterval(a,1e3),a()}else!t&&n.update_old_title&&(Object(v.tb)(n.update_old_title),n.cur_unread_cnt={},r=!1,n.update_old_title=!1,setFavIcon("/images/icons/favicons/fav_im"+o+".ico"),clearInterval(n.update_title_to),n.update_title_to=!1);return Promise.resolve(n)}function on(e,t,n,r,o){return Object(l.Tb)(o,e)&&(o.tabs[e].scrollTop=intval(t),o.tabs[e].scrollBottom=intval(n),o.tabs[e].contHeight=intval(r)),Promise.resolve(o)}function an(e,t){var n=t.active_tab;t.active_tab=e,Object(o.b)({tab:e===_.g?null:e,tags:e===_.m&&t.peer_tags_filter?t.peer_tags_filter.mask:null});var r=[];if(e!==_.g&&!Object(l.hc)(t)){var a=t.dialog_tabs[e];r=t.dialog_tabs[_.g].map(e=>t.tabs[e]).filter(Object(A.e)(e)).map(e=>e.peerId),t.dialog_tabs[e]=a.length>=r.length?a:r}return n===_.m&&e!==n&&(t.peer_tags_filter.ids=[],Object(x.l)(t),Object(x.m)(t)),Promise.resolve(t)}function sn(e,t,n,r){var o=e.dialog_tabs_all;return!(!o[_.g]&&!o[t])||(!!n.includes(r.peerId)||("r"===r.lastmsg[0]||n.map(t=>e.tabs[t.toString()]).filter(t=>Object(l.hc)(e)?t.major_sort_id>r.major_sort_id||t.minor_sort_id>r.minor_sort_id:t.major_sort_id<r.major_sort_id||t.minor_sort_id<r.minor_sort_id).length>0))}function cn(e,t,n,r,o,i){if(Object(l.jc)(i,e)&&!o){var s=i.tabs[e];return n===a.ab&&(t^=s.folders),function(e,t,n){return!(e===a.ib&&n.folders&t)&&(!!(e!==a.eb||n.folders&t)&&!(Object(W.b)("simplified_start_conversation")?Object(C.u)(n):Object(C.t)(n)))}(n,t,s)&&Object.keys(_.j).filter(e=>_.j[e]&t).forEach(e=>{i.dialog_tab_cts[e]+=function(e,t,n){return t!==a.eb||e.folders&_.j[n]?t===a.ab?e.folders&_.j[n]?-1:1:t===a.ib?1:-1:0}(s,n,e)}),n===a.ib?i.tabs[e].folders|=t:n===a.eb?i.tabs[e].folders&=~t:i.tabs[e].folders=t^=s.folders,Object(I.g)(i,i.tabs[e],!0,(t,n)=>n===_.m?t:t.concat([e]).map(e=>i.tabs[e]).filter(Object(A.e)(n)).map(e=>e.peerId),sn.bind(null,i)),Promise.resolve(i)}return ne(e,0,0,0,i).then(cn.bind(null,e,t,n,null,!1,i))}var un=Object(w.a)((function(e,t){var n=_.j[_.h],o=t.tabs[e].folders&n,i=o?a.sb:a.ub;return t.longpoll.push([i([0,e,n,!0])]),Object(r.b)(O.a,{act:"a_dialog_star",val:o?0:1,peer:e,hash:t.tabs[e].hash,gid:t.gid}).then(()=>t)})),ln=Object(w.a)((function(e,t,n){var o=_.j[_.o];return n.longpoll.push([a.sb([0,e,o,!0]),a.rb([6,e,t,null])]),Object(r.b)(O.a,{act:"a_mark_answered",peer:e,lastmsg:t,hash:n.tabs[e].hash,gid:n.gid}).then(()=>n)})),_n=Object(w.a)((e,t)=>(t.longpoll.push([Object(D.g)(),a.ub([0,e,_.j[_.i],!0])]),Object(r.b)(O.a,{act:"a_mark_conversation_as_unread",peer_id:e,hash:t.tabs[e].hash,gid:t.gid}))),dn=Object(w.a)((e,t)=>{t.longpoll.push([a.sb([0,e,_.j[_.i],!0])]);var n=t.tabs[e];return Object(r.b)(O.a,{peer:e,ids:n.lastmsg?[n.lastmsg]:[],mark_conversation_as_read:!0,hash:n.hash,act:"a_mark_read",gid:t.gid}).then(()=>t)});function pn(e){return Object(r.b)(O.a,{act:"a_get_mutex_key",gid:e})}function fn(e,t){return Object(T.i)({[e]:{free:!0}},t),Object(r.b)(O.a,{act:"a_block_release",peer:e,gid:t.gid}).then(()=>t)}function hn(e,t){var n=ls.get("comm_mute_"+t.gid)?1:0;return e&&(n^=1),ls.set("comm_mute_"+t.gid,n),t.mute=n,Promise.resolve(t)}var mn=Object(w.a)((function(e,t){return Object(I.g)(t,t.tabs[e],!0,t=>t.filter(t=>t!==e)),t.tabs[e].deletedDialog=!0,Object(r.b)(O.a,{act:"a_delete_dialog",peer:e,gid:t.gid,hash:t.tabs[e].hash}).then(n=>(n[0]?(vn(t.tabbedPeers.filter(t=>t.peer!==e),!0,t),t.tabs[e].unread=0,t.tabs[e].lastmsg=!1,t.tabs[e].lastmsg_meta=null):(t.tabs[e].deletedDialog=!1,Object(I.g)(t,t.tabs[e],!1,De.bind(null,e),sn.bind(null,t))),n))}));function bn(e,t,n,o){return Object(r.b)(O.a,{act:"a_restore_dialog",hash:t,gid:o.gid,spam:n?1:0,peer:e}).then(t=>(o.tabs[e].deletedDialog=!1,Object(I.g)(o,o.tabs[e],!1,t=>[e].concat(t)),o.tabs[e].unread=t,o))}function gn(e,t,n){return Object(r.b)(O.a,{act:"a_spam_dialog",peer:e,gid:n.gid,hash:t})}function vn(e,t,n){return n.tabbedPeers=e,Object(l.Nb)(n)&&(J({peers:n.tabbedPeers.filter(e=>{var t=e.peer,r=e.type;return t!==n.peer&&"perm"===r}).map(e=>Object(l.lb)(e.peer,n)).filter(e=>!e.deletedDialog).map(e=>e.peerId).map(l.bb).join("_"),to:""}),t&&Y()),Promise.resolve(n)}function yn(e){return!e.peer||(st(e.peer,e)?it(e.peer,e):!!Object(l.Tb)(e,e.peer)&&e.tabs[e.peer].allShown)}function On(e,t){var n=t.tabs[e];return Object(l.Tb)(t,e)&&(n.skipped=null,n.msgs=null,n.offset=null,n.allShown=null,n.history=null),Promise.resolve(t)}function wn(e,t){var n=t.tabs[e];return Object(l.Tb)(t,e)&&(n.history=ee(n.history)),Promise.resolve(t)}function En(e,t){return t.go_to_end_visible=e,Promise.resolve(t)}function jn(e,t){return t.go_to_mentions_visible=e,Promise.resolve(t)}function Dn(e,t,n){if(!Object(l.Pb)(t))return Promise.resolve(n);var o=Object(p.s)(n,t);return o.blocked_community=!e,!1===e&&(o.can_send_notify=!1),Object(r.b)(O.a,{act:"a_toggle_community",peer_id:t,hash:o.hash,state:e?1:0}).then(()=>Object(I.c)(n))}function Pn(e){if(0!==e.peer&&Object(l.Tb)(e,e.peer)){var t=Object(p.s)(e,e.peer),n=geByClass1("_im_peer_history");n&&(t.history=Z(n.innerHTML))}return Promise.resolve(e)}function kn(e){return e.audio_msg.isRecording=!1,Promise.resolve(e)}function Cn(e,t){return t.voice_message_available=e,Promise.resolve(t)}function Tn(e){J({act:e?"create":null}),Y()}function xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;J({q:e}),Y()}function In(e){return void 0===e.chatResizeInitialized&&(e.chatResizeInitialized=!0,Object(l.qb)()>window.clientHeight()&&Object(l.hd)(0)),Promise.resolve(e)}var An=Object(w.a)((function(e,t,n,o){return Object(r.b)(O.a,{act:"a_join_chat",chat_id:e,hash:t,invite_link:n,write_hash:o.writeHash}).then(e=>{var t=H(e,4),n=t[0],r=t[1],a=t[2],i=t[3];return a.forEach(e=>Object(h.a)(o,e)),o.tabs[n]=r,Object(I.g)(o,r,!1,De.bind(null,n),sn.bind(null,o)),o.admins=extend(o.admins,i),[n]})}));function Mn(e,t){return Object(r.b)(O.a,{act:"a_get_link",gid:t.gid,chat_id:e})}var Sn=Object(w.a)((function(e,t){var n=t.tabs[e];return Object(r.b)(O.a,{act:"a_reset_link",chat_id:e-2e9,write_hash:t.writeHash,gid:t.gid}).then(e=>(n.inviteLink=e[0],e))}));function Ln(e){return X({invite_chat_id:null,invite_hash:null,mr:null,invite_link:null}),e.invitation=void 0,Promise.resolve(e)}function Bn(e,t){var n=Object(c.a)([e].concat(t.select(u.b))).slice(0,500);t.update(u.b,n)}function Rn(e){e.update(u.b,[])}function Nn(e,t){var n=t.select(u.b).filter(t=>t!==e);return t.update(u.b,n),n}function Un(e,t,n){var r=n.tabs[t],o=Object(p.m)(n,t,e);return Object(p.A)(r)&&!o.kludges.source_act&&(r.pinned=o),Promise.resolve(n)}function Fn(e,t){return t.tabs[e].pinned=null,Promise.resolve(t)}var Wn=Object(w.a)((function(e,t,n){var o=n.tabs[t];return Object(p.A)(o)?Object(r.b)(O.a,{act:"a_pin_message",msgid:e,chat:t,gid:n.gid,hash:n.tabs[t].hash}).then(e=>{var r=H(e,1)[0];return n.tabs[t]=Object.assign({},o,r),n}):Promise.resolve(n)})),Kn=Object(w.a)((function(e,t){var n=t.tabs[e];return Object(p.A)(n)?Object(r.b)(O.a,{act:"a_unpin_message",chat:e,gid:t.gid,hash:t.tabs[e].hash}).then(r=>{var o=H(r,1)[0];return t.tabs[e]=Object.assign({},n,o),t}):Promise.resolve(t)})),Hn=Object(w.a)((function(e,t){var n=t.tabs[e];return Object(r.b)(O.a,{act:"a_get_pinned_message",chat:e,gid:t.gid,hash:t.tabs[e].hash}).then(e=>{var r=H(e,1)[0];return n.pinned=r||null,t})})),qn=Object(w.a)((function(e,t,n){var o=n.tabs[e];return Object(r.b)(O.a,{act:"a_get_message_local_id",chat:e,chat_local_id:t,hash:o.hash})})),Vn=Object(w.a)((function(e,t){var n=t.tabs[e];return n.membersLoaded?Promise.resolve(t):Object(r.b)(O.a,{act:"a_get_chat_members",chat:e,gid:t.gid,hash:n.hash}).then(e=>{var r=H(e,1),o=H(r[0],3),a=o[0],i=o[1],s=o[2];return n.memberIds=a,n.adminIds=i,s.forEach(e=>Object(h.a)(t,e)),n.membersLoaded=!0,t})})),zn=Object(w.a)((function(e,t){return Promise.all([Vn(e,t),function(e,t){var n=t.tabs[e];return Object(r.b)(O.a,{act:"a_get_chat_details",chat:e,gid:t.gid,hash:n.hash}).then(e=>{var r=H(e,1)[0];return n.photoGrid=r.grid,n.photoLarge=r.photo,n.membersLastSeen=r.lastSeen||null,n.inviters=r.inviters,n.caccess=r.caccess,n.invitedByMe=r.invitedByMe||[],n.inviteLinks=r.links||null,n.invitedByMessageRequest=r.invitedByMessageRequest,n.serverSettings=r.serverSettings||null,n.isDefaultPhotoOwner=r.isDefaultPhotoOwner||null,n.owner=r.owner||null,n.allowedUpdateFlags=r.allowedUpdateFlags,n.canInvite=r.canInvite||null,n.notifications=r.notifications,t})}(e,t),Object(k.a)(t,e)||Promise.resolve()]).then(()=>t)})),Gn=Object(w.a)((function(e,t,n){var o=n.tabs[e];return Object(r.b)(O.a,{act:"a_update_flags",chat:e,gid:n.gid,hash:o.hash,flags:t}).then(e=>(n.onUpdate&&n.onUpdate(),e))})),$n=Object(w.a)((function(e,t){var n=t.tabs[e];return Object(r.b)("al_page.php",{act:"owner_photo_remove",oid:e,gid:t.gid,hash:n.photoHash}).then(()=>(n.photo=null,n.photoLarge=null,t.onUpdate&&t.onUpdate(),t))}));function Jn(e,t,n,r){var o=r.tabs[e];return o.adminIds=n?[].concat(o.adminIds,t).filter((e,t,n)=>n.indexOf(e)===t):o.adminIds.filter(e=>e!==t),Promise.resolve(r)}var Yn=Object(w.a)((function(e,t,n,o){var a=o.tabs[e];return Object(r.b)(O.a,{act:"a_toggle_admin",chat:e,hash:a.hash,mid:t,is_admin:+n,gid:o.gid}).then(()=>Jn(e,t,n,o))}));function Xn(e,t,n,r){var o=Object(p.m)(e,n,t).userId;return Object(h.c)(r,o)?Promise.resolve(r):It({[n]:[o]},r)}function Qn(){ajax.post("al_im.php",{act:"a_hide_promo_tooltip"})}function Zn(){cur.videoAutoplayScrollHandler&&cur.videoAutoplayScrollHandler()}var er=Object(w.a)((function(e,t){return t.tabs[e].top_banner=void 0,Object(r.b)(O.a,{act:"a_hide_banner",peer_id:e,gid:t.gid,hash:t.tabs[e].hash}).then(()=>t)})),tr=Object(w.a)((function(e,t,n){n.tabs[e].top_banner=void 0;var o=n.tabs[e];return Object(r.b)(O.a,{act:"a_callback_banner",peer_id:e,callback_data:t,hash:o.hash}).then(()=>n)}));function nr(e,t){return Object(r.b)(O.a,{act:"a_load_banner",peer_id:e,gid:t.gid}).then(n=>{var r=H(n,1)[0];return t.tabs[e].top_banner=r,t})}function rr(e,t,n){return n.tabs[e].keyboard=t&&t.buttons?t:null,ar(e,!1,!0,n)}function or(e,t){return rr(e,null,t)}function ar(e,t,n,r){return((r.tabs||{})[e]||{}).keyboard&&(r.tabs[e].keyboard.hide=t,n&&ls.set("is_keyboards_hide",Object.assign(ls.get("is_keyboards_hide")||{},{[e]:t}))),Promise.resolve(r)}var ir=Object(w.a)((function(e,t){var n=t.tabs[e];return Object(r.b)(O.a,{act:"a_get_keyboard",peer_id:e,hash:n.hash}).then(n=>{var r=H(n,1)[0];return rr(e,r,t)})}));function sr(e,t,n,o){var a=o.tabs[e];return a.caccess[t]=n,Object(r.b)(O.a,{act:"a_change_caccess",peer_id:e,member_id:t,hash:a.hash,access:n?1:0,gid:o.gid}).then(()=>o).catch(e=>{throw a.caccess[t]=!n,e})}var cr=Object(w.a)((function(e,t){var n=t.tabs[t.peer];return Object(r.b)(O.a,{act:"a_delete_template",template_id:e,hash:n.hash,gid:t.gid,peer_id:t.peer}).then(()=>{var n=t.templates.find(t=>t.id===e);return n&&(n.deleted=!0),t})}));function ur(e,t,n){var o=n.tabs[n.peer];return Object(r.b)(O.a,{act:"a_create_template",hash:o.hash,gid:n.gid,peer_id:n.peer,name:e,text:t}).then(e=>(n.templates.unshift(e[0]),n))}function lr(e,t,n,o){var a=o.tabs[o.peer];return Object(r.b)(O.a,{act:"a_update_template",template_id:e,hash:a.hash,gid:o.gid,peer_id:o.peer,group_id:o.gid,name:t,text:n}).then(t=>{var n=o.templates.find(t=>t.id===e);return n&&Object.assign(n,t[0]),o})}function _r(e,t){if(Object(l.Tb)(t,e)){var n=Object(p.s)(t,e);n.allShown=!1,n.lastReset=Date.now()}return t}function dr(e,t){var n=e.updateType,r=e.updateArg,o=0;return n===a.H&&(o=r===a.O?1:-1),n===a.D&&(o=-1),t.dialog_tab_cts[_.k]+=o,Promise.resolve(t)}function pr(e,t,n){if(Object(l.Tb)(n,e.peerId)){var r=Object(p.s)(n,e.peerId);r.history=Object(l.gd)(r.history,t,e.messageId)}return Promise.resolve(n)}function fr(e,t){return Promise.resolve().then(()=>{if(Object(l.Tb)(t,e)){var n=Object(p.s)(t,e);Object.values(n.msgs).forEach(e=>{var t=Object(p.W)(e);Object(f.i)(t)&&!y.g.has(t.messageId)&&y.g.add(t)})}return Promise.resolve(t)})}var hr=Object(w.a)((function(e,t,n,o,a){return Object(r.b)(O.a,{act:"a_peer_profile_toggle_tag",hash:a.manage_tags_hash,group_id:a.gid,peer_id:o,tag_id:e,action:n}).then(n=>{a.tabs[o].peer_tags=n[0];var r=a.peer_profile_tags.findIndex(t=>t.id===e);return t?a.peer_profile_tags[r].uses++:!t&&a.peer_profile_tags[r].uses>0&&a.peer_profile_tags[r].uses--,a})})),mr=Object(w.a)((function(e,t){return Object(r.b)(O.a,{act:"a_peer_profile_manage_tags",hash:t.manage_tags_hash,group_id:t.gid,tags:JSON.stringify(e)}).then(e=>(t.peer_profile_tags=e[0].tags,t))})),br=Object(w.a)((function(e,t,n){return Object(r.b)(O.a,{act:"a_peer_profile_save_note",hash:n.manage_tags_hash,group_id:n.gid,peer_id:e,note:t}).then(()=>(n.tabs[e].peer_profile_info.note=t,n))})),gr=Object(w.a)((e,t)=>Object(r.b)(O.a,{act:"a_reload_message",msg_id:e,hash:t.writeHash}).then(e=>H(e,1)[0])),vr=Object(w.a)((e,t)=>{var n=t.tabs[e];return Object(r.b)(O.a,{act:"a_get_active_call_data",peer_id:n.peerId,hash:n.hash}).then(e=>{var r=H(e,1)[0];return r?n.callInProgress=r:n.callInProgress&&delete n.callInProgress,t})}),yr=(e,t)=>{var n=t.tabs[e];return n.callInProgress&&delete n.callInProgress,Promise.resolve(t)};function Or(e,t){return t.peer_tags_filter&&t.peer_tags_filter.ids!==e&&(t.dialog_tabs[_.m]=[],t.dialog_tabs_all[_.m]=!1),t.peer_tags_filter={ids:e,mask:Object(x.b)(t.peer_profile_tags,e)},Promise.resolve(t)}function wr(e,t,n,r){var o=Object(p.s)(r,e);if(o){var a,i,s=o.peer_tags?o.peer_tags.ids:[];if(o.peer_tags={ids:t,mask:n},t.length!==s.length)t.length>s.length?(a=!0,i=t.filter(e=>!s.includes(e))[0]):(a=!1,i=s.filter(e=>!t.includes(e))[0]),r=function(e,t,n){if(!n.peer_profile_tags)return n;var r=n.peer_profile_tags.find(t=>t.id===e);r&&(t?r.uses++:r.uses>0&&r.uses--);return n}(i,a,r)}return Promise.resolve(r)}function Er(e){return e.dialog_tabs[_.m]=e.dialog_tabs[_.g].map(t=>Object(p.s)(e,t)).filter(t=>Object(x.a)(e,t)).map(e=>e.peerId),Promise.resolve(e)}function jr(e){return Object(r.b)(O.a,{act:"a_get_peer_profile_tags",group_id:e.gid}).then(t=>(e.peer_profile_tags=t[0].tags,e.active_tab===_.m?(e.peer_tags_filter.ids=e.peer_profile_tags.filter(t=>e.peer_tags_filter.ids.includes(t.id)).map(e=>e.id),e.peer_tags_filter.mask=Object(x.b)(e.peer_profile_tags,e.peer_tags_filter.ids),Object(o.b)({tab:_.m,tags:e.peer_tags_filter.mask}),Er(e)):e))}},vhPU:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},viRO:function(e,t,n){"use strict";var r=n("15HP"),o=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,c=60112;t.Suspense=60113;var u=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var _=Symbol.for;o=_("react.element"),a=_("react.portal"),t.Fragment=_("react.fragment"),t.StrictMode=_("react.strict_mode"),t.Profiler=_("react.profiler"),i=_("react.provider"),s=_("react.context"),c=_("react.forward_ref"),t.Suspense=_("react.suspense"),u=_("react.memo"),l=_("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function m(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||f}function b(){}function g(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=m.prototype;var v=g.prototype=new b;v.constructor=g,r(v,m.prototype),v.isPureReactComponent=!0;var y={current:null},O=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)O.call(t,r)&&!w.hasOwnProperty(r)&&(a[r]=t[r]);var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];a.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===a[r]&&(a[r]=c[r]);return{$$typeof:o,type:e,key:i,ref:s,props:a,_owner:y.current}}function j(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var D=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case a:c=!0}}if(c)return i=i(c=e),e=""===r?"."+P(c,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(D,"$&/")+"/"),k(i,t,n,"",(function(e){return e}))):null!=i&&(j(i)&&(i=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(D,"$&/")+"/")+e)),t.push(i)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=r+P(s=e[u],u);c+=k(s,t,n,l,i)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),u=0;!(s=e.next()).done;)c+=k(s=s.value,t,n,l=r+P(s,u++),i);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function C(e,t,n){if(null==e)return e;var r=[],o=0;return k(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function I(){var e=x.current;if(null===e)throw Error(p(321));return e}var A={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:y,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error(p(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var a=r({},e.props),i=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=y.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)O.call(t,l)&&!w.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){u=Array(l);for(var _=0;_<l;_++)u[_]=arguments[_+2];a.children=u}return{$$typeof:o,type:e.type,key:i,ref:s,props:a,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.2"},vkmG:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));n("HEwt"),n("a1Th"),n("Btvt"),n("rGqo"),n("rE2o"),n("ioFf"),n("Oyvg"),n("pIFo");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function i(e){return a.reduce((e,t)=>{var n=r(t,2),o=n[0],a=n[1];return e.replace(new RegExp(a,"ig"),o)},e)}function s(e){return i(e).replace(/[\u00A0-\u9999<>\&]/gim,e=>`&#${e.charCodeAt(0)};`)}function c(e){return a.reduce((e,t)=>{var n=r(t,2),o=n[0],a=n[1];return e.replace(new RegExp(o,"ig"),a)},e).replace(/&#(\d+);/g,(e,t)=>String.fromCodePoint(t))}},w2a5:function(e,t,n){var r=n("aCFj"),o=n("ne8i"),a=n("d/Gc");e.exports=function(e){return function(t,n,i){var s,c=r(t),u=o(c.length),l=a(i,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},wNya:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r,o=n("YvCB");!function(e){e.URL="url",e.PLAYBACK_RATE="playback_rate",e.DELAY="delay",e.SEEK="seek",e.PAUSE="pause",e.PLAY="play",e.VOL_SET="vol_set",e.VOL_UP="vol_up",e.VOL_DOWN="vol_down"}(r||(r={}));var a=function(){function e(e){this.impl=e,this.taskIDCounter=1,this.tasks=[],this.taskInProgress=null,this.taskAbort=null}return e.prototype.newTask=function(e,t){var n,r,o=new Promise((function(e,t){n=e,r=t}));return this.tasks.push({name:e,fn:function(){return t().then(n).catch(r)},id:e+"_"+this.taskIDCounter++}),this.doTasks(),o},e.prototype.clearAllTasks=function(){this.taskAbort=this.taskInProgress,this.taskInProgress=null,this.tasks=[]},e.prototype.clearTask=function(e){this.tasks=this.tasks||[],this.tasks=this.tasks.filter((function(t){return t.name!==e}))},e.prototype.doTasks=function(){var e=this;if(!this.taskInProgress){var t=this.tasks.shift();t&&(this.taskInProgress=t.id,this.ensureImplReady().then((function(){return t.fn()})).then((function(){e.taskAbort!==t.id?(e.taskInProgress=null,e.doTasks()):e.taskAbort=null})))}},e.prototype.ensureImplReady=function(){var e=this;return new Promise((function(t){return e.impl.onReady(t)}))},e.prototype.delay=function(e){return this.newTask(r.DELAY,(function(){return new Promise((function(t){return Object(o.a)(t,e)}))}))},e.prototype.setUrl=function(e){var t=this;return this.newTask(r.URL,(function(){return new Promise((function(n){return t.impl.setUrl(e,n)}))}))},e.prototype.seekImmediate=function(e){this.impl.seek(e)},e.prototype.seek=function(e){var t=this;return this.clearTask(r.SEEK),this.newTask(r.SEEK,(function(){return new Promise((function(n){t.seekImmediate(e),n()}))}))},e.prototype.pause=function(){var e=this;return this.newTask(r.PAUSE,(function(){return new Promise((function(t){e.impl.pause(),t()}))}))},e.prototype.play=function(){var e=this;return window.browser.safari&&this.impl.play(),this.newTask(r.PLAY,(function(){return new Promise((function(t,n){e.impl.play().then(t).catch(n)}))}))},e.prototype.setVolume=function(e,t,n){var o=this;if(void 0===n&&(n=null),t){var a=e?r.VOL_UP:r.VOL_DOWN;return this.newTask(a,(function(){return new Promise((function(t){return o.impl.fadeVolume(e,n,(function(){return t()}))}))}))}return this.newTask(r.VOL_SET,(function(){return new Promise((function(t){o.impl.setVolume(e),t()}))}))},e.prototype.updatePlaybackRate=function(e){var t=this;return this.newTask(r.PLAYBACK_RATE,(function(){return new Promise((function(n){t.impl.setPlaybackRate(e),n()}))}))},e}()},wQFj:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));n("91GP"),n("ioFf"),n("rGqo"),n("Btvt");var r=n("q1tI"),o=(n("17x9"),n("xt6h"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class s extends r.Component{constructor(){super(...arguments),this.onChange=e=>{this.props.onChange&&this.props.onChange(this.props.name,e.target.checked,e)}}render(){var e=this.props,t=e.children,n=e.checked,s=e.disabled,c=e.indeterminate,u=e.name,l=e.id,_=i(e,["children","checked","disabled","indeterminate","name","id"]),d=Object(o.a)("CheckBox",_.className,{"CheckBox--disabled":s,"CheckBox--indeterminate":c});return r.createElement("label",{className:d},r.createElement("input",a({},_,{className:"CheckBox__input",id:l,type:"checkbox",checked:n,name:u,disabled:s,onChange:this.onChange})),r.createElement("span",{className:"CheckBox__indicator","aria-hidden":!0}),t)}}},"wSs/":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return d}));n("Vd3H"),n("rGqo"),n("Btvt"),n("pIFo");var r=n("rHUl"),o=n("MhhX"),a=n("P13b"),i=n("rudk"),s=n("aong");function c(e,t){t=Object(r.W)(t);var n=Object(s.s)(e),i=vk.id==t.peerId&&!n.gid,c=n.pinMessageEditSettings,u=c.messageEditAllowedTime,l=c.pinEditDelayTime,_=c.isPinEditEnabled,d=Date.now()/1e3,p=Object(r.o)(n),f=p&&p.messageId===t.messageId,h=t.kludges&&t.kludges.pinned_at,m=d-t.date>u,b=h&&d-h<l;if(333==t.peerId)return!1;if(!i&&!Object(o.r)(t))return!1;if(Object(o.s)(t))return!1;if(f&&m&&_){if(b)return!1}else if(m)return!1;return!(Object(o.k)(t)||Object(o.t)(t)||Object(o.g)(t)||Object(o.l)(t)||Object(o.p)(t)||Object(o.v)(t)||Object(o.h)(t))&&!Object(a.Jb)(e,t.peerId,t.messageId)}function u(e){var t=document.createElement("div");return e=e.replace(/\[((id|club)\d+)\|(.+?)]/g,(function(){var e=arguments.length<=1?void 0:arguments[1],t=arguments.length<=3?void 0:arguments[3];return/^\@/.test(t)?t:`@${e} (${t})`})),t.innerHTML=e,Emoji.val(t)}function l(e,t){return+(t&&t.msgs?Object.keys(t.msgs):[]).filter(e=>e>0).sort((e,t)=>t-e).find(n=>c(e,t.msgs[n]))||null}function _(e,t,n){var r=Object(i.b)(t.kludges,t.messageId),o=n.dData.attaches;if(u(t.text)!==n.dData.txt||r.length!==o.length)return!0;for(var a=r.length;a--;){var s=r[a],c=o[a];if(s.id!=c.id||s.type!=c.type||"poll"==s.type&&c.object&&c.object.poll_is_edited)return!0}return!1}function d(e,t,n,r,o,i){t.origText=n,t.text=Object(a.ad)(clean(n)).replace(/\n/gi,"<br>"),t.attaches=r,t.kludges.emoji=1,t.local=1,t.share_url=o,t.cancelled_shares=i,t.update_time=Math.floor(Date.now()/1e3),e.get().tabs[t.peerId].msgs[t.messageId]=t}},wVf2:function(e,t,n){"use strict";function r(){return window.vk.loginDomain}n.d(t,"a",(function(){return r}))},wZQE:function(e,t,n){e.exports=function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=function(e,t,n,r,o){if(e<7&&t<7)return!1;if(e>=n-7&&t<7)return!1;if(e<7&&t>=n-7)return!1;if(o){var a=9;n<=25&&a--;var i=(n-14-a)/2-1;return n<=25&&i++,!(e>7+i&&e<n-7-i-1&&t>7+i&&t<n-7-i-1)&&0<=e&&e<n&&0<=t&&t<n&&r[t][e]}return r[t]&&r[t][e]},n=function(e,n,r,o,a){return void 0===a&&(a=!0),{l:t(e-1,n,r,o,a),r:t(e+1,n,r,o,a),t:t(e,n-1,r,o,a),b:t(e,n+1,r,o,a),current:t(e,n,r,o,a)}},r=function(){function e(t,n,r,o){if(this.version=t,this.errorCorrectionLevel=n,this.mask=o,this.modules=[],this.isFunction=[],t<e.MIN_VERSION||t>e.MAX_VERSION)throw"Version value out of range";if(o<-1||o>7)throw"Mask value out of range";this.size=4*t+17;for(var a=[],i=0;i<this.size;i++)a.push(!1);for(i=0;i<this.size;i++)this.modules.push(a.slice()),this.isFunction.push(a.slice());this.drawFunctionPatterns();var s=this.addEccAndInterleave(r);if(this.drawCodewords(s),-1==o){var c=1e9;for(i=0;i<8;i++){this.applyMask(i),this.drawFormatBits(i);var u=this.getPenaltyScore();u<c&&(o=i,c=u),this.applyMask(i)}}if(o<0||o>7)throw"Assertion error";this.mask=o,this.applyMask(o),this.drawFormatBits(o),this.isFunction=[]}return e.encodeText=function(t,n){var r=a.makeSegments(t);return e.encodeSegments(r,n)},e.encodeBinary=function(t,n){var r=a.makeBytes(t);return e.encodeSegments([r],n)},e.encodeSegments=function(t,n,r,o,i,c){if(void 0===r&&(r=1),void 0===o&&(o=40),void 0===i&&(i=-1),void 0===c&&(c=!0),!(e.MIN_VERSION<=r&&r<=o&&o<=e.MAX_VERSION)||i<-1||i>7)throw"Invalid value";var u,l;for(u=r;;u++){var _=8*e.getNumDataCodewords(u,n),d=a.getTotalBits(t,u);if(d<=_){l=d;break}if(u>=o)throw"Data too long"}for(var p=0,f=[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH];p<f.length;p++){var h=f[p];c&&l<=8*e.getNumDataCodewords(u,h)&&(n=h)}for(var m=new s,b=0,g=t;b<g.length;b++){var v=g[b];m.appendBits(v.mode.modeBits,4),m.appendBits(v.numChars,v.mode.numCharCountBits(u));for(var y=0,O=v.getData();y<O.length;y++){var w=O[y];m.array.push(w)}}if(m.array.length!=l)throw"Assertion error";var E=8*e.getNumDataCodewords(u,n);if(m.array.length>E)throw"Assertion error";if(m.appendBits(0,Math.min(4,E-m.array.length)),m.appendBits(0,(8-m.array.length%8)%8),m.array.length%8!=0)throw"Assertion error";for(var j=236;m.array.length<E;j^=253)m.appendBits(j,8);for(var D=[];8*D.length<m.array.length;)D.push(0);return m.array.forEach((function(e,t){return D[t>>>3]|=e<<7-(7&t)})),new e(u,n,D,i)},e.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},e.prototype.drawCanvas=function(e,t,n){if(e<=0||t<0)throw"Value out of range";var r=(this.size+2*t)*e;n.width=r,n.height=r;for(var o=n.getContext("2d"),a=-t;a<this.size+t;a++)for(var i=-t;i<this.size+t;i++)o.fillStyle=this.getModule(i,a)?"#000000":"#FFFFFF",o.fillRect((i+t)*e,(a+t)*e,e,e)},e.prototype.toSvgString=function(e){if(e<0)throw"Border must be non-negative";for(var t=[],n=0;n<this.size;n++)for(var r=0;r<this.size;r++)this.getModule(r,n)&&t.push("M"+(r+e)+","+(n+e)+"h1v1h-1z");return'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+(this.size+2*e)+" "+(this.size+2*e)+'" stroke="none">\n\t<rect width="100%" height="100%" fill="#FFFFFF"/>\n\t<path d="'+t.join(" ")+'" fill="#000000"/>\n</svg>\n'},e.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);var t=this.getAlignmentPatternPositions(),n=t.length;for(e=0;e<n;e++)for(var r=0;r<n;r++)0==e&&0==r||0==e&&r==n-1||e==n-1&&0==r||this.drawAlignmentPattern(t[e],t[r]);this.drawFormatBits(0),this.drawVersion()},e.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,n=t,r=0;r<10;r++)n=n<<1^1335*(n>>>9);var a=21522^(t<<10|n);if(a>>>15!=0)throw"Assertion error";for(r=0;r<=5;r++)this.setFunctionModule(8,r,o(a,r));for(this.setFunctionModule(8,7,o(a,6)),this.setFunctionModule(8,8,o(a,7)),this.setFunctionModule(7,8,o(a,8)),r=9;r<15;r++)this.setFunctionModule(14-r,8,o(a,r));for(r=0;r<8;r++)this.setFunctionModule(this.size-1-r,8,o(a,r));for(r=8;r<15;r++)this.setFunctionModule(8,this.size-15+r,o(a,r));this.setFunctionModule(8,this.size-8,!0)},e.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var n=this.version<<12|e;if(n>>>18!=0)throw"Assertion error";for(t=0;t<18;t++){var r=o(n,t),a=this.size-11+t%3,i=Math.floor(t/3);this.setFunctionModule(a,i,r),this.setFunctionModule(i,a,r)}}},e.prototype.drawFinderPattern=function(e,t){for(var n=-4;n<=4;n++)for(var r=-4;r<=4;r++){var o=Math.max(Math.abs(r),Math.abs(n)),a=e+r,i=t+n;0<=a&&a<this.size&&0<=i&&i<this.size&&this.setFunctionModule(a,i,2!=o&&4!=o)}},e.prototype.drawAlignmentPattern=function(e,t){for(var n=-2;n<=2;n++)for(var r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))},e.prototype.setFunctionModule=function(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0},e.prototype.addEccAndInterleave=function(t){var n=this.version,r=this.errorCorrectionLevel;if(t.length!=e.getNumDataCodewords(n,r))throw"Invalid argument";for(var o=e.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],a=e.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],s=Math.floor(e.getNumRawDataModules(n)/8),c=o-s%o,u=Math.floor(s/o),l=[],_=new i(a),d=0,p=0;d<o;d++){var f=t.slice(p,p+u-a+(d<c?0:1));p+=f.length;var h=_.getRemainder(f);d<c&&f.push(0),l.push(f.concat(h))}var m=[];for(d=0;d<l[0].length;d++)for(var b=0;b<l.length;b++)(d!=u-a||b>=c)&&m.push(l[b][d]);if(m.length!=s)throw"Assertion error";return m},e.prototype.drawCodewords=function(t){if(t.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw"Invalid argument";for(var n=0,r=this.size-1;r>=1;r-=2){6==r&&(r=5);for(var a=0;a<this.size;a++)for(var i=0;i<2;i++){var s=r-i,c=0==(r+1&2)?this.size-1-a:a;!this.isFunction[c][s]&&n<8*t.length&&(this.modules[c][s]=o(t[n>>>3],7-(7&n)),n++)}}if(n!=8*t.length)throw"Assertion error"},e.prototype.applyMask=function(e){if(e<0||e>7)throw"Mask value out of range";for(var t=0;t<this.size;t++)for(var n=0;n<this.size;n++){var r=void 0;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw"Assertion error"}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}},e.prototype.getPenaltyScore=function(){for(var t=0,n=0;n<this.size;n++){for(var r=[0,0,0,0,0,0,0],o=!1,a=0,i=0;i<this.size;i++)this.modules[n][i]==o?5==++a?t+=e.PENALTY_N1:a>5&&t++:(e.addRunToHistory(a,r),!o&&e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3),o=this.modules[n][i],a=1);e.addRunToHistory(a,r),o&&e.addRunToHistory(0,r),e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3)}for(i=0;i<this.size;i++){r=[0,0,0,0,0,0,0],o=!1;var s=0;for(n=0;n<this.size;n++)this.modules[n][i]==o?5==++s?t+=e.PENALTY_N1:s>5&&t++:(e.addRunToHistory(s,r),!o&&e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3),o=this.modules[n][i],s=1);e.addRunToHistory(s,r),o&&e.addRunToHistory(0,r),e.hasFinderLikePattern(r)&&(t+=e.PENALTY_N3)}for(n=0;n<this.size-1;n++)for(i=0;i<this.size-1;i++)(o=this.modules[n][i])==this.modules[n][i+1]&&o==this.modules[n+1][i]&&o==this.modules[n+1][i+1]&&(t+=e.PENALTY_N2);for(var c=0,u=0,l=this.modules;u<l.length;u++)for(var _=0,d=l[u];_<d.length;_++)(o=d[_])&&c++;var p=this.size*this.size;return t+=(Math.ceil(Math.abs(20*c-10*p)/p)-1)*e.PENALTY_N4},e.prototype.getAlignmentPatternPositions=function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((this.size-13)/(2*e-2)),n=[6],r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n},e.getNumRawDataModules=function(t){if(t<e.MIN_VERSION||t>e.MAX_VERSION)throw"Version number out of range";var n=(16*t+128)*t+64;if(t>=2){var r=Math.floor(t/7)+2;n-=(25*r-10)*r-55,t>=7&&(n-=36)}return n},e.getNumDataCodewords=function(t,n){return Math.floor(e.getNumRawDataModules(t)/8)-e.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t]*e.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t]},e.addRunToHistory=function(e,t){t.pop(),t.unshift(e)},e.hasFinderLikePattern=function(e){var t=e[1];return t>0&&e[2]==t&&e[4]==t&&e[5]==t&&e[3]==3*t&&Math.max(e[0],e[6])>=4*t},e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e}();function o(e,t){return 0!=(e>>>t&1)}var a=function(){function e(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw"Invalid argument";this.bitData=n.slice()}return e.makeBytes=function(t){for(var n=new s,r=0,o=t;r<o.length;r++){var a=o[r];n.appendBits(a,8)}return new e(e.Mode.BYTE,t.length,n.array)},e.makeNumeric=function(t){if(!this.NUMERIC_REGEX.test(t))throw"String contains non-numeric characters";for(var n=new s,r=0;r<t.length;){var o=Math.min(t.length-r,3);n.appendBits(parseInt(t.substr(r,o),10),3*o+1),r+=o}return new e(e.Mode.NUMERIC,t.length,n.array)},e.makeAlphanumeric=function(t){if(!this.ALPHANUMERIC_REGEX.test(t))throw"String contains unencodable characters in alphanumeric mode";var n,r=new s;for(n=0;n+2<=t.length;n+=2){var o=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));o+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),r.appendBits(o,11)}return n<t.length&&r.appendBits(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6),new e(e.Mode.ALPHANUMERIC,t.length,r.array)},e.makeSegments=function(t){return""==t?[]:this.NUMERIC_REGEX.test(t)?[e.makeNumeric(t)]:this.ALPHANUMERIC_REGEX.test(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]},e.makeEci=function(t){var n=new s;if(t<0)throw"ECI assignment value out of range";if(t<128)n.appendBits(t,8);else if(t<16384)n.appendBits(2,2),n.appendBits(t,14);else{if(!(t<1e6))throw"ECI assignment value out of range";n.appendBits(6,3),n.appendBits(t,21)}return new e(e.Mode.ECI,0,n.array)},e.prototype.getData=function(){return this.bitData.slice()},e.getTotalBits=function(e,t){for(var n=0,r=0,o=e;r<o.length;r++){var a=o[r],i=a.mode.numCharCountBits(t);if(a.numChars>=1<<i)return 1/0;n+=4+i+a.bitData.length}return n},e.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t},e.NUMERIC_REGEX=/^[0-9]*$/,e.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,e.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e}(),i=function(){function e(t){if(this.coefficients=[],t<1||t>255)throw"Degree out of range";for(var n=this.coefficients,r=0;r<t-1;r++)n.push(0);n.push(1);var o=1;for(r=0;r<t;r++){for(var a=0;a<n.length;a++)n[a]=e.multiply(n[a],o),a+1<n.length&&(n[a]^=n[a+1]);o=e.multiply(o,2)}}return e.prototype.getRemainder=function(t){for(var n=this.coefficients.map((function(e){return 0})),r=function(t){var r=t^n.shift();n.push(0),o.coefficients.forEach((function(t,o){return n[o]^=e.multiply(t,r)}))},o=this,a=0,i=t;a<i.length;a++)r(i[a]);return n},e.multiply=function(e,t){if(e>>>8!=0||t>>>8!=0)throw"Byte out of range";for(var n=0,r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;if(n>>>8!=0)throw"Assertion error";return n},e}(),s=function(){function e(){this.array=[]}return e.prototype.appendBits=function(e,t){if(t<0||t>31||e>>>t!=0)throw"Value out of range";for(var n=t-1;n>=0;n--)this.array.push(e>>>n&1)},e}();return function(e){var t=function(){function e(e,t){this.ordinal=e,this.formatBits=t}return e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),e}();e.Ecc=t}(r||(r={})),function(e){var t=function(){function e(e,t){this.modeBits=e,this.numBitsCharCount=t}return e.prototype.numCharCountBits=function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]},e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),e}();e.Mode=t}(a||(a={})),{createQR:function(o,i,s,c){if("string"!=typeof o)throw new TypeError("Enter text for encoding");var u=e(e(e({},"object"==typeof i&&null!==i?i:{}),"object"==typeof c&&null!==c?c:{}),{qrSize:"object"==typeof i&&null!==i&&"number"==typeof i.qrSize?i.qrSize:i,className:"object"==typeof i&&null!==i&&"string"==typeof i.className?i.className:s}),l=[r.Ecc.LOW,r.Ecc.MEDIUM,r.Ecc.QUARTILE,r.Ecc.HIGH],_={qrSize:"number"==typeof u.qrSize?u.qrSize:128,className:"string"==typeof u.className?u.className:s||"",isShowLogo:!!u.isShowLogo||!1,isShowBackground:!!u.isShowBackground||!1,foregroundColor:"string"==typeof u.foregroundColor?u.foregroundColor:"#000000",backgroundColor:"string"==typeof u.backgroundColor?u.backgroundColor:"#ffffff",logoColor:"string"==typeof u.logoColor?u.logoColor:"#4680c2",suffix:u.suffix?u.suffix.toString():"0",logoData:"string"==typeof u.logoData?u.logoData:null,ecc:"number"==typeof u.ecc&&l[u.ecc]?u.ecc:3},d=a.makeSegments(o);return function(e,r){if("number"!=typeof r.qrSize)throw new Error("Size should be a number");if("string"!=typeof r.className)throw new Error("Classname should be a string");for(var o=84.7776815,a=[],i=0,s=0,c=0,u=0,l=0;l<e.size;l++){i=0;for(var _=0;_<e.size;_++){c=_+i,i+=96,u=l+s;var d,p=n(_,l,e.size,e.modules,r.isShowLogo),f="";p.current?(f=!(f=f||p.l||p.r||p.t||p.b?"":"empty")&&p.l&&p.r||p.t&&p.b?"rect":"")||(f+=p.l?"l":p.r?"r":"",(f+=p.t?"t":p.b?"b":"")||(f="empty")):f=!(f=!(f=!(f=!f&&p.l&&p.t&&t(_-1,l-1,e.size,e.modules,r.isShowLogo)?"n_lt":"")&&p.l&&p.b&&t(_-1,l+1,e.size,e.modules,r.isShowLogo)?"n_lb":"")&&p.r&&p.t&&t(_+1,l-1,e.size,e.modules,r.isShowLogo)?"n_rt":"")&&p.r&&p.b&&t(_+1,l+1,e.size,e.modules,r.isShowLogo)?"n_rb":"",f&&(d='<use xlink:href="#'+f+"-"+r.suffix+'"/>',a.push('<g transform="translate('+c+","+u+')">'+d+"</g>"))}s+=96}var h="",m=(e.size-21)/2*96+672-10;e.size<=25&&(h="scale(0.85)",m+=50);var b=96*(e.size-7);a.push('<use fill-rule="evenodd" transform="translate(0,0)" xlink:href="#point-'+r.suffix+'"/>'),a.push('<use fill-rule="evenodd" transform="translate('+b+',0)" xlink:href="#point-'+r.suffix+'"/>'),a.push('<use fill-rule="evenodd" transform="translate(0,'+b+')" xlink:href="#point-'+r.suffix+'"/>'),r.isShowLogo&&(r.logoData?a.push('\n        <image \n          preserveAspectRatio="xMidYMid slice" clip-path="url(#logo-mask-'+r.suffix+')"\n          style="width: 750px; height: 750px;" width="750" height="750" \n          transform="translate('+m+","+m+") "+h+'" \n          xlink:href="'+r.logoData+'" \n        />\n      '):a.push('\n        <use style="width: 750px; height: 750px;" width="750" height="750" \n          fill="none" \n          fill-rule="evenodd" \n          transform="translate('+m+","+m+") "+h+'" xlink:href="#vk_logo-'+r.suffix+'"\n        />\n      '));var g=99*e.size,v="",y="translate(0,0)";if(r.isShowBackground){var O=(r.qrSize-40)/r.qrSize,w=g/r.qrSize*21;v='\n      <rect \n        x="0" \n        width="'+g+'" \n        height="'+g+'" \n        rx="'+Math.ceil(g/(r.qrSize/36))+'" \n        fill="'+r.backgroundColor+'"\n      />',y="translate("+w+", "+w+") scale("+O+")"}var E="M0,0 L66,0 C"+o+",-3.44940413e-15 100,15.2223185 100,34 L100,66 C100,"+o+" "+o+",100 66,100 L0,100 L0,0 Z",j="M0,0 L100,0 L100,66 C100,"+o+" "+o+",100 66,100 L0,100 L0,0 Z";return'\n  <svg \n    version="1.1" \n    viewBox="0 0 '+g+" "+g+'" \n    width="'+r.qrSize+'px" \n    height="'+r.qrSize+'px"\n    '+(r.className?'class="'+r.className+'"':"")+' \n    xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  >\n    <defs>\n      <rect id="rect-'+r.suffix+'" width="100" height="100" fill="'+r.foregroundColor+'"/>\n      <path \n        id="empty-'+r.suffix+'" \n        d="M0,28.6v42.9C0,87.3,12.8,100,28.6,100h42.9c15.9,0,28.6-12.8,28.6-28.6V28.6C100,12.7,87.2,0,71.4,0H28.6 C12.8,0,0,12.8,0,28.6z"\n        fill="'+r.foregroundColor+'"\n      />\n      <path id="b-'+r.suffix+'" d="'+E+'" transform="rotate(-90 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="r-'+r.suffix+'" d="'+E+'" transform="rotate(-180 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="l-'+r.suffix+'" d="'+E+'" fill="'+r.foregroundColor+'"/>\n      <path id="t-'+r.suffix+'" d="'+E+'" transform="rotate(90 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="l-'+r.suffix+'" d="'+j+'" transform="rotate(-90 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="lt-'+r.suffix+'" d="'+j+'" fill="'+r.foregroundColor+'"/>\n      <path id="lb-'+r.suffix+'" d="'+j+'" transform="rotate(-90 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="rb-'+r.suffix+'" d="'+j+'" transform="rotate(-180 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="rt-'+r.suffix+'" d="'+j+'" transform="rotate(90 50 50)" fill="'+r.foregroundColor+'"/>\n      <path \n        id="n_lt-'+r.suffix+'" \n        d="M30.5,2V0H0v30.5h2C2,14.7,14.8,2,30.5,2z" \n        fill="'+r.foregroundColor+'"\n      />\n      <path \n        id="n_lb-'+r.suffix+'"\n        d="M2,69.5H0V100h30.5v-2C14.7,98,2,85.2,2,69.5z" \n        fill="'+r.foregroundColor+'"\n      />\n      <path \n        id="n_rt-'+r.suffix+'" \n        d="M98,30.5h2V0H69.5v2C85.3,2,98,14.8,98,30.5z" \n        fill="'+r.foregroundColor+'"\n      />\n      <path id="n_rb-'+r.suffix+'" \n        d="M69.5,98v2H100V69.5h-2C98,85.3,85.2,98,69.5,98z" \n        fill="'+r.foregroundColor+'"\n      />\n      <path \n        id="point-'+r.suffix+'" \n        fill="'+r.foregroundColor+'"\n        d="M600.001786,457.329333 L600.001786,242.658167 C600.001786,147.372368 587.039517,124.122784 581.464617,118.535383 C575.877216,112.960483 552.627632,99.9982143 457.329333,99.9982143 L242.670667,99.9982143 C147.372368,99.9982143 124.122784,112.960483 118.547883,118.535383 C112.972983,124.122784 99.9982143,147.372368 99.9982143,242.658167 L99.9982143,457.329333 C99.9982143,552.627632 112.972983,575.877216 118.547883,581.464617 C124.122784,587.027017 147.372368,600.001786 242.670667,600.001786 L457.329333,600.001786 C552.627632,600.001786 575.877216,587.027017 581.464617,581.464617 C587.039517,575.877216 600.001786,552.627632 600.001786,457.329333 Z M457.329333,0 C653.338333,0 700,46.6616668 700,242.658167 C700,438.667167 700,261.332833 700,457.329333 C700,653.338333 653.338333,700 457.329333,700 C261.332833,700 438.667167,700 242.670667,700 C46.6616668,700 0,653.338333 0,457.329333 C0,261.332833 0,352.118712 0,242.658167 C0,46.6616668 46.6616668,0 242.670667,0 C438.667167,0 261.332833,0 457.329333,0 Z M395.996667,200 C480.004166,200 500,220.008332 500,303.990835 C500,387.998334 500,312.001666 500,395.996667 C500,479.991668 480.004166,500 395.996667,500 C312.001666,500 387.998334,500 304.003333,500 C220.008332,500 200,479.991668 200,395.996667 C200,312.001666 200,350.906061 200,303.990835 C200,220.008332 220.008332,200 304.003333,200 C387.998334,200 312.001666,200 395.996667,200 Z" \n      />\n      <g id="vk_logo-'+r.suffix+'">\n        <path \n          fill="'+r.logoColor+'" \n          d="M253.066667,0 C457.466667,0 272.533333,0 476.933333,0 C681.333333,0 730,48.6666667 730,253.066667 C730,457.466667 730,272.533333 730,476.933333 C730,681.333333 681.333333,730 476.933333,730 C272.533333,730 457.466667,730 253.066667,730 C48.6666667,730 0,681.333333 0,476.933333 C0,272.533333 0,367.206459 0,253.066667 C0,48.6666667 48.6666667,0 253.066667,0 Z"/><path fill="#FFF" d="M597.816744,251.493445 C601.198942,240.214758 597.816746,231.927083 581.719678,231.927083 L528.490512,231.927083 C514.956087,231.927083 508.716524,239.08642 505.332448,246.981031 C505.332448,246.981031 478.263599,312.960647 439.917002,355.818719 C427.510915,368.224806 421.871102,372.172112 415.10389,372.172112 C411.720753,372.172112 406.822917,368.224806 406.822917,356.947057 L406.822917,251.493445 C406.822917,237.95902 402.895137,231.927083 391.615512,231.927083 L307.969678,231.927083 C299.511836,231.927083 294.425223,238.208719 294.425223,244.162063 C294.425223,256.99245 313.597583,259.951287 315.573845,296.043086 L315.573845,374.428788 C315.573845,391.614583 312.470184,394.730425 305.702972,394.730425 C287.658011,394.730425 243.763595,328.456052 217.730151,252.620844 C212.628223,237.881107 207.511068,231.927083 193.907178,231.927083 L140.678012,231.927083 C125.469678,231.927083 122.427826,239.08642 122.427826,246.981031 C122.427826,261.079625 140.473725,331.006546 206.452402,423.489903 C250.437874,486.648674 312.410515,520.885417 368.803012,520.885417 C402.638134,520.885417 406.823845,513.28125 406.823845,500.183098 L406.823845,452.447917 C406.823845,437.239583 410.029185,434.204421 420.743703,434.204421 C428.638315,434.204421 442.172739,438.151727 473.753063,468.603713 C509.843923,504.694573 515.79398,520.885417 536.094678,520.885417 L589.323845,520.885417 C604.532178,520.885417 612.136345,513.28125 607.749619,498.274853 C602.949226,483.318593 585.717788,461.619053 562.853283,435.89599 C550.446258,421.234166 531.837128,405.444943 526.197316,397.548454 C518.302704,387.399043 520.558441,382.88663 526.197316,373.864619 C526.197316,373.864619 591.049532,282.508661 597.816744,251.493445 Z"\n        />\n      </g>\n      <clipPath id="logo-mask-'+r.suffix+'">\n        <rect x="0" y="0" width="750" height="750" />\n      </clipPath>\n    </defs>\n\n    '+v+'\n\n    <g transform="'+y+'">\n      '+a.join("\n")+"\n    </g>\n  </svg>"}(r.encodeSegments(d,l[_.ecc],1,40,-1,!0),_)}}}()},wetz:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return O}));n("OG14"),n("SRfc"),n("pIFo");var r=n("Egk5"),o=n("zxIV"),a=n("t7n3"),i=n("/PiP"),s=n("t/FQ"),c=n("gdug"),u=n("Xrg9"),l=n("ErRf"),_=n("cGUQ"),d=n("g4nd"),p=(n("Oyvg"),n("kKcY")),f=n("W9Tc");function h(e){var t=e.target||e.srcElement;if(t&&t.href){var n,r=t.href,o=decodeURIComponent(r);if(Object(f.b)("aliexpress_app_links_redirect_web_links")){if(n=function(e){var t=[new RegExp(`(https?://)?vk.com/app${p.c}(_6492794)?(#|/|#/)?$`),new RegExp(`(https?://)?vk.com/${p.d}(#|/|#/)?$`)];for(var n in t)if(e.match(t[n]))return"/away.php?to="+encodeURIComponent(p.f);return""}(o))return m(n,t),!0}else if(n=function(e){var t=e.match(new RegExp(`/app${p.c}#(?:.+)product_id=(d+)`));if(t&&t[1])return"/away.php?to="+encodeURIComponent(`${p.f}/item/${t[1]}.html`)}(o))return m(n,t),!0}return!1}function m(e,t){"_blank"===t.getAttribute("target")&&void 0!==t.open?t.open(e):window.location.href=e}function b(e){var t,n;if(h(e))return!1;if(Object(r.d)(e))return!0;if(u.a.set("last_reloaded",[]),!cur.onMouseClick||!cur.onMouseClick(e)){if(!(e=window.event||e.originalEvent||e))return!0;(null===(t=e.target)||void 0===t||null===(n=t.dataset)||void 0===n?void 0:n.donutLogEvent)&&Object(d.a)(e.target.dataset.donutLogEvent);for(var i,s,c=8,l=e.target||e.srcElement;l&&l!==bodyNode&&"A"!==l.tagName&&c--;)l=l.parentNode;if(!l||"A"!==l.tagName||l.onclick||l.onmousedown)return!0;var p=l.href;if(p&&(l.getAttribute("target")||nav.baseBlank)){if(domClosest("bookmarks_row_type_link",l)){var f=(nav.fromStr(p)||{}).to;statlogsValueEvent("bookmarks_product_analytics",{link_url:f,time:window.getServerTime()})}return!0}if("https:"!==location.protocol&&!p.indexOf("https://"))return!0;(p=p.replace(/^https?:\/\//i,"")).indexOf(location.hostname)||(p=p.replace(location.hostname,"")),vk.dev&&"vk.com"===location.hostname&&(p=p.replace(/^(vkontakte\.ru\/|vk\.com\/)/,"/"));var m={};(s=p.match(/^\/(.+?)#[\!\/](.+?)$/))&&!s[1].match(/^app(\d+)/)&&(m.permanent=s[1],p="/"+s[2]);var b=!!(l.getAttribute&&l.getAttribute("data-post-click-type")&&l.getAttribute("data-post-id"));if(p.match(/#$/)&&!b)return!0;var g,v=Object(o.v)(l,"post-id");v&&(m.postId=v);var y=p;if(i=p.match(/^\/(.*?)(\?|#|$)/))i=i[1];else{if(l.hostname)g=l.hostname,i=l.pathname+l.search;else{var O=/^([^:\/]+)?(?::(\d+))?(\/?[^#]*)(#?.*)$/i.exec(p);if(!O)return!0;g=O[1],i=O[3]||"/"}if(!g||!b)return!0;l.setAttribute("data-change-location-with-post-away",1),y=l}if("add_community_app"===i)return Object(o.e)(l,"target","_blank"),!0;if(i.indexOf(".php")>0||i.match(/^(doc\-?\d+_\d+|graffiti\d+|reg\d+|images\/|utils\/|\.js|js\/|\.css|css\/|source\b)/)){if(!b)return!0;l.setAttribute("data-change-location-with-post-away",1),y=l}var w=l.getAttribute("hrefparams");w&&(m.params=Object(a.i)(m.params||{},Object(_.fromQueryString)(w)));try{return nav.go(y,e,Object(a.i)({},m,{throwErrorOnDisabledPath:!0})),Object(r.c)(e)}catch(e){return!0}}}function g(e,t){(t=t||window.event).keyCode===r.a.ENTER&&(e(),Object(r.c)(t))}function v(e,t){(10===(e=e||window.event).keyCode||13===e.keyCode&&(e.ctrlKey||e.metaKey&&c.a.mac))&&(t(),Object(r.c)(e))}function y(e){if(window._wf=1,e.keyCode===r.a.ESC&&boxQueue.count()&&!cur._noEscHide)return boxQueue.hideLast(),-1;if(e.keyCode===r.a.ESC&&window.articleCloseImageFullSize&&window.articleCloseImageFullSize())return Object(r.c)(e);if(e.keyCode===r.a.ESC&&window.isArticleLayerOpen&&window.isArticleLayerOpen())return window.ArticleLayer.close(!0),Object(r.c)(e);if(e.keyCode===r.a.ESC&&window.AuthorPage&&!cur.articleEditorLayer)return window.AuthorPage.close(),Object(r.c)(e);if(e.keyCode===r.a.ESC)return Object(l.b)(),Object(r.c)(e);var t=[176,177,178,179],n=!1;window.audioPlayer&&(t.push(r.a.LEFT),t.push(r.a.RIGHT)),Object(a.f)(t,(function(t,r){if(e.keyCode===r)return n=!0,!1})),n&&Object(i.l)().onMediaKeyPressedEvent(e),s.a.inited&&191===e.keyCode&&(e.ctrlKey||e.metaKey&&c.a.mac)&&s.a.showFriends()}function O(){Object(o.kb)("cookies_policy_wrap"),ajax.post("/settings",{act:"a_hide_cookies_policy"})}},x9XA:function(e,t,n){"use strict";n("91GP"),n("ioFf"),n("rGqo"),n("Btvt");var r=n("q1tI"),o=(n("17x9"),n("xt6h"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=e=>{var t=e.children,n=e.className,s=i(e,["children","className"]),c=Object(o.a)("LinkButton",n),u=a({},s,{onMouseDown:e=>{e.preventDefault(),s.onMouseDown&&s.onMouseDown(e)}});return r.createElement("button",a({},u,{className:c}),t)}},xk4V:function(e,t,n){var r=n("4fRq"),o=n("I2ZF");e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[a+s]=i[s];return t||o(i)}},xpql:function(e,t,n){e.exports=!n("nh4g")&&!n("eeVq")((function(){return 7!=Object.defineProperty(n("Iw71")("div"),"a",{get:function(){return 7}}).a}))},xt6h:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return k}));var r=n("cDf5"),o=n.n(r);function a(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){if(t)switch(o()(t)){case"string":e.push(t);break;case"object":Object.keys(t).forEach((function(n){t[n]&&e.push(n)}));break;default:e.push("".concat(t))}})),e.join(" ")}function i(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e).then((function(){return!0}))}(e):function(e){return new Promise((function(t,n){var r=document.createElement("textarea"),o=document.createRange();r.value=e,r.style.position="fixed",r.contentEditable="true",document.body.appendChild(r),r.focus(),r.select(),o.selectNodeContents(r);var a=window.getSelection();a&&(a.removeAllRanges(),a.addRange(o)),r.setSelectionRange(0,999999);try{document.execCommand("copy")?t(!0):n(new Error("copy failed"))}catch(e){n(e)}a&&a.removeAllRanges(),document.body.removeChild(r)}))}(e)}function s(e){return!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e)}function c(e){return"object"===o()(e)&&null!==e}function u(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e,t){if(e===t)return!0;if(null==e||null==t||!c(e)&&!c(t))return e!=e&&t!=t;if(c(e)&&c(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!e.hasOwnProperty(n)||!t.hasOwnProperty(n))return!1;if(!l(e[n],t[n]))return!1}return!0}return!1}n("RIqP");function _(e){return e>=10?String(e):"0"+String(e)}function d(e,t){return 2==+t?function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}function p(e){if(!e)return"";var t=Math.floor(e/3600),n=Math.floor(e/60)%60,r=e%60;return e>=3600?[t,_(n),_(r)].join(":"):[n,_(r)].join(":")}function f(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var c=o,u=Date.now();t&&u<t+r?(clearTimeout(n),n=setTimeout((function(){t=u,e.apply(c,i)}),r)):(t=u,e.apply(c,i))}}function h(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=function(){return e.apply(o,r)};return function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];r=o,clearTimeout(n),n=setTimeout(a,t)}}function m(e){var t=e instanceof HTMLElement;if("undefined"==typeof window||!t)return{top:0,left:0,width:0,height:0};var n=e,r=n.getBoundingClientRect(),o=document.body,a=document.documentElement,i=window.pageYOffset||a.scrollTop||o.scrollTop,s=window.pageXOffset||a.scrollLeft||o.scrollLeft,c=a.clientTop||o.clientTop||0,u=a.clientLeft||o.clientLeft||0;return{top:Math.round(r.top+i-c),left:Math.round(r.left+s-u),width:n.offsetWidth,height:n.offsetHeight}}var b,g=n("lwsE"),v=n.n(g),y=n("W8MJ"),O=n.n(y),w=n("lSNA"),E=n.n(w),j=function(){function e(){var t=this;v()(this,e),E()(this,"data",{}),E()(this,"getItem",(function(e){return t.data.hasOwnProperty(e)?t.data[e]:null})),E()(this,"keys",(function(){return Object.keys(t.data)}))}return O()(e,[{key:"setItem",value:function(e,t){this.data[e]=String(t)}},{key:"removeItem",value:function(e){delete this.data[e]}},{key:"clear",value:function(){this.data={}}},{key:"key",value:function(e){return Object.keys(this.data)[e]}},{key:"length",get:function(){return Object.keys(this.data).length}}]),e}(),D="vk-ls-dummy";function P(){if(b)return b;try{if(window.localStorage.setItem(D,"test"),"test"!==window.localStorage.getItem(D))throw new Error("localStorage is broken");window.localStorage.removeItem(D),b=window.localStorage}catch(e){b=new j}return b}var k={setItem:function(e,t){return P().setItem(e,t)},getItem:function(e){return P().getItem(e)},removeItem:function(e){return P().removeItem(e)},clear:function(){return P().clear()},length:function(){return P().length},key:function(e){return P().key(e)},keys:function(){var e=P();return e instanceof j?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return k.keys().filter((function(t){return t.startsWith(e)}))}}},"y/eL":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("HEwt"),n("a1Th"),n("Btvt"),n("rGqo"),n("rE2o"),n("ioFf"),n("pIFo");var r=n("W9Tc");n("KKXr");var o=n("jE6c");var a=n("JlTo"),i=n("DM2o");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(window.__dev||window.vk&&(window.vk.zero||window.vk.__dev))){t=t||document.referrer||"";[[/(hash|dl)=\w+/g,"$1="],[/(\/(?:write|mail|im|al_im.php))(?:\?[a-z0-9&=_-]*)?$/,"$1"],[/(\/write)\d*(?:\?[a-zA-Z0-9&=_-]*)?$/,"$1"]].forEach(n=>{var r=s(n,2),o=r[0],a=r[1];e=e.replace(o,a),t=t.replace(o,a)}),Object(a.g)(e,t);var n=[/\/login\?.*$/];n.some(t=>t.test(e))||n.some(e=>e.test(t))||(!function(e,t){var n=location.protocol,r=window._tns&&(window._tns.tnsPixelSocdem||"83"),a=t.replace(/\*/g,"%2a").split("#")[0],i=window._tns&&window._tns.tnsPixelType;Object(o.r)().src=`${n}//www.tns-counter.ru/V13a**clid:${r}*${a}*vk_com/ru/UTF-8/tmsec=vksite_total/${Math.round(1e9*Math.random())}`,"unauth"===i?Object(o.r)().src=n+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184674/"+Math.round(1e9*Math.random()):"has_rough"===i?Object(o.r)().src=n+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184675/"+Math.round(1e9*Math.random()):"not_has_rough"===i&&(Object(o.r)().src=n+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184677/"+Math.round(1e9*Math.random()))}(0,t),function(){if(Object(r.b)("geminus_counter")){var e="pzBAVLtpzyiyDVIwmwjmX5a2zSVdA6eUI7mpf0ufDFf.57";if(window.pp_gemius_identifier)window.pp_gemius_hit(e);else{window.pp_gemius_identifier=e;var t=function(e){window[e]=window[e]||function(){var t=window[e+"_pdata"]=window[e+"_pdata"]||[];t[t.length]=arguments}};t("gemius_hit"),t("gemius_event"),t("pp_gemius_hit"),t("pp_gemius_event"),function(e,t){try{var n=e.createElement(t),r=e.getElementsByTagName(t)[0],o="http"+("https:"==location.protocol?"s":""),a="vkgalv";if(window.vk&&window.vk.countryISO)switch(window.vk.countryISO){case"BY":a="vkgaby";break;case"MD":a="vkgamd";break;case"EE":a="vkgaee"}n.setAttribute("async","async"),n.setAttribute("defer","defer"),n.src=o+"://"+a+".hit.gemius.pl/xgemius.js",r.parentNode.insertBefore(n,r)}catch(e){}}(document,"script")}}}(),Object(i.a)("counters_check",1))}}},y3w9:function(e,t,n){var r=n("0/R4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},yl30:function(e,t,n){"use strict";var r=n("q1tI"),o=n("g65Y"),a=n("QCnb");function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var s=new Set,c={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var _=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},h={};function m(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,r){var o=b.hasOwnProperty(t)?b[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!p.call(h,e)||!p.call(f,e)&&(d.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,v);b[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,v);b[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,v);b[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var O=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,E=60106,j=60107,D=60108,P=60114,k=60109,C=60110,T=60112,x=60113,I=60120,A=60115,M=60116,S=60121,L=60128,B=60129,R=60130,N=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;w=U("react.element"),E=U("react.portal"),j=U("react.fragment"),D=U("react.strict_mode"),P=U("react.profiler"),k=U("react.provider"),C=U("react.context"),T=U("react.forward_ref"),x=U("react.suspense"),I=U("react.suspense_list"),A=U("react.memo"),M=U("react.lazy"),S=U("react.block"),U("react.scope"),L=U("react.opaque.id"),B=U("react.debug_trace_mode"),R=U("react.offscreen"),N=U("react.legacy_hidden")}var F,W="function"==typeof Symbol&&Symbol.iterator;function K(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=W&&e[W]||e["@@iterator"])?e:null}function H(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var q=!1;function V(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s])return"\n"+o[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function z(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case j:return"Fragment";case E:return"Portal";case P:return"Profiler";case D:return"StrictMode";case x:return"Suspense";case I:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return G(e.type);case S:return G(e._render);case M:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ue(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var _e="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,me=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function Oe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ye(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(ge).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var we=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function je(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function De(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pe=null,ke=null,Ce=null;function Te(e){if(e=Qr(e)){if("function"!=typeof Pe)throw Error(i(280));var t=e.stateNode;t&&(t=eo(t),Pe(e.stateNode,e.type,t))}}function xe(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function Me(e,t,n,r,o){return e(t,n,r,o)}function Se(){}var Le=Ae,Be=!1,Re=!1;function Ne(){null===ke&&null===Ce||(Se(),Ie())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=eo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Fe=!1;if(_)try{var We={};Object.defineProperty(We,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(e){Fe=!1}function Ke(e,t,n,r,o,a,i,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var He=!1,qe=null,Ve=!1,ze=null,Ge={onError:function(e){He=!0,qe=e}};function $e(e,t,n,r,o,a,i,s,c){He=!1,qe=null,Ke.apply(Ge,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Je(e)!==e)throw Error(i(188))}function Qe(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Xe(o),e;if(a===r)return Xe(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,ot=!1,at=[],it=null,st=null,ct=null,ut=new Map,lt=new Map,_t=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function ft(e,t){switch(e){case"focusin":case"focusout":it=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function ht(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,o,a),null!==t&&(null!==(t=Qr(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function mt(e){var t=Xr(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Qr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){bt(e)&&n.delete(t)}function vt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=Qr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==it&&bt(it)&&(it=null),null!==st&&bt(st)&&(st=null),null!==ct&&bt(ct)&&(ct=null),ut.forEach(gt),lt.forEach(gt)}function yt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vt)))}function Ot(e){function t(t){return yt(t,e)}if(0<at.length){yt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==it&&yt(it,e),null!==st&&yt(st,e),null!==ct&&yt(ct,e),ut.forEach(t),lt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)mt(n),null===n.blockedOn&&_t.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},jt={},Dt={};function Pt(e){if(jt[e])return jt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Dt)return jt[e]=n[t];return e}_&&(Dt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var kt=Pt("animationend"),Ct=Pt("animationiteration"),Tt=Pt("animationstart"),xt=Pt("transitionend"),It=new Map,At=new Map,Mt=["abort","abort",kt,"animationEnd",Ct,"animationIteration",Tt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function St(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),At.set(r,t),It.set(r,o),u(o,[r])}}(0,a.unstable_now)();var Lt=8;function Bt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Rt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,o=0,a=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,o=Lt=15;else if(0!==(a=134217727&n)){var c=a&~i;0!==c?(r=Bt(c),o=Lt):0!==(s&=a)&&(r=Bt(s),o=Lt)}else 0!==(a=n&~i)?(r=Bt(a),o=Lt):0!==s&&(r=Bt(s),o=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&i)){if(Bt(t),o<=Lt)return t;Lt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-Ht(t)),r|=e[n],t&=~o;return r}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ft(24&~t))?Ut(10,t):e;case 10:return 0===(e=Ft(192&~t))?Ut(8,t):e;case 8:return 0===(e=Ft(3584&~t))&&(0===(e=Ft(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ft(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function Ft(e){return e&-e}function Wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Vt|0)|0},qt=Math.log,Vt=Math.LN2;var zt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,$t=!0;function Jt(e,t,n,r){Be||Se();var o=Xt,a=Be;Be=!0;try{Me(o,e,t,n,r)}finally{(Be=a)||Ne()}}function Yt(e,t,n,r){Gt(zt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var o;if($t)if((o=0==(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var a=Qt(e,t,n,r);if(null===a)o&&ft(e,r);else{if(o){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,o){switch(t){case"focusin":return it=ht(it,e,t,n,r,o),!0;case"dragenter":return st=ht(st,e,t,n,r,o),!0;case"mouseover":return ct=ht(ct,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return ut.set(a,ht(ut.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,lt.set(a,ht(lt.get(a)||null,e,t,n,r,o)),!0}return!1}(a,e,t,n,r))return;ft(e,r)}xr(e,t,r,null,n)}}}function Qt(e,t,n,r){var o=De(r);if(null!==(o=Xr(o))){var a=Je(o);if(null===a)o=null;else{var i=a.tag;if(13===i){if(null!==(o=Ye(a)))return o;o=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return xr(e,t,r,o,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return tn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?on:an,this.isPropagationStopped=an,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,un,ln,_n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(_n),pn=o({},_n,{view:0,detail:0}),fn=sn(pn),hn=o({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(cn=e.screenX-ln.screenX,un=e.screenY-ln.screenY):un=cn=0,ln=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),mn=sn(hn),bn=sn(o({},hn,{dataTransfer:0})),gn=sn(o({},pn,{relatedTarget:0})),vn=sn(o({},_n,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=sn(o({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),On=sn(o({},_n,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Pn(){return Dn}var kn=sn(o({},pn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Cn=sn(o({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(o({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),xn=sn(o({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=sn(o({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=[9,13,27,32],Mn=_&&"CompositionEvent"in window,Sn=null;_&&"documentMode"in document&&(Sn=document.documentMode);var Ln=_&&"TextEvent"in window&&!Sn,Bn=_&&(!Mn||Sn&&8<Sn&&11>=Sn),Rn=String.fromCharCode(32),Nn=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function qn(e,t,n,r){xe(r),0<(t=Ar(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,zn=null;function Gn(e){jr(e,0)}function $n(e){if(X(Zr(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(_){var Xn;if(_){var Qn="oninput"in document;if(!Qn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Qn="function"==typeof Zn.oninput}Xn=Qn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Vn&&(Vn.detachEvent("onpropertychange",tr),zn=Vn=null)}function tr(e){if("value"===e.propertyName&&$n(zn)){var t=[];if(qn(t,zn,e,De(e)),e=Gn,Be)e(t);else{Be=!0;try{Ae(e,t)}finally{Be=!1,Ne()}}}}function nr(e,t,n){"focusin"===e?(er(),zn=n,(Vn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(zn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var ir="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function cr(e,t){if(ir(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ir(e[n[r]],t[n[r]]))return!1;return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function _r(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=_&&"documentMode"in document&&11>=document.documentMode,fr=null,hr=null,mr=null,br=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==fr||fr!==Q(r)||("selectionStart"in(r=fr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&cr(mr,r)||(mr=r,0<(r=Ar(hr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}St("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),St("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),St(Mt,2);for(var vr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),yr=0;yr<vr.length;yr++)At.set(vr[yr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Er(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,c,u){if($e.apply(this,arguments),He){if(!He)throw Error(i(198));var l=qe;He=!1,qe=null,Ve||(Ve=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&o.isPropagationStopped())break e;Er(o,s,u),a=c}else for(i=0;i<r.length;i++){if(c=(s=r[i]).instance,u=s.currentTarget,s=s.listener,c!==a&&o.isPropagationStopped())break e;Er(o,s,u),a=c}}}if(Ve)throw e=ze,Ve=!1,ze=null,e}function Dr(e,t){var n=to(t),r=e+"__bubble";n.has(r)||(Tr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){wr.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&wr.has(e)){if("scroll"!==e)return;o|=2,a=r}var i=to(a),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(o|=4),Tr(a,e,o,t),i.add(s))}function Tr(e,t,n,r){var o=At.get(t);switch(void 0===o?2:o){case 0:o=Jt;break;case 1:o=Yt;break;default:o=Xt}n=o.bind(null,t,n,e),o=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function xr(e,t,n,r,o){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=Xr(s)))return;if(5===(c=i.tag)||6===c){r=a=i;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Re)return e(t,n);Re=!0;try{Le(e,t,n)}finally{Re=!1,Ne()}}((function(){var r=a,o=De(n),i=[];e:{var s=It.get(e);if(void 0!==s){var c=dn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":c=kn;break;case"focusin":u="focus",c=gn;break;case"focusout":u="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Tn;break;case kt:case Ct:case Tt:c=vn;break;case xt:c=xn;break;case"scroll":c=fn;break;case"wheel":c=In;break;case"copy":case"cut":case"paste":c=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cn}var l=0!=(4&t),_=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var p,f=r;null!==f;){var h=(p=f).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==d&&(null!=(h=Ue(f,d))&&l.push(Ir(f,h,p)))),_)break;f=f.return}0<l.length&&(s=new c(s,u,null,n,o),i.push({event:s,listeners:l}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!Xr(u)&&!u[Jr])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Xr(u):null)&&(u!==(_=Je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=mn,h="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,h="onPointerLeave",d="onPointerEnter",f="pointer"),_=null==c?s:Zr(c),p=null==u?s:Zr(u),(s=new l(h,f+"leave",c,n,o)).target=_,s.relatedTarget=p,h=null,Xr(o)===r&&((l=new l(d,f+"enter",u,n,o)).target=p,l.relatedTarget=_,h=l),_=h,c&&u)e:{for(d=u,f=0,p=l=c;p;p=Mr(p))f++;for(p=0,h=d;h;h=Mr(h))p++;for(;0<f-p;)l=Mr(l),f--;for(;0<p-f;)d=Mr(d),p--;for(;f--;){if(l===d||null!==d&&l===d.alternate)break e;l=Mr(l),d=Mr(d)}l=null}else l=null;null!==c&&Sr(i,s,c,l,!1),null!==u&&null!==_&&Sr(i,_,u,l,!0)}if("select"===(c=(s=r?Zr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Jn;else if(Hn(s))if(Yn)m=ar;else{m=rr;var b=nr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?qn(i,m,n,o):(b&&b(e,s,r),"focusout"===e&&(b=s._wrapperState)&&b.controlled&&"number"===s.type&&oe(s,"number",s.value)),b=r?Zr(r):window,e){case"focusin":(Hn(b)||"true"===b.contentEditable)&&(fr=b,hr=r,mr=null);break;case"focusout":mr=hr=fr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,gr(i,n,o);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":gr(i,n,o)}var g;if(Mn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Wn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Bn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Wn&&(g=nn()):(en="value"in(Zt=o)?Zt.value:Zt.textContent,Wn=!0)),0<(b=Ar(r,v)).length&&(v=new On(v,e,null,n,o),i.push({event:v,listeners:b}),g?v.data=g:null!==(g=Fn(n))&&(v.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Rn);case"textInput":return(e=t.data)===Rn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Un(e,t)?(e=nn(),tn=en=Zt=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ar(r,"onBeforeInput")).length&&(o=new On("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=g))}jr(i,t)}))}function Ir(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ar(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Ue(e,n))&&r.unshift(Ir(e,a,o)),null!=(a=Ue(e,t))&&r.push(Ir(e,a,o))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Sr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,o?null!=(c=Ue(n,a))&&i.unshift(Ir(n,c,s)):o||null!=(c=Ue(n,a))&&i.push(Ir(n,c,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Lr(){}var Br=null,Rr=null;function Nr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Fr="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Vr=0;var zr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+zr,$r="__reactProps$"+zr,Jr="__reactContainer$"+zr,Yr="__reactEvents$"+zr;function Xr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qr(e);null!==e;){if(n=e[Gr])return n;e=qr(e)}return t}n=(e=n).parentNode}return null}function Qr(e){return!(e=e[Gr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Zr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function eo(e){return e[$r]||null}function to(e){var t=e[Yr];return void 0===t&&(t=e[Yr]=new Set),t}var no=[],ro=-1;function oo(e){return{current:e}}function ao(e){0>ro||(e.current=no[ro],no[ro]=null,ro--)}function io(e,t){ro++,no[ro]=e.current,e.current=t}var so={},co=oo(so),uo=oo(!1),lo=so;function _o(e,t){var n=e.type.contextTypes;if(!n)return so;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function po(e){return null!=(e=e.childContextTypes)}function fo(){ao(uo),ao(co)}function ho(e,t,n){if(co.current!==so)throw Error(i(168));io(co,t),io(uo,n)}function mo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(i(108,G(t)||"Unknown",a));return o({},n,r)}function bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||so,lo=co.current,io(co,e),io(uo,uo.current),!0}function go(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=mo(e,t,lo),r.__reactInternalMemoizedMergedChildContext=e,ao(uo),ao(co),io(co,e)):ao(uo),io(uo,n)}var vo=null,yo=null,Oo=a.unstable_runWithPriority,wo=a.unstable_scheduleCallback,Eo=a.unstable_cancelCallback,jo=a.unstable_shouldYield,Do=a.unstable_requestPaint,Po=a.unstable_now,ko=a.unstable_getCurrentPriorityLevel,Co=a.unstable_ImmediatePriority,To=a.unstable_UserBlockingPriority,xo=a.unstable_NormalPriority,Io=a.unstable_LowPriority,Ao=a.unstable_IdlePriority,Mo={},So=void 0!==Do?Do:function(){},Lo=null,Bo=null,Ro=!1,No=Po(),Uo=1e4>No?Po:function(){return Po()-No};function Fo(){switch(ko()){case Co:return 99;case To:return 98;case xo:return 97;case Io:return 96;case Ao:return 95;default:throw Error(i(332))}}function Wo(e){switch(e){case 99:return Co;case 98:return To;case 97:return xo;case 96:return Io;case 95:return Ao;default:throw Error(i(332))}}function Ko(e,t){return e=Wo(e),Oo(e,t)}function Ho(e,t,n){return e=Wo(e),wo(e,t,n)}function qo(){if(null!==Bo){var e=Bo;Bo=null,Eo(e)}Vo()}function Vo(){if(!Ro&&null!==Lo){Ro=!0;var e=0;try{var t=Lo;Ko(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Lo=null}catch(t){throw null!==Lo&&(Lo=Lo.slice(e+1)),wo(Co,qo),t}finally{Ro=!1}}}var zo=O.ReactCurrentBatchConfig;function Go(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $o=oo(null),Jo=null,Yo=null,Xo=null;function Qo(){Xo=Yo=Jo=null}function Zo(e){var t=$o.current;ao($o),e.type._context._currentValue=t}function ea(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ta(e,t){Jo=e,Xo=Yo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ai=!0),e.firstContext=null)}function na(e,t){if(Xo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yo){if(null===Jo)throw Error(i(308));Yo=t,Jo.dependencies={lanes:0,firstContext:t,responders:null}}else Yo=Yo.next=t;return e._currentValue}var ra=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var a=e.updateQueue;ra=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,c=a.shared.pending;if(null!==c){a.shared.pending=null;var u=c,l=u.next;u.next=null,null===s?i=l:s.next=l,s=u;var _=e.alternate;if(null!==_){var d=(_=_.updateQueue).lastBaseUpdate;d!==s&&(null===d?_.firstBaseUpdate=l:d.next=l,_.lastBaseUpdate=u)}}if(null!==i){for(d=a.baseState,s=0,_=l=u=null;;){c=i.lane;var p=i.eventTime;if((r&c)===c){null!==_&&(_=_.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,h=i;switch(c=t,p=n,h.tag){case 1:if("function"==typeof(f=h.payload)){d=f.call(p,d,c);break e}d=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(c="function"==typeof(f=h.payload)?f.call(p,d,c):f))break e;d=o({},d,c);break e;case 2:ra=!0}}null!==i.callback&&(e.flags|=32,null===(c=a.effects)?a.effects=[i]:c.push(i))}else p={eventTime:p,lane:c,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===_?(l=_=p,u=d):_=_.next=p,s|=c;if(null===(i=i.next)){if(null===(c=a.shared.pending))break;i=c.next,c.next=null,a.lastBaseUpdate=c,a.shared.pending=null}}null===_&&(u=d),a.baseState=u,a.firstBaseUpdate=l,a.lastBaseUpdate=_,Ss|=s,e.lanes=s,e.memoizedState=d}}function la(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var _a=(new r.Component).refs;function da(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ac(),o=ic(e),a=ia(r,o);a.payload=t,null!=n&&(a.callback=n),sa(e,a),sc(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ac(),o=ic(e),a=ia(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),sa(e,a),sc(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ac(),r=ic(e),o=ia(n,r);o.tag=2,null!=t&&(o.callback=t),sa(e,o),sc(e,r,n)}};function fa(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(o,a))}function ha(e,t,n){var r=!1,o=so,a=t.contextType;return"object"==typeof a&&null!==a?a=na(a):(o=po(t)?lo:co.current,a=(r=null!=(r=t.contextTypes))?_o(e,o):so),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ma(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=_a,oa(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=na(a):(a=po(t)?lo:co.current,o.context=_o(e,a)),ua(e,n,o,r),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(da(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&pa.enqueueReplaceState(o,o.state,null),ua(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}var ga=Array.isArray;function va(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===_a&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function ya(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Oa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Uc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Hc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=va(e,t,n),r.return=e,r):((r=Fc(n.type,n.key,n.props,null,e.mode,r)).ref=va(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function _(e,t,n,r,a){return null===t||7!==t.tag?((t=Wc(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Hc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case E:return(t=qc(t,e.mode,n)).return=e,t}if(ga(t)||K(t))return(t=Wc(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?n.type===j?_(e,t,n.props.children,r,o):u(e,t,n,r):null;case E:return n.key===o?l(e,t,n,r):null}if(ga(n)||K(n))return null!==o?null:_(e,t,n,r,null);ya(e,n)}return null}function f(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===j?_(t,e,r.props.children,o,r.key):u(t,e,r,o);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(ga(r)||K(r))return _(t,e=e.get(n)||null,r,o,null);ya(t,r)}return null}function h(o,i,s,c){for(var u=null,l=null,_=i,h=i=0,m=null;null!==_&&h<s.length;h++){_.index>h?(m=_,_=null):m=_.sibling;var b=p(o,_,s[h],c);if(null===b){null===_&&(_=m);break}e&&_&&null===b.alternate&&t(o,_),i=a(b,i,h),null===l?u=b:l.sibling=b,l=b,_=m}if(h===s.length)return n(o,_),u;if(null===_){for(;h<s.length;h++)null!==(_=d(o,s[h],c))&&(i=a(_,i,h),null===l?u=_:l.sibling=_,l=_);return u}for(_=r(o,_);h<s.length;h++)null!==(m=f(_,o,h,s[h],c))&&(e&&null!==m.alternate&&_.delete(null===m.key?h:m.key),i=a(m,i,h),null===l?u=m:l.sibling=m,l=m);return e&&_.forEach((function(e){return t(o,e)})),u}function m(o,s,c,u){var l=K(c);if("function"!=typeof l)throw Error(i(150));if(null==(c=l.call(c)))throw Error(i(151));for(var _=l=null,h=s,m=s=0,b=null,g=c.next();null!==h&&!g.done;m++,g=c.next()){h.index>m?(b=h,h=null):b=h.sibling;var v=p(o,h,g.value,u);if(null===v){null===h&&(h=b);break}e&&h&&null===v.alternate&&t(o,h),s=a(v,s,m),null===_?l=v:_.sibling=v,_=v,h=b}if(g.done)return n(o,h),l;if(null===h){for(;!g.done;m++,g=c.next())null!==(g=d(o,g.value,u))&&(s=a(g,s,m),null===_?l=g:_.sibling=g,_=g);return l}for(h=r(o,h);!g.done;m++,g=c.next())null!==(g=f(h,o,m,g.value,u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===_?l=g:_.sibling=g,_=g);return e&&h.forEach((function(e){return t(o,e)})),l}return function(e,r,a,c){var u="object"==typeof a&&null!==a&&a.type===j&&null===a.key;u&&(a=a.props.children);var l="object"==typeof a&&null!==a;if(l)switch(a.$$typeof){case w:e:{for(l=a.key,u=r;null!==u;){if(u.key===l){switch(u.tag){case 7:if(a.type===j){n(e,u.sibling),(r=o(u,a.props.children)).return=e,e=r;break e}break;default:if(u.elementType===a.type){n(e,u.sibling),(r=o(u,a.props)).ref=va(e,u,a),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}a.type===j?((r=Wc(a.props.children,e.mode,c,a.key)).return=e,e=r):((c=Fc(a.type,a.key,a.props,null,e.mode,c)).ref=va(e,r,a),c.return=e,e=c)}return s(e);case E:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=o(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=qc(a,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,a)).return=e,e=r):(n(e,r),(r=Hc(a,e.mode,c)).return=e,e=r),s(e);if(ga(a))return h(e,r,a,c);if(K(a))return m(e,r,a,c);if(l&&ya(e,a),void 0===a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,G(e.type)||"Component"))}return n(e,r)}}var wa=Oa(!0),Ea=Oa(!1),ja={},Da=oo(ja),Pa=oo(ja),ka=oo(ja);function Ca(e){if(e===ja)throw Error(i(174));return e}function Ta(e,t){switch(io(ka,t),io(Pa,e),io(Da,ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ao(Da),io(Da,t)}function xa(){ao(Da),ao(Pa),ao(ka)}function Ia(e){Ca(ka.current);var t=Ca(Da.current),n=fe(t,e.type);t!==n&&(io(Pa,e),io(Da,n))}function Aa(e){Pa.current===e&&(ao(Da),ao(Pa))}var Ma=oo(0);function Sa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=null,Ba=null,Ra=!1;function Na(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Fa(e){if(Ra){var t=Ba;if(t){var n=t;if(!Ua(e,t)){if(!(t=Hr(n.nextSibling))||!Ua(e,t))return e.flags=-1025&e.flags|2,Ra=!1,void(La=e);Na(La,n)}La=e,Ba=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Ra=!1,La=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;La=e}function Ka(e){if(e!==La)return!1;if(!Ra)return Wa(e),Ra=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Ba;t;)Na(e,t),t=Hr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ba=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ba=null}}else Ba=La?Hr(e.stateNode.nextSibling):null;return!0}function Ha(){Ba=La=null,Ra=!1}var qa=[];function Va(){for(var e=0;e<qa.length;e++)qa[e]._workInProgressVersionPrimary=null;qa.length=0}var za=O.ReactCurrentDispatcher,Ga=O.ReactCurrentBatchConfig,$a=0,Ja=null,Ya=null,Xa=null,Qa=!1,Za=!1;function ei(){throw Error(i(321))}function ti(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function ni(e,t,n,r,o,a){if($a=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,za.current=null===e||null===e.memoizedState?Ci:Ti,e=n(r,o),Za){a=0;do{if(Za=!1,!(25>a))throw Error(i(301));a+=1,Xa=Ya=null,t.updateQueue=null,za.current=xi,e=n(r,o)}while(Za)}if(za.current=ki,t=null!==Ya&&null!==Ya.next,$a=0,Xa=Ya=Ja=null,Qa=!1,t)throw Error(i(300));return e}function ri(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xa?Ja.memoizedState=Xa=e:Xa=Xa.next=e,Xa}function oi(){if(null===Ya){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=Ya.next;var t=null===Xa?Ja.memoizedState:Xa.next;if(null!==t)Xa=t,Ya=e;else{if(null===e)throw Error(i(310));e={memoizedState:(Ya=e).memoizedState,baseState:Ya.baseState,baseQueue:Ya.baseQueue,queue:Ya.queue,next:null},null===Xa?Ja.memoizedState=Xa=e:Xa=Xa.next=e}return Xa}function ai(e,t){return"function"==typeof t?t(e):t}function ii(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=Ya,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var c=s=a=null,u=o;do{var l=u.lane;if(($a&l)===l)null!==c&&(c=c.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var _={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=_,a=r):c=c.next=_,Ja.lanes|=l,Ss|=l}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=s,ir(r,t.memoizedState)||(Ai=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function si(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);ir(a,t.memoizedState)||(Ai=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ci(e,t,n){var r=t._getVersion;r=r(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,qa.push(t))),e)return n(t._source);throw qa.push(t),Error(i(350))}function ui(e,t,n,r){var o=Ps;if(null===o)throw Error(i(349));var a=t._getVersion,s=a(t._source),c=za.current,u=c.useState((function(){return ci(o,t,n)})),l=u[1],_=u[0];u=Xa;var d=e.memoizedState,p=d.refs,f=p.getSnapshot,h=d.source;d=d.subscribe;var m=Ja;return e.memoizedState={refs:p,source:t,subscribe:r},c.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var e=a(t._source);if(!ir(s,e)){e=n(t._source),ir(_,e)||(l(e),e=ic(m),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,i=e;0<i;){var c=31-Ht(i),u=1<<c;r[c]|=e,i&=~u}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=ic(m);o.mutableReadLanes|=r&o.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ir(f,n)&&ir(h,t)&&ir(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ai,lastRenderedState:_}).dispatch=l=Pi.bind(null,Ja,e),u.queue=e,u.baseQueue=null,_=ci(o,t,n),u.memoizedState=u.baseState=_),_}function li(e,t,n){return ui(oi(),e,t,n)}function _i(e){var t=ri();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e}).dispatch=Pi.bind(null,Ja,e),[t.memoizedState,e]}function di(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pi(e){return e={current:e},ri().memoizedState=e}function fi(){return oi().memoizedState}function hi(e,t,n,r){var o=ri();Ja.flags|=e,o.memoizedState=di(1|t,n,void 0,void 0===r?null:r)}function mi(e,t,n,r){var o=oi();r=void 0===r?null:r;var a=void 0;if(null!==Ya){var i=Ya.memoizedState;if(a=i.destroy,null!==r&&ti(r,i.deps))return void di(t,n,a,r)}Ja.flags|=e,o.memoizedState=di(1|t,n,a,r)}function bi(e,t){return hi(516,4,e,t)}function gi(e,t){return mi(516,4,e,t)}function vi(e,t){return mi(4,2,e,t)}function yi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oi(e,t,n){return n=null!=n?n.concat([e]):null,mi(4,2,yi.bind(null,t,e),n)}function wi(){}function Ei(e,t){var n=oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ti(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ji(e,t){var n=oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ti(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Di(e,t){var n=Fo();Ko(98>n?98:n,(function(){e(!0)})),Ko(97<n?97:n,(function(){var n=Ga.transition;Ga.transition=1;try{e(!1),t()}finally{Ga.transition=n}}))}function Pi(e,t,n){var r=ac(),o=ic(e),a={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===Ja||null!==i&&i===Ja)Za=Qa=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=i(s,n);if(a.eagerReducer=i,a.eagerState=c,ir(c,s))return}catch(e){}sc(e,o,r)}}var ki={readContext:na,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useOpaqueIdentifier:ei,unstable_isNewReconciler:!1},Ci={readContext:na,useCallback:function(e,t){return ri().memoizedState=[e,void 0===t?null:t],e},useContext:na,useEffect:bi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,hi(4,2,yi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var n=ri();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ri();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pi.bind(null,Ja,e),[r.memoizedState,e]},useRef:pi,useState:_i,useDebugValue:wi,useDeferredValue:function(e){var t=_i(e),n=t[0],r=t[1];return bi((function(){var t=Ga.transition;Ga.transition=1;try{r(e)}finally{Ga.transition=t}}),[e]),n},useTransition:function(){var e=_i(!1),t=e[0];return pi(e=Di.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ri();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ui(r,e,t,n)},useOpaqueIdentifier:function(){if(Ra){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Vr++).toString(36))),Error(i(355))})),n=_i(t)[1];return 0==(2&Ja.mode)&&(Ja.flags|=516,di(5,(function(){n("r:"+(Vr++).toString(36))}),void 0,null)),t}return _i(t="r:"+(Vr++).toString(36)),t},unstable_isNewReconciler:!1},Ti={readContext:na,useCallback:Ei,useContext:na,useEffect:gi,useImperativeHandle:Oi,useLayoutEffect:vi,useMemo:ji,useReducer:ii,useRef:fi,useState:function(){return ii(ai)},useDebugValue:wi,useDeferredValue:function(e){var t=ii(ai),n=t[0],r=t[1];return gi((function(){var t=Ga.transition;Ga.transition=1;try{r(e)}finally{Ga.transition=t}}),[e]),n},useTransition:function(){var e=ii(ai)[0];return[fi().current,e]},useMutableSource:li,useOpaqueIdentifier:function(){return ii(ai)[0]},unstable_isNewReconciler:!1},xi={readContext:na,useCallback:Ei,useContext:na,useEffect:gi,useImperativeHandle:Oi,useLayoutEffect:vi,useMemo:ji,useReducer:si,useRef:fi,useState:function(){return si(ai)},useDebugValue:wi,useDeferredValue:function(e){var t=si(ai),n=t[0],r=t[1];return gi((function(){var t=Ga.transition;Ga.transition=1;try{r(e)}finally{Ga.transition=t}}),[e]),n},useTransition:function(){var e=si(ai)[0];return[fi().current,e]},useMutableSource:li,useOpaqueIdentifier:function(){return si(ai)[0]},unstable_isNewReconciler:!1},Ii=O.ReactCurrentOwner,Ai=!1;function Mi(e,t,n,r){t.child=null===e?Ea(t,null,n,r):wa(t,e.child,n,r)}function Si(e,t,n,r,o){n=n.render;var a=t.ref;return ta(t,o),r=ni(e,t,n,r,a,o),null===e||Ai?(t.flags|=1,Mi(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,es(e,t,o))}function Li(e,t,n,r,o,a){if(null===e){var i=n.type;return"function"!=typeof i||Nc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Bi(e,t,i,r,o,a))}return i=e.child,0==(o&a)&&(o=i.memoizedProps,(n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)?es(e,t,a):(t.flags|=1,(e=Uc(i,r)).ref=t.ref,e.return=t,t.child=e)}function Bi(e,t,n,r,o,a){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(Ai=!1,0==(a&o))return t.lanes=e.lanes,es(e,t,a);0!=(16384&e.flags)&&(Ai=!0)}return Ui(e,t,n,r,a)}function Ri(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},hc(t,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},hc(t,e),null;t.memoizedState={baseLanes:0},hc(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,hc(t,r);return Mi(e,t,o,n),t.child}function Ni(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ui(e,t,n,r,o){var a=po(n)?lo:co.current;return a=_o(t,a),ta(t,o),n=ni(e,t,n,r,a,o),null===e||Ai?(t.flags|=1,Mi(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,es(e,t,o))}function Fi(e,t,n,r,o){if(po(n)){var a=!0;bo(t)}else a=!1;if(ta(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ha(t,n,r),ba(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,u=n.contextType;"object"==typeof u&&null!==u?u=na(u):u=_o(t,u=po(n)?lo:co.current);var l=n.getDerivedStateFromProps,_="function"==typeof l||"function"==typeof i.getSnapshotBeforeUpdate;_||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||c!==u)&&ma(t,i,r,u),ra=!1;var d=t.memoizedState;i.state=d,ua(t,r,i,o),c=t.memoizedState,s!==r||d!==c||uo.current||ra?("function"==typeof l&&(da(t,n,l,r),c=t.memoizedState),(s=ra||fa(t,n,s,r,d,c,u))?(_||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,aa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Go(t.type,s),i.props=u,_=t.pendingProps,d=i.context,"object"==typeof(c=n.contextType)&&null!==c?c=na(c):c=_o(t,c=po(n)?lo:co.current);var p=n.getDerivedStateFromProps;(l="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==_||d!==c)&&ma(t,i,r,c),ra=!1,d=t.memoizedState,i.state=d,ua(t,r,i,o);var f=t.memoizedState;s!==_||d!==f||uo.current||ra?("function"==typeof p&&(da(t,n,p,r),f=t.memoizedState),(u=ra||fa(t,n,u,r,d,f,c))?(l||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,c),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=c,r=u):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Wi(e,t,n,r,a,o)}function Wi(e,t,n,r,o,a){Ni(e,t);var i=0!=(64&t.flags);if(!r&&!i)return o&&go(t,n,!1),es(e,t,a);r=t.stateNode,Ii.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,s,a)):Mi(e,t,s,a),t.memoizedState=r.state,o&&go(t,n,!0),t.child}function Ki(e){var t=e.stateNode;t.pendingContext?ho(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ho(0,t.context,!1),Ta(e,t.containerInfo)}var Hi,qi,Vi,zi={dehydrated:null,retryLane:0};function Gi(e,t,n){var r,o=t.pendingProps,a=Ma.current,i=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),io(Ma,1&a),null===e?(void 0!==o.fallback&&Fa(t),e=o.children,a=o.fallback,i?(e=$i(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=zi,e):"number"==typeof o.unstable_expectedLoadTime?(e=$i(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=zi,t.lanes=33554432,e):((n=Kc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(o=Yi(e,t,o.children,o.fallback,n),i=t.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=zi,o):(n=Ji(e,t,o.children,n),t.memoizedState=null,n))}function $i(e,t,n,r){var o=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&o)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Kc(t,o,0,null),n=Wc(n,o,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Ji(e,t,n,r){var o=e.child;return e=o.sibling,n=Uc(o,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Yi(e,t,n,r,o){var a=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:n};return 0==(2&a)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=s,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Uc(i,s),null!==e?r=Uc(e,r):(r=Wc(r,a,o,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Xi(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ea(e.return,t)}function Qi(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.lastEffect=a)}function Zi(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Mi(e,t,r.children,n),0!=(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xi(e,n);else if(19===e.tag)Xi(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(io(Ma,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Sa(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Qi(t,!1,o,n,a,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Sa(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Qi(t,!0,n,null,a,t.lastEffect);break;case"together":Qi(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function es(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ss|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Uc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ts(e,t){if(!Ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ns(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return po(t.type)&&fo(),null;case 3:return xa(),ao(uo),ao(co),Va(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Aa(t);var a=Ca(ka.current);if(n=t.type,null!==e&&null!=t.stateNode)qi(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Ca(Da.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Gr]=t,r[$r]=s,n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(e=0;e<Or.length;e++)Dr(Or[e],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":ee(r,s),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Dr("invalid",r);break;case"textarea":ce(r,s),Dr("invalid",r)}for(var u in Ee(n,s),e=null,s)s.hasOwnProperty(u)&&(a=s[u],"children"===u?"string"==typeof a?r.textContent!==a&&(e=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(e=["children",""+a]):c.hasOwnProperty(u)&&null!=a&&"onScroll"===u&&Dr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Lr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===a.nodeType?a:a.ownerDocument,e===_e&&(e=pe(n)),e===_e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Gr]=t,e[$r]=r,Hi(e,t),t.stateNode=e,u=je(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),a=r;break;case"iframe":case"object":case"embed":Dr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)Dr(Or[a],e);a=r;break;case"source":Dr("error",e),a=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),a=r;break;case"details":Dr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Dr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=o({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ce(e,r),a=se(e,r),Dr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var _=l[s];"style"===s?Oe(e,_):"dangerouslySetInnerHTML"===s?null!=(_=_?_.__html:void 0)&&me(e,_):"children"===s?"string"==typeof _?("textarea"!==n||""!==_)&&be(e,_):"number"==typeof _&&be(e,""+_):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=_&&"onScroll"===s&&Dr("scroll",e):null!=_&&y(e,s,_,u))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ie(e,!!r.multiple,s,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Lr)}Nr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Vi(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));n=Ca(ka.current),Ca(Da.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return ao(Ma),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ma.current)?0===Is&&(Is=3):(0!==Is&&3!==Is||(Is=4),null===Ps||0==(134217727&Ss)&&0==(134217727&Ls)||_c(Ps,Cs))),(r||n)&&(t.flags|=4),null);case 4:return xa(),null===e&&kr(t.stateNode.containerInfo),null;case 10:return Zo(t),null;case 17:return po(t.type)&&fo(),null;case 19:if(ao(Ma),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(u=r.rendering))if(s)ts(r,!1);else{if(0!==Is||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Sa(e))){for(t.flags|=64,ts(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return io(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&Uo()>Us&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Sa(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ts(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Ra)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Uo()-r.renderingStartTime>Us&&1073741824!==n&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Uo(),n.sibling=null,t=Ma.current,io(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return mc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function rs(e){switch(e.tag){case 1:po(e.type)&&fo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(xa(),ao(uo),ao(co),Va(),0!=(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Aa(e),null;case 13:return ao(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ao(Ma),null;case 4:return xa(),null;case 10:return Zo(e),null;case 23:case 24:return mc(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function as(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Hi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ca(Da.current);var i,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Lr)}for(_ in Ee(n,r),n=null,a)if(!r.hasOwnProperty(_)&&a.hasOwnProperty(_)&&null!=a[_])if("style"===_){var u=a[_];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==_&&"children"!==_&&"suppressContentEditableWarning"!==_&&"suppressHydrationWarning"!==_&&"autoFocus"!==_&&(c.hasOwnProperty(_)?s||(s=[]):(s=s||[]).push(_,null));for(_ in r){var l=r[_];if(u=null!=a?a[_]:void 0,r.hasOwnProperty(_)&&l!==u&&(null!=l||null!=u))if("style"===_)if(u){for(i in u)!u.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&u[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(_,n)),n=l;else"dangerouslySetInnerHTML"===_?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(_,l)):"children"===_?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(_,""+l):"suppressContentEditableWarning"!==_&&"suppressHydrationWarning"!==_&&(c.hasOwnProperty(_)?(null!=l&&"onScroll"===_&&Dr("scroll",e),s||u===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(_,l))}n&&(s=s||[]).push("style",n);var _=s;(t.updateQueue=_)&&(t.flags|=4)}},Vi=function(e,t,n,r){n!==r&&(t.flags|=4)};var is="function"==typeof WeakMap?WeakMap:Map;function ss(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,qs=r),as(0,t)},n}function cs(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return as(0,t),r(o)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Vs?Vs=new Set([this]):Vs.add(this),as(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function ls(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Mc(e,t)}else t.current=null}function _s(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Go(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(i(163))}function ds(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;r=o.next,0!=(4&(o=o.tag))&&0!=(1&o)&&(xc(n,e),Tc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Go(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&la(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}la(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Nr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ot(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(i(163))}function ps(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,r.style.display=ye("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function fs(e,t){if(yo&&"function"==typeof yo.onCommitFiberUnmount)try{yo.onCommitFiberUnmount(vo,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!=(4&r))xc(t,n);else{r=t;try{o()}catch(e){Mc(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ls(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Mc(t,e)}break;case 5:ls(t);break;case 4:gs(e,t)}}function hs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,a=5===o||6===o;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Lr));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,a=5===o||6===o;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function gs(e,t){for(var n,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(i(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,u=c;;)if(fs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(fs(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function vs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var o=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),je(e,o),t=je(e,r),o=0;o<a.length;o+=2){var s=a[o],c=a[o+1];"style"===s?Oe(n,c):"dangerouslySetInnerHTML"===s?me(n,c):"children"===s?be(n,c):y(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ie(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ot(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Ns=Uo(),ps(t.child,!0)),void ys(t);case 19:return void ys(t);case 17:return;case 23:case 24:return void ps(t,null!==t.memoizedState)}throw Error(i(163))}function ys(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ws=Math.ceil,Es=O.ReactCurrentDispatcher,js=O.ReactCurrentOwner,Ds=0,Ps=null,ks=null,Cs=0,Ts=0,xs=oo(0),Is=0,As=null,Ms=0,Ss=0,Ls=0,Bs=0,Rs=null,Ns=0,Us=1/0;function Fs(){Us=Uo()+500}var Ws,Ks=null,Hs=!1,qs=null,Vs=null,zs=!1,Gs=null,$s=90,Js=[],Ys=[],Xs=null,Qs=0,Zs=null,ec=-1,tc=0,nc=0,rc=null,oc=!1;function ac(){return 0!=(48&Ds)?Uo():-1!==ec?ec:ec=Uo()}function ic(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Fo()?1:2;if(0===tc&&(tc=Ms),0!==zo.transition){0!==nc&&(nc=null!==Rs?Rs.pendingLanes:0),e=tc;var t=4186112&~nc;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Fo(),0!=(4&Ds)&&98===e?e=Ut(12,tc):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),tc),e}function sc(e,t,n){if(50<Qs)throw Qs=0,Zs=null,Error(i(185));if(null===(e=cc(e,t)))return null;Kt(e,t,n),e===Ps&&(Ls|=t,4===Is&&_c(e,Cs));var r=Fo();1===t?0!=(8&Ds)&&0==(48&Ds)?dc(e):(uc(e,n),0===Ds&&(Fs(),qo())):(0==(4&Ds)||98!==r&&99!==r||(null===Xs?Xs=new Set([e]):Xs.add(e)),uc(e,n)),Rs=e}function cc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function uc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Ht(s),u=1<<c,l=a[c];if(-1===l){if(0==(u&r)||0!=(u&o)){l=t,Bt(u);var _=Lt;a[c]=10<=_?l+250:6<=_?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(r=Rt(e,e===Ps?Cs:0),t=Lt,0===r)null!==n&&(n!==Mo&&Eo(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mo&&Eo(n)}15===t?(n=dc.bind(null,e),null===Lo?(Lo=[n],Bo=wo(Co,Vo)):Lo.push(n),n=Mo):14===t?n=Ho(99,dc.bind(null,e)):n=Ho(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),lc.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function lc(e){if(ec=-1,nc=tc=0,0!=(48&Ds))throw Error(i(327));var t=e.callbackNode;if(Cc()&&e.callbackNode!==t)return null;var n=Rt(e,e===Ps?Cs:0);if(0===n)return null;var r=n,o=Ds;Ds|=16;var a=vc();for(Ps===e&&Cs===r||(Fs(),bc(e,r));;)try{wc();break}catch(t){gc(e,t)}if(Qo(),Es.current=a,Ds=o,null!==ks?r=0:(Ps=null,Cs=0,r=Is),0!=(Ms&Ls))bc(e,0);else if(0!==r){if(2===r&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Nt(e))&&(r=yc(e,n))),1===r)throw t=As,bc(e,0),_c(e,n),uc(e,Uo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:Dc(e);break;case 3:if(_c(e,n),(62914560&n)===n&&10<(r=Ns+500-Uo())){if(0!==Rt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){ac(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Fr(Dc.bind(null,e),r);break}Dc(e);break;case 4:if(_c(e,n),(4186112&n)===n)break;for(r=e.eventTimes,o=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>o&&(o=s),n&=~a}if(n=o,10<(n=(120>(n=Uo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ws(n/1960))-n)){e.timeoutHandle=Fr(Dc.bind(null,e),n);break}Dc(e);break;case 5:Dc(e);break;default:throw Error(i(329))}}return uc(e,Uo()),e.callbackNode===t?lc.bind(null,e):null}function _c(e,t){for(t&=~Bs,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function dc(e){if(0!=(48&Ds))throw Error(i(327));if(Cc(),e===Ps&&0!=(e.expiredLanes&Cs)){var t=Cs,n=yc(e,t);0!=(Ms&Ls)&&(n=yc(e,t=Rt(e,t)))}else n=yc(e,t=Rt(e,0));if(0!==e.tag&&2===n&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Nt(e))&&(n=yc(e,t))),1===n)throw n=As,bc(e,0),_c(e,t),uc(e,Uo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dc(e),uc(e,Uo()),null}function pc(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{0===(Ds=n)&&(Fs(),qo())}}function fc(e,t){var n=Ds;Ds&=-2,Ds|=8;try{return e(t)}finally{0===(Ds=n)&&(Fs(),qo())}}function hc(e,t){io(xs,Ts),Ts|=t,Ms|=t}function mc(){Ts=xs.current,ao(xs)}function bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&fo();break;case 3:xa(),ao(uo),ao(co),Va();break;case 5:Aa(r);break;case 4:xa();break;case 13:case 19:ao(Ma);break;case 10:Zo(r);break;case 23:case 24:mc()}n=n.return}Ps=e,ks=Uc(e.current,null),Cs=Ts=Ms=t,Is=0,As=null,Bs=Ls=Ss=0}function gc(e,t){for(;;){var n=ks;try{if(Qo(),za.current=ki,Qa){for(var r=Ja.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}Qa=!1}if($a=0,Xa=Ya=Ja=null,Za=!1,js.current=null,null===n||null===n.return){Is=1,As=t,ks=null;break}e:{var a=e,i=n.return,s=n,c=t;if(t=Cs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var _=0!=(1&Ma.current),d=i;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var h=d.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!_)}}if(p){var m=d.updateQueue;if(null===m){var b=new Set;b.add(u),d.updateQueue=b}else m.add(u);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ia(-1,1);g.tag=2,sa(s,g)}s.lanes|=1;break e}c=void 0,s=t;var v=a.pingCache;if(null===v?(v=a.pingCache=new is,c=new Set,v.set(u,c)):void 0===(c=v.get(u))&&(c=new Set,v.set(u,c)),!c.has(s)){c.add(s);var y=Sc.bind(null,a,u,s);u.then(y,y)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);c=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Is&&(Is=2),c=os(c,s),d=i;do{switch(d.tag){case 3:a=c,d.flags|=4096,t&=-t,d.lanes|=t,ca(d,ss(0,a,t));break e;case 1:a=c;var O=d.type,w=d.stateNode;if(0==(64&d.flags)&&("function"==typeof O.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Vs||!Vs.has(w)))){d.flags|=4096,t&=-t,d.lanes|=t,ca(d,cs(d,a,t));break e}}d=d.return}while(null!==d)}jc(n)}catch(e){t=e,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ki,null===e?ki:e}function yc(e,t){var n=Ds;Ds|=16;var r=vc();for(Ps===e&&Cs===t||bc(e,t);;)try{Oc();break}catch(t){gc(e,t)}if(Qo(),Ds=n,Es.current=r,null!==ks)throw Error(i(261));return Ps=null,Cs=0,Is}function Oc(){for(;null!==ks;)Ec(ks)}function wc(){for(;null!==ks&&!jo();)Ec(ks)}function Ec(e){var t=Ws(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,null===t?jc(e):ks=t,js.current=null}function jc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ns(n,t,Ts)))return void(ks=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ts)||0==(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=rs(t)))return n.flags&=2047,void(ks=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===Is&&(Is=5)}function Dc(e){var t=Fo();return Ko(99,Pc.bind(null,e,t)),null}function Pc(e,t){do{Cc()}while(null!==Gs);if(0!=(48&Ds))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,o=r,a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<a;){var u=31-Ht(a),l=1<<u;o[u]=0,s[u]=-1,c[u]=-1,a&=~l}if(null!==Xs&&0==(24&r)&&Xs.has(e)&&Xs.delete(e),e===Ps&&(ks=Ps=null,Cs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(o=Ds,Ds|=32,js.current=null,Br=$t,dr(s=_r())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(l=c.getSelection&&c.getSelection())&&0!==l.rangeCount){c=l.anchorNode,a=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{c.nodeType,u.nodeType}catch(e){c=null;break e}var _=0,d=-1,p=-1,f=0,h=0,m=s,b=null;t:for(;;){for(var g;m!==c||0!==a&&3!==m.nodeType||(d=_+a),m!==u||0!==l&&3!==m.nodeType||(p=_+l),3===m.nodeType&&(_+=m.nodeValue.length),null!==(g=m.firstChild);)b=m,m=g;for(;;){if(m===s)break t;if(b===c&&++f===a&&(d=_),b===u&&++h===l&&(p=_),null!==(g=m.nextSibling))break;b=(m=b).parentNode}m=g}c=-1===d||-1===p?null:{start:d,end:p}}else c=null;c=c||{start:0,end:0}}else c=null;Rr={focusedElem:s,selectionRange:c},$t=!1,rc=null,oc=!1,Ks=r;do{try{kc()}catch(e){if(null===Ks)throw Error(i(330));Mc(Ks,e),Ks=Ks.nextEffect}}while(null!==Ks);rc=null,Ks=r;do{try{for(s=e;null!==Ks;){var v=Ks.flags;if(16&v&&be(Ks.stateNode,""),128&v){var y=Ks.alternate;if(null!==y){var O=y.ref;null!==O&&("function"==typeof O?O(null):O.current=null)}}switch(1038&v){case 2:bs(Ks),Ks.flags&=-3;break;case 6:bs(Ks),Ks.flags&=-3,vs(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,vs(Ks.alternate,Ks);break;case 4:vs(Ks.alternate,Ks);break;case 8:gs(s,c=Ks);var w=c.alternate;hs(c),null!==w&&hs(w)}Ks=Ks.nextEffect}}catch(e){if(null===Ks)throw Error(i(330));Mc(Ks,e),Ks=Ks.nextEffect}}while(null!==Ks);if(O=Rr,y=_r(),v=O.focusedElem,s=O.selectionRange,y!==v&&v&&v.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(v.ownerDocument.documentElement,v)){null!==s&&dr(v)&&(y=s.start,void 0===(O=s.end)&&(O=y),"selectionStart"in v?(v.selectionStart=y,v.selectionEnd=Math.min(O,v.value.length)):(O=(y=v.ownerDocument||document)&&y.defaultView||window).getSelection&&(O=O.getSelection(),c=v.textContent.length,w=Math.min(s.start,c),s=void 0===s.end?w:Math.min(s.end,c),!O.extend&&w>s&&(c=s,s=w,w=c),c=lr(v,w),a=lr(v,s),c&&a&&(1!==O.rangeCount||O.anchorNode!==c.node||O.anchorOffset!==c.offset||O.focusNode!==a.node||O.focusOffset!==a.offset)&&((y=y.createRange()).setStart(c.node,c.offset),O.removeAllRanges(),w>s?(O.addRange(y),O.extend(a.node,a.offset)):(y.setEnd(a.node,a.offset),O.addRange(y))))),y=[];for(O=v;O=O.parentNode;)1===O.nodeType&&y.push({element:O,left:O.scrollLeft,top:O.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<y.length;v++)(O=y[v]).element.scrollLeft=O.left,O.element.scrollTop=O.top}$t=!!Br,Rr=Br=null,e.current=n,Ks=r;do{try{for(v=e;null!==Ks;){var E=Ks.flags;if(36&E&&ds(v,Ks.alternate,Ks),128&E){y=void 0;var j=Ks.ref;if(null!==j){var D=Ks.stateNode;switch(Ks.tag){case 5:y=D;break;default:y=D}"function"==typeof j?j(y):j.current=y}}Ks=Ks.nextEffect}}catch(e){if(null===Ks)throw Error(i(330));Mc(Ks,e),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,So(),Ds=o}else e.current=n;if(zs)zs=!1,Gs=e,$s=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((E=Ks).sibling=null,E.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Vs=null),1===r?e===Zs?Qs++:(Qs=0,Zs=e):Qs=0,n=n.stateNode,yo&&"function"==typeof yo.onCommitFiberRoot)try{yo.onCommitFiberRoot(vo,n,void 0,64==(64&n.current.flags))}catch(e){}if(uc(e,Uo()),Hs)throw Hs=!1,e=qs,qs=null,e;return 0!=(8&Ds)||qo(),null}function kc(){for(;null!==Ks;){var e=Ks.alternate;oc||null===rc||(0!=(8&Ks.flags)?Ze(Ks,rc)&&(oc=!0):13===Ks.tag&&Os(e,Ks)&&Ze(Ks,rc)&&(oc=!0));var t=Ks.flags;0!=(256&t)&&_s(e,Ks),0==(512&t)||zs||(zs=!0,Ho(97,(function(){return Cc(),null}))),Ks=Ks.nextEffect}}function Cc(){if(90!==$s){var e=97<$s?97:$s;return $s=90,Ko(e,Ic)}return!1}function Tc(e,t){Js.push(t,e),zs||(zs=!0,Ho(97,(function(){return Cc(),null})))}function xc(e,t){Ys.push(t,e),zs||(zs=!0,Ho(97,(function(){return Cc(),null})))}function Ic(){if(null===Gs)return!1;var e=Gs;if(Gs=null,0!=(48&Ds))throw Error(i(331));var t=Ds;Ds|=32;var n=Ys;Ys=[];for(var r=0;r<n.length;r+=2){var o=n[r],a=n[r+1],s=o.destroy;if(o.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===a)throw Error(i(330));Mc(a,e)}}for(n=Js,Js=[],r=0;r<n.length;r+=2){o=n[r],a=n[r+1];try{var c=o.create;o.destroy=c()}catch(e){if(null===a)throw Error(i(330));Mc(a,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Ds=t,qo(),!0}function Ac(e,t,n){sa(e,t=ss(0,t=os(n,t),1)),t=ac(),null!==(e=cc(e,1))&&(Kt(e,1,t),uc(e,t))}function Mc(e,t){if(3===e.tag)Ac(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ac(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Vs||!Vs.has(r))){var o=cs(n,e=os(t,e),1);if(sa(n,o),o=ac(),null!==(n=cc(n,1)))Kt(n,1,o),uc(n,o);else if("function"==typeof r.componentDidCatch&&(null===Vs||!Vs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ac(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Cs&n)===n&&(4===Is||3===Is&&(62914560&Cs)===Cs&&500>Uo()-Ns?bc(e,0):Bs|=n),uc(e,t)}function Lc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Fo()?1:2:(0===tc&&(tc=Ms),0===(t=Ft(62914560&~tc))&&(t=4194304))),n=ac(),null!==(e=cc(e,t))&&(Kt(e,t,n),uc(e,n))}function Bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Bc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Nc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case j:return Wc(n.children,o,a,t);case B:s=8,o|=16;break;case D:s=8,o|=1;break;case P:return(e=Rc(12,n,t,8|o)).elementType=P,e.type=P,e.lanes=a,e;case x:return(e=Rc(13,n,t,o)).type=x,e.elementType=x,e.lanes=a,e;case I:return(e=Rc(19,n,t,o)).elementType=I,e.lanes=a,e;case R:return Kc(n,o,a,t);case N:return(e=Rc(24,n,t,o)).elementType=N,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case C:s=9;break e;case T:s=11;break e;case A:s=14;break e;case M:s=16,r=null;break e;case S:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Wc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Kc(e,t,n,r){return(e=Rc(23,e,r,t)).elementType=R,e.lanes=n,e}function Hc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function qc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wt(0),this.expirationTimes=Wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.mutableSourceEagerHydrationData=null}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gc(e,t,n,r){var o=t.current,a=ac(),s=ic(o);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(po(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(i(171))}if(1===n.tag){var u=n.type;if(po(u)){n=mo(n,u,c);break e}}n=c}else n=so;return null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),sa(o,t),sc(o,s,a),s}function $c(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Jc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}function Xc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Vc(e,t,null!=n&&!0===n.hydrate),t=Rc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oa(t),e[Jr]=n.current,kr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var o=(t=r[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=$c(i);s.call(e)}}Gc(t,i,e,o)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Xc(e,0,t?{hydrate:!0}:void 0)}(n,r),i=a._internalRoot,"function"==typeof o){var c=o;o=function(){var e=$c(i);c.call(e)}}fc((function(){Gc(t,i,e,o)}))}return $c(i)}function eu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return zc(e,t,null,n)}Ws=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||uo.current)Ai=!0;else{if(0==(n&r)){switch(Ai=!1,t.tag){case 3:Ki(t),Ha();break;case 5:Ia(t);break;case 1:po(t.type)&&bo(t);break;case 4:Ta(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var o=t.type._context;io($o,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Gi(e,t,n):(io(Ma,1&Ma.current),null!==(t=es(e,t,n))?t.sibling:null);io(Ma,1&Ma.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Zi(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),io(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,Ri(e,t,n)}return es(e,t,n)}Ai=0!=(16384&e.flags)}else Ai=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=_o(t,co.current),ta(t,n),o=ni(null,t,r,e,o,n),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,po(r)){var a=!0;bo(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,oa(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&da(t,r,s,e),o.updater=pa,t.stateNode=o,o._reactInternals=t,ba(t,r,e,n),t=Wi(null,t,r,!0,a,n)}else t.tag=0,Mi(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(a=o._init)(o._payload),t.type=o,a=t.tag=function(e){if("function"==typeof e)return Nc(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(o),e=Go(o,e),a){case 0:t=Ui(null,t,o,e,n);break e;case 1:t=Fi(null,t,o,e,n);break e;case 11:t=Si(null,t,o,e,n);break e;case 14:t=Li(null,t,o,Go(o.type,e),r,n);break e}throw Error(i(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ui(e,t,r,o=t.elementType===r?o:Go(r,o),n);case 1:return r=t.type,o=t.pendingProps,Fi(e,t,r,o=t.elementType===r?o:Go(r,o),n);case 3:if(Ki(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,aa(e,t),ua(t,r,null,n),(r=t.memoizedState.element)===o)Ha(),t=es(e,t,n);else{if((a=(o=t.stateNode).hydrate)&&(Ba=Hr(t.stateNode.containerInfo.firstChild),La=t,a=Ra=!0),a){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(a=e[o])._workInProgressVersionPrimary=e[o+1],qa.push(a);for(n=Ea(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Mi(e,t,r,n),Ha();t=t.child}return t;case 5:return Ia(t),null===e&&Fa(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,Ur(r,o)?s=null:null!==a&&Ur(r,a)&&(t.flags|=16),Ni(e,t),Mi(e,t,s,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Gi(e,t,n);case 4:return Ta(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wa(t,null,r,n):Mi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Si(e,t,r,o=t.elementType===r?o:Go(r,o),n);case 7:return Mi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var c=t.type._context;if(io($o,c._currentValue),c._currentValue=a,null!==s)if(c=s.value,0===(a=ir(c,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823))){if(s.children===o.children&&!uo.current){t=es(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&a)){1===c.tag&&((l=ia(-1,n&-n)).tag=2,sa(c,l)),c.lanes|=n,null!==(l=c.alternate)&&(l.lanes|=n),ea(c.return,n),u.lanes|=n;break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Mi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,ta(t,n),r=r(o=na(o,a.unstable_observedBits)),t.flags|=1,Mi(e,t,r,n),t.child;case 14:return a=Go(o=t.type,t.pendingProps),Li(e,t,o,a=Go(o.type,a),r,n);case 15:return Bi(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Go(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,po(r)?(e=!0,bo(t)):e=!1,ta(t,n),ha(t,r,o),ba(t,r,o,n),Wi(null,t,r,!0,e,n);case 19:return Zi(e,t,n);case 23:case 24:return Ri(e,t,n)}throw Error(i(156,t.tag))},Xc.prototype.render=function(e){Gc(e,this._internalRoot,null,null)},Xc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gc(null,e,null,(function(){t[Jr]=null}))},et=function(e){13===e.tag&&(sc(e,4,ac()),Yc(e,4))},tt=function(e){13===e.tag&&(sc(e,67108864,ac()),Yc(e,67108864))},nt=function(e){if(13===e.tag){var t=ac(),n=ic(e);sc(e,n,t),Yc(e,n)}},rt=function(e,t){return t()},Pe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=eo(r);if(!o)throw Error(i(90));X(r),ne(r,o)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Ae=pc,Me=function(e,t,n,r,o){var a=Ds;Ds|=4;try{return Ko(98,e.bind(null,t,n,r,o))}finally{0===(Ds=a)&&(Fs(),qo())}},Se=function(){0==(49&Ds)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,uc(e,Uo())}))}qo()}(),Cc())},Le=function(e,t){var n=Ds;Ds|=2;try{return e(t)}finally{0===(Ds=n)&&(Fs(),qo())}};var tu={Events:[Qr,Zr,eo,xe,Ie,Cc,{current:!1}]},nu={findFiberByHostInstance:Xr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{vo=ou.inject(ru),yo=ou}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=eu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ds;if(0!=(48&n))return e(t);Ds|=1;try{if(e)return Ko(99,e.bind(null,t))}finally{Ds=n,qo()}},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.render=function(e,t,n){if(!Qc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(fc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=pc,t.unstable_createPortal=function(e,t){return eu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="17.0.2"},ylqs:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},yqpO:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));n("rGqo"),n("Btvt"),n("pIFo");var r=n("S6+Z"),o=n("TxR4"),a=n("vkmG");function i(e,t){if(browser.ipad||browser.iphone)return e;e=(e+"").replace(/&nbsp;/g," ").replace(/<br>/g,"\n");for(var n=0;n<2;n++)Object.keys(r.b).forEach(t=>{e.replace(r.b[t],(e,n,r,o)=>(n||"")+s(t)+(o||""))});return Object.keys(r.c).forEach(t=>{e=e.replace(r.c[t],(e,n,r)=>s(t)+(r||""))}),e=e.replace(/\n/g,"<br>"),t&&(e=e.replace(/\uFE0F/g,"").replace(Object(r.d)(),c)),e}function s(e,t,n,r){return!n&&t?t:r?`<i class="emoji @${e}" emoji="${e}"${t?` title="${t}"`:""}></i>`:`<img class="emoji" src="/emoji/e/${e}${window.devicePixelRatio>=2?"_2x":""}.png"${t?` alt="${t}"`:""}${browser.msie&&Number(browser.version)>8?' contenteditable="false"':""}>`}function c(e){return s(Object(o.c)(e),Object(a.b)(e),!0)}},yt8O:function(e,t,n){"use strict";var r=n("nGyu"),o=n("1TsA"),a=n("hPIQ"),i=n("aCFj");e.exports=n("Afnz")(Array,"Array",(function(e,t){this._t=i(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},zRwo:function(e,t,n){var r=n("6FMO");e.exports=function(e,t){return new(r(e))(t)}},zhAb:function(e,t,n){var r=n("aagx"),o=n("aCFj"),a=n("w2a5")(!1),i=n("YTvA")("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=i&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~a(u,n)||u.push(n));return u}},zjLC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n("07n8"),o=n("Iqrf"),a=n("pdqG"),i=Object(r.a)((function(e,t,n,r){var a;return Object(o.b)(e,t,r.gid,(null===(a=r.tabs[e])||void 0===a?void 0:a.hash)||"",n).then((function(){return r}))})),s=Object(r.b)((function(e,t,n,r,i){var s;return e.creating=!0,null===(s=e.longpoll)||void 0===s||s.pause(),Object(o.g)(e.writeHash,n,r,i).then((function(t){var n,r=t[0];return e.next_peer=r.peerId,e.tabs[r.peerId]=r,Object(a.g)(e,r,!1,(function(e){return[r.peerId].concat(e)})),null===(n=e.longpoll)||void 0===n||n.resume(),e})).then((function(e){return t?c(e,e.next_peer,t):e})).then((function(e){return e.creating=!1,e})).catch((function(t){var n;throw e.creating=!1,null===(n=e.longpoll)||void 0===n||n.resume(),t}))}));function c(e,t,n){return Object(o.i)(t,n,e.gid).then((function(){return e}))}var u=Object(r.b)((function(e,t,n){return Object(o.f)(t,n,e.tabs[t].hash||"").then((function(){var r=e.tabs[t];return r&&r.invitedByMessageRequest&&(r.invitedByMessageRequest=r.invitedByMessageRequest.filter((function(e){return e.id!==n}))),e}))})),l=Object(r.b)((function(e,t,n){var r=e.tabs[t];return Object(o.f)(t,n,r.hash||"",e.gid).then((function(){return r.memberIds=r.memberIds.filter((function(e){return e!==n})),r.adminIds=r.adminIds.filter((function(e){return e!==n})),r.membersCount=r.memberIds.length,e}))}))},zxIV:function(e,t,n){"use strict";n.d(t,"M",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"ub",(function(){return l})),n.d(t,"I",(function(){return _})),n.d(t,"J",(function(){return d})),n.d(t,"N",(function(){return p})),n.d(t,"O",(function(){return f})),n.d(t,"K",(function(){return h})),n.d(t,"L",(function(){return m})),n.d(t,"Y",(function(){return b})),n.d(t,"E",(function(){return g})),n.d(t,"F",(function(){return v})),n.d(t,"q",(function(){return y})),n.d(t,"r",(function(){return O})),n.d(t,"Z",(function(){return w})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return C})),n.d(t,"kb",(function(){return T})),n.d(t,"rb",(function(){return x})),n.d(t,"sb",(function(){return I})),n.d(t,"qb",(function(){return A})),n.d(t,"jb",(function(){return M})),n.d(t,"G",(function(){return S})),n.d(t,"w",(function(){return L})),n.d(t,"B",(function(){return B})),n.d(t,"D",(function(){return R})),n.d(t,"x",(function(){return N})),n.d(t,"A",(function(){return U})),n.d(t,"C",(function(){return F})),n.d(t,"p",(function(){return W})),n.d(t,"z",(function(){return K})),n.d(t,"y",(function(){return H})),n.d(t,"m",(function(){return q})),n.d(t,"v",(function(){return V})),n.d(t,"o",(function(){return z})),n.d(t,"n",(function(){return G})),n.d(t,"u",(function(){return $})),n.d(t,"ib",(function(){return J})),n.d(t,"eb",(function(){return Y})),n.d(t,"db",(function(){return X})),n.d(t,"R",(function(){return Q})),n.d(t,"t",(function(){return Z})),n.d(t,"s",(function(){return ee})),n.d(t,"xb",(function(){return te})),n.d(t,"bb",(function(){return ne})),n.d(t,"fb",(function(){return re})),n.d(t,"j",(function(){return oe})),n.d(t,"P",(function(){return ae})),n.d(t,"yb",(function(){return ie})),n.d(t,"f",(function(){return se})),n.d(t,"W",(function(){return ce})),n.d(t,"V",(function(){return ue})),n.d(t,"gb",(function(){return le})),n.d(t,"S",(function(){return _e})),n.d(t,"U",(function(){return de})),n.d(t,"Q",(function(){return pe})),n.d(t,"ab",(function(){return fe})),n.d(t,"c",(function(){return he})),n.d(t,"d",(function(){return me})),n.d(t,"mb",(function(){return be})),n.d(t,"nb",(function(){return ge})),n.d(t,"zb",(function(){return ve})),n.d(t,"Ab",(function(){return ye})),n.d(t,"pb",(function(){return Oe})),n.d(t,"T",(function(){return we})),n.d(t,"vb",(function(){return Ee})),n.d(t,"l",(function(){return je})),n.d(t,"e",(function(){return De})),n.d(t,"lb",(function(){return Pe})),n.d(t,"ob",(function(){return ke})),n.d(t,"i",(function(){return Ce})),n.d(t,"wb",(function(){return Te})),n.d(t,"X",(function(){return xe})),n.d(t,"Cb",(function(){return Ie})),n.d(t,"H",(function(){return Ae})),n.d(t,"Bb",(function(){return Me})),n.d(t,"tb",(function(){return Le})),n.d(t,"hb",(function(){return Be})),n.d(t,"cb",(function(){return Re})),n.d(t,"k",(function(){return Ne}));n("KKXr"),n("SRfc"),n("a1Th"),n("Btvt"),n("Oyvg"),n("pIFo");var r=n("t7n3"),o=n("Egk5"),a=n("gdug"),i=n("98sY");function s(e){return document.getElementById(e)}function c(e,t){return(t||document).querySelector(e)}function u(e,t){return(t||document).querySelectorAll(e)}function l(e,t){e&&(e.innerText=t)}function _(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}var d=e=>"string"==typeof e||"number"==typeof e?document.getElementById(e):e;function p(e,t){return(t=d(t)||document).getElementsByTagName(e)}function f(e,t){return(t=d(t)||document).querySelector&&t.querySelector(e)||p(e,t)[0]}function h(e,t,n){return t=d(t)||document,n=n||"*",e=("."+e).replace(/\s+/gm,"."),Array.prototype.slice.call(t.querySelectorAll(n+e))}function m(e,t,n){return n=n||"*",(t=d(t)||document).querySelector&&t.querySelector(n+("."+e).replace(/\s+/gm,"."))||h(e,t,n)[0]}function b(e,t,n){if(!(t=d(t)))return null;for(;n!==t&&(t=t.parentNode);)if(fe(t,e))return t;return null}function g(e,t){return(t||document).querySelectorAll(e)}function v(e,t){return(t||document).querySelector(e)}function y(e,t){return fe(t,e)?t:b(e,t)}function O(e,t){return e=e.toUpperCase(),t.nodeType===Node.ELEMENT_NODE&&t.tagName.toUpperCase()===e?t:w(e,t)}function w(e,t){if(!(t=d(t)))return null;for(e=e.toUpperCase();t=t.parentNode;)if(t.tagName&&t.tagName.toUpperCase()===e)return t;return null}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=document.createElement(e);return t&&Object(r.i)(o,t),n&&Ee(o,n),o}var j,D,P,k,C=(j=document,D=j.createDocumentFragment(),P=j.createElement("div"),k=j.createRange&&j.createRange(),D.appendChild(P),k&&k.selectNodeContents(P),k&&k.createContextualFragment?e=>e?k.createContextualFragment(e):j.createDocumentFragment():e=>{if(!e)return j.createDocumentFragment();P.innerHTML=e;for(var t=j.createDocumentFragment();P.firstChild;)t.appendChild(P.firstChild);return t});function T(e){return(e=d(e))&&e.parentNode&&e.parentNode.removeChild(e),e}var x=e=>N(E("div",{innerHTML:e})),I=e=>W(E("div",{innerHTML:e}));function A(e,t){return Object(r.f)(t,(function(t,n){e=e.replace(new RegExp("%"+t+"%","g"),(void 0===n?"":n).toString().replace(/\$/g,"&#036;"))})),e}function M(e){return"https:"!==locProtocol?e:e=(e=(e=(e=(e=e.replace(/http:\/\/(cs(\d+)\.vk\.me\/c(\d+)\/)/gi,"https://$1")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/c(\d+)\/(v\d+\/|[a-z0-9\/_:\-]+\.jpg)/gi,"https://pp.vk.me/c$3/$4")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/([a-z0-9\/_:\-]+\.jpg)/gi,"https://pp.vk.me/c$1/$3")).replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\//gi,"https://ps.vk.me/c$1/")).replace(/http:\/\/video(\d+)\.vkadre\.ru\//gi,"https://ps.vk.me/v$1/")}function S(e,t){return Object(r.A)(t)&&(t=x(t)),F(e).replaceChild(t,e),t}function L(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}var B=e=>L((e||{}).nextSibling),R=e=>L((e||{}).previousSibling,1),N=e=>L((e||{}).firstChild),U=e=>L((e||{}).lastChild,1),F=e=>(e||{}).parentNode;function W(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++)n[r].tagName&&t.push(n[r]);return t}function K(e,t){var n=F(t);return n&&n.insertBefore(e,t)}function H(e,t){var n=F(t);return n&&n.insertBefore(e,B(t))}function q(e,t){return e?m(t,e):e}function V(e,t,n){return e?void 0!==n?(null===n?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,n),n):e.getAttribute("data-"+t):null}function z(e){for(var t=0;null!=(e=R(e));)t++;return t}function G(e,t){do{e=F(e)}while(e&&!J(e,t));return e}function $(e,t,n){for(var r=null;null===r&&e;)(e=-1===n?R(e):B(e))&&J(e,t)&&(r=e);return r}function J(e,t){return!(!(e=d(e))||e===document)&&(e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}).call(e,t)}function Y(e){return J(e,":hover")}function X(e,t){var n=d(e);if(t=d(t),!e||!t)return!1;for(;n=n.parentNode;)if(n===t)return!0;return!1}function Q(){var e=a.a.msie6?d("PageContainer"):document.body,t=document.documentElement;return[e.scrollLeft||t.scrollLeft||window.pageXOffset||0,e.scrollTop||t.scrollTop||window.pageYOffset||0,t.clientWidth||e.clientWidth||0,t.clientHeight||e.clientHeight||0]}function Z(e,t){for(var n=(t=t||{}).fromEl||F(e),o=t.positions||["relative","absolute","fixed"];n&&n!==bodyNode;){var a=we(n,"position");if(Object(r.o)(a,o)&&(!t.noOverflow||"hidden"!==we(n,"overflow")))break;n=F(n)}return n}function ee(e,t){for(var n,r,o,i=e=d(e),s=!1;i&&i.tagName&&i!==bodyNode;){if(n=we(i,"position"),r=we(i,"overflow"),o=we(i,"transform"),t&&a.a.mozilla){if("page_wrap"!=i.id&&i!==e&&"visible"!==r&&("static"===n?!s||"relative"===s:"fixed"!==s))break}else if(i!==e&&"visible"!==r&&("static"===n?!s||"relative"===s:"fixed"!==s))break;"none"!==o?s=void 0:"static"!==n&&"fixed"!==s&&(s=n),i=F(i)}return i}function te(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)te(arguments[n]);else if((e=d(e))&&e.style){var r=e.olddisplay,o=e.tagName.toLowerCase(),i="block";e.style.display=r||"","none"===we(e,"display")&&(i=fe(e,"inline")||fe(e,"_inline")?"inline":fe(e,"_inline_block")?"inline-block":"tr"!==o||a.a.msie?"table"!==o||a.a.msie?"block":"table":"table-row",e.style.display=e.olddisplay=i)}}function ne(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)ne(arguments[n]);else if((e=d(e))&&e.style){var r=we(e,"display");e.olddisplay="none"!==r?r:"",e.style.display="none"}}function re(e){return!(!(e=d(e))||!e.style)&&"none"!==we(e,"display")}function oe(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function ae(e,t,n){n=n||0;var o=ue(e=d(e))[1],a=_e(e)[1],i=window,s=document.documentElement,c=Math.max(Object(r.r)(i.innerHeight),Object(r.r)(s.clientHeight)),u=d("page_header_cont"),l=s.scrollTop||bodyNode.scrollTop||window.scrollY||0,_=vk.staticheader?Math.max(0,_e(u)[1]-l):_e(u)[1];if(t){if(o+a<l+_+n)return o+a-l-_-n;if(o>l+c-n)return o-l-c+n}else{if(o<l+_+n)return o-l-_-n;if(o+a>l+c-n)return o+a-l-c+n}return 0}function ie(e,t){return void 0===t&&(t=!re(e)),t?te(e):ne(e),t}function se(e){return void 0!==e.getBoundingClientRect}function ce(e,t){var n;if(t&&"inline"===we(e,"display")){var r=e.getClientRects();n=r&&r[0]||e.getBoundingClientRect()}else n=e.getBoundingClientRect();return n}function ue(e,t){if(!(e=d(e)))return[0,0];var n=e.ownerDocument,r={top:0,left:0};if(!n)return[0,0];var o=n.documentElement;se(e)&&(r=ce(e,!0));var a=n===n.window?n:9===n.nodeType&&(n.defaultView||n.parentWindow);return[r.left+(t?0:a.pageXOffset||o.scrollLeft)-(o.clientLeft||0),r.top+(t?0:a.pageYOffset||o.scrollTop)-(o.clientTop||0)]}function le(e){return null!=e&&e===e.window}function _e(e,t,n){e=d(e);var o,a=document.documentElement,i=[0,0];if(t&&"border-box"===we(e,"boxSizing")&&(t=!1),e===document)i=[Math.max(a.clientWidth,bodyNode.scrollWidth,a.scrollWidth,bodyNode.offsetWidth,a.offsetWidth),Math.max(a.clientHeight,bodyNode.scrollHeight,a.scrollHeight,bodyNode.offsetHeight,a.offsetHeight)];else if(e){function s(){i=se(e)&&(o=ce(e,n))&&void 0!==o.width?[o.width,o.height]:[e.offsetWidth,e.offsetHeight],t&&Object(r.f)(i,(function(t,n){var o=t?["Top","Bottom"]:["Left","Right"];Object(r.f)(o,(function(){i[t]-=parseFloat(we(e,"padding"+this))||0,i[t]-=parseFloat(we(e,"border"+this+"Width"))||0}))}))}if(re(e))s();else{var c={position:"absolute",visibility:"hidden",display:"block"},u={},l=!1;e.style.cssText.indexOf("!important")>-1&&(l=e.style.cssText),Object(r.f)(c,(function(t,n){u[t]=e.style[t],e.style[t]=n})),s(),Object(r.f)(c,(function(t,n){e.style[t]=u[t]})),l&&(e.style.cssText=l)}}return i}function de(e){return _e(e)[0]}function pe(e){return _e(e)[1]}function fe(e,t){var n=d(e);return n&&n.classList&&n.classList.contains(t)}function he(e,t){var n=d(e);n&&n.classList&&(t.includes(" ")?` ${n.className} `.includes(` ${t} `)||(n.className=(n.className?n.className+" ":"")+t):t.length&&!n.classList.contains(t)&&n.classList.add(t))}var me=(e,t,n)=>{n=Object(r.D)(n),setTimeout(he.pbind(e,t),n)};function be(e,t){var n=d(e);t.length&&n&&n.classList&&n.classList.contains(t)&&n.classList.remove(t)}var ge=(e,t,n)=>{n=Object(r.D)(n),setTimeout(be.pbind(e,t),n)};function ve(e,t,n){var r=d(e);if(!t.length||!r||!r.classList)return!1;if(void 0===n)return r.classList.toggle(t);var o=r.classList.contains(t);return n&&!o?r.classList.add(t):!n&&o&&r.classList.remove(t),n}function ye(e,t,n,o){return o=Object(r.D)(o),void 0===n&&(n=!fe(e,t)),(n?me:ge)(e,t,o),n}function Oe(e,t,n){be(e,t),he(e,n)}function we(e,t,n){if(e=d(e),Object(r.t)(t)){var o={};return Object(r.f)(t,(t,n)=>o[n]=we(e,n)),o}if(!e)return"";if(void 0===n&&(n=!0),!n&&"opacity"===t&&a.a.msie){var i=e.style.filter;return i?i.indexOf("opacity=")>=0?parseFloat(i.match(/opacity=([^)]*)/)[1])/100+"":"1":""}if(!n&&e.style&&(e.style[t]||"height"===t))return e.style[t];var s,c=document.defaultView||window;if(c.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var u=c.getComputedStyle(e,null);u&&(s=u.getPropertyValue(t))}else if(e.currentStyle){if("opacity"===t&&a.a.msie){var l=e.currentStyle.filter;return l&&l.indexOf("opacity=")>=0?parseFloat(l.match(/opacity=([^)]*)/)[1])/100+"":"1"}var _=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}));"auto"===(s=e.currentStyle[t]||e.currentStyle[_])&&(s=0),s=(s+"").split(" "),Object(r.f)(s,(function(t,n){if(!/^\d+(px)?$/i.test(n)&&/^\d/.test(n)){var r=e.style,o=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left=n||0,s[t]=r.pixelLeft+"px",r.left=o,e.runtimeStyle.left=a}})),s=s.join(" ")}if(n&&("width"===t||"height"===t)){var p=_e(e,!0)[{width:0,height:1}[t]];s=(Object(r.r)(s)?Math.max(Object(r.k)(s),p):p)+"px"}return s}function Ee(e,t,n){if(e=d(e))if(Object(r.y)(t))Object(r.f)(t,(t,n)=>Ee(e,t,n));else if("opacity"===t)a.a.msie&&((n+"").length?e.style.filter=1!==n?"alpha(opacity="+100*n+")":"":e.style.cssText=e.style.cssText.replace(/filter\s*:[^;]*/gi,""),e.style.zoom=1),e.style.opacity!==n&&(e.style.opacity=n);else try{var o="number"==typeof n;o&&/height|width/i.test(t)&&(n=Math.abs(n)),n=o&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?n+"px":n,e.style[t]!==n&&(e.style[t]=n)}catch(e){Object(i.b)("setStyle error: ",[t,n],e)}}function je(e,t,n){if(!e)return!1;var r=e[vkExpand];return r||(r=e[vkExpand]=++vkUUID),void 0!==n&&(vkCache[r]||(vkCache[r]={},window.__debugMode&&(vkCache[r].__elem=e)),vkCache[r][t]=n),t?vkCache[r]&&vkCache[r][t]:r}function De(e,t,n){return e=d(e),void 0===n?e.getAttribute(t):(e.setAttribute(t,n),n)}function Pe(e){for(var t=0,n=arguments.length;t<n;++t){var r=arguments[t];if(void 0!==e[r])try{delete e[r]}catch(t){try{e.removeAttribute(r)}catch(e){}}}}function ke(e,t){var n=!!e&&e[vkExpand];if(n)if(t){if(vkCache[n]){delete vkCache[n][t],t="";var r=0;for(var a in vkCache[n])if("__elem"!==a){r++;break}r||ke(e)}}else Object(o.i)(e),Pe(e,vkExpand),delete vkCache[n]}function Ce(){for(var e=arguments,t=0;t<e.length;++t){var n=d(e[t]);n&&(ke(n),Pe(n,"btnevents"))}}function Te(e,t,n){if((e=d(e))&&!e.titleSet){if(t||(t=e),t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)e.setAttribute("title",n||e.innerText||e.textContent);else{var r=f("b",e);r&&(r.scrollWidth>r.clientWidth||r.scrollHeight>r.clientHeight)?e.setAttribute("title",n||e.innerText||e.textContent):e.removeAttribute("title")}e.titleSet=1}}function xe(){var e=d("zoom_test_1")||document.body.appendChild(E("div",{id:"zoom_test_1"},{left:"10%",position:"absolute",visibility:"hidden"}));return(d("zoom_test_2")||document.body.appendChild(E("div",{id:"zoom_test_2"},{left:e.offsetLeft+"px",position:"absolute",visibility:"hidden"}))).offsetLeft/e.offsetLeft}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(e=d(e))return void 0!==t&&(e.setValue?(e.setValue(t),!n&&e.phonblur&&e.phonblur()):"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value=t:void 0!==e.emojiId&&window.Emoji?Emoji.val(e,t):e.innerHTML=t,!n&&Object(o.k)(e,"valueChanged")),e.getValue?e.getValue():("INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value:e.innerHTML)||""}function Ae(e,t,n){e=d(e);try{if(e.focus(),void 0!==t&&!1!==t||(t=e.value.length),void 0!==n&&!1!==n||(n=t),e.setSelectionRange)e.setSelectionRange(t,n);else if(window.getSelection&&document.createRange){var r=document.createRange();r.selectNodeContents(e),r.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(r)}}catch(e){}}function Me(e,t,n){for(e=d(e),n=n||999;e&&!t(e);){if(0===--n)return!1;try{if((e=F(e))===document)return!1}catch(t){e=!1}}return e}window.cssTransformProp=function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var n in t)if(void 0!==e.style[t[n]+"Transform"])return t[n]+"Transform"}return"transform"}();var Se=!1;function Le(e){if(!Se)return window.document.title=Object(r.F)(e)}function Be(e){Se=e,e&&window.cur&&window.cur.destroy.push(()=>{Be(!1)})}function Re(){window.vkExpand=window.vkExpand||"VK"+Object(r.M)(),window.vkUUID=window.vkUUID||0,window.vkCache=window.vkCache||{}}var Ne=E}}]);try{stManager.done("dist/bundles/common.b44b9e4d0391198c29b2.js")}catch(e){}